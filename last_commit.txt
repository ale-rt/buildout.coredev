Repository: plone.openid


Branch: refs/heads/master
Date: 2016-02-11T21:46:07+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.openid/commit/2e2d9195c646686f47a477287e9938117eabdb9c

txt to rst

Files changed:
A CHANGES.rst
A README.rst
M MANIFEST.in
M setup.py
D CHANGES.txt
D README.txt

diff --git a/CHANGES.rst b/CHANGES.rst
new file mode 100644
index 0000000..6ddc82f
--- /dev/null
+++ b/CHANGES.rst
@@ -0,0 +1,114 @@
+Changelog
+=========
+
+2.0.5 (unreleased)
+------------------
+
+- Nothing changed yet.
+
+
+2.0.4 (2015-03-21)
+------------------
+
+- Removed unused testing code with dependency to PloneTestCase
+  [tomgross]
+
+
+2.0.3 (2015-02-11)
+------------------
+
+- Ported tests to plone.app.testing
+  [tomgross]
+
+
+2.0.2 (2013-12-07)
+------------------
+
+- Replace deprecated test assert statements.
+  [timo]
+
+- Use system random when available. This is part of the fix for
+  https://plone.org/products/plone/security/advisories/20121106/24
+  [davisagli]
+
+- Fixed extractCredentials to strip whitespaces around __ac_identity_url.
+  This fixes http://dev.plone.org/plone/ticket/11044
+  [datakurre]
+
+
+2.0.1 (2012-12-09)
+------------------
+
+- Fixed to store timestamp as part of nonce. This fixes
+  http://dev.plone.org/plone/ticket/11987
+  [datakurre]
+
+- Add MANIFEST.in.
+  [WouterVH]
+
+
+2.0 - 2010-07-18
+----------------
+
+- Package metadata cleanup and definition of all package dependencies.
+  [hannosch]
+
+- Relicense to BSD.
+  [Plone Foundation]
+
+- Refactor tests to be simple python test cases. This removes
+  all dependencies on Plone code.
+  [wichert]
+
+- Specify package dependencies.
+  [hannosch]
+
+- Handle the case where the handles for a given domain are empty but a
+  request for them is made anyway. This fixes
+  http://dev.plone.org/plone/ticket/9178
+  [jvloothuis]
+
+
+1.2 - 2008-08-19
+----------------
+
+- Fixed bug where you could not log in via OpenID, immediately log out,
+  and then immediately log in again.
+  [davisagli]
+
+- Upgraded to python-openid>=2.2.1 to fix handling of OpenID providers
+  that use identifier recycling.  (c.f.
+  http://developer.yahoo.com/openid/faq.html)  This closes
+  http://dev.plone.org/plone/ticket/8051.
+  [davisagli]
+
+- Use the OpenID "claimed identifier" so that the proper identity URL is
+  displayed when using delegation.
+  [davisagli]
+
+
+1.1 - 2008-04-21
+----------------
+
+- Writing test and fixes for bug #7176 whereby a traceback
+  was produced when an empty string identity was placed in the openid
+  login form.
+  [andrewb]
+
+- Do not enable OpenID support if python has no SSL support.
+  [wichert]
+
+
+1.0.1 - 2007-11-09
+------------------
+
+- Also accept https URLs as valid identifiers. This fixes
+  http://dev.plone.org/plone/ticket/7298
+  [wichert]
+
+
+1.0 - 2007-08-15
+----------------
+
+- First stable release
+  [wichert]
diff --git a/CHANGES.txt b/CHANGES.txt
deleted file mode 100644
index 6ddc82f..0000000
--- a/CHANGES.txt
+++ /dev/null
@@ -1,114 +0,0 @@
-Changelog
-=========
-
-2.0.5 (unreleased)
-------------------
-
-- Nothing changed yet.
-
-
-2.0.4 (2015-03-21)
-------------------
-
-- Removed unused testing code with dependency to PloneTestCase
-  [tomgross]
-
-
-2.0.3 (2015-02-11)
-------------------
-
-- Ported tests to plone.app.testing
-  [tomgross]
-
-
-2.0.2 (2013-12-07)
-------------------
-
-- Replace deprecated test assert statements.
-  [timo]
-
-- Use system random when available. This is part of the fix for
-  https://plone.org/products/plone/security/advisories/20121106/24
-  [davisagli]
-
-- Fixed extractCredentials to strip whitespaces around __ac_identity_url.
-  This fixes http://dev.plone.org/plone/ticket/11044
-  [datakurre]
-
-
-2.0.1 (2012-12-09)
-------------------
-
-- Fixed to store timestamp as part of nonce. This fixes
-  http://dev.plone.org/plone/ticket/11987
-  [datakurre]
-
-- Add MANIFEST.in.
-  [WouterVH]
-
-
-2.0 - 2010-07-18
-----------------
-
-- Package metadata cleanup and definition of all package dependencies.
-  [hannosch]
-
-- Relicense to BSD.
-  [Plone Foundation]
-
-- Refactor tests to be simple python test cases. This removes
-  all dependencies on Plone code.
-  [wichert]
-
-- Specify package dependencies.
-  [hannosch]
-
-- Handle the case where the handles for a given domain are empty but a
-  request for them is made anyway. This fixes
-  http://dev.plone.org/plone/ticket/9178
-  [jvloothuis]
-
-
-1.2 - 2008-08-19
-----------------
-
-- Fixed bug where you could not log in via OpenID, immediately log out,
-  and then immediately log in again.
-  [davisagli]
-
-- Upgraded to python-openid>=2.2.1 to fix handling of OpenID providers
-  that use identifier recycling.  (c.f.
-  http://developer.yahoo.com/openid/faq.html)  This closes
-  http://dev.plone.org/plone/ticket/8051.
-  [davisagli]
-
-- Use the OpenID "claimed identifier" so that the proper identity URL is
-  displayed when using delegation.
-  [davisagli]
-
-
-1.1 - 2008-04-21
-----------------
-
-- Writing test and fixes for bug #7176 whereby a traceback
-  was produced when an empty string identity was placed in the openid
-  login form.
-  [andrewb]
-
-- Do not enable OpenID support if python has no SSL support.
-  [wichert]
-
-
-1.0.1 - 2007-11-09
-------------------
-
-- Also accept https URLs as valid identifiers. This fixes
-  http://dev.plone.org/plone/ticket/7298
-  [wichert]
-
-
-1.0 - 2007-08-15
-----------------
-
-- First stable release
-  [wichert]
diff --git a/MANIFEST.in b/MANIFEST.in
index 48ebc74..01911b5 100644
--- a/MANIFEST.in
+++ b/MANIFEST.in
@@ -1,6 +1,6 @@
-include *.txt
+include *.rst
 
-recursive-include docs *
-recursive-include plone *
+graft docs
+graft plone
 
-global-exclude *pyc
\ No newline at end of file
+global-exclude *pyc
diff --git a/README.rst b/README.rst
new file mode 100644
index 0000000..ce6f824
--- /dev/null
+++ b/README.rst
@@ -0,0 +1,43 @@
+OpenID PAS support
+==================
+
+Introduction
+------------
+
+This product implements OpenID_ authentication support for Zope_ via a
+Pluggable Authentication Service plugin.
+
+Using this package everyone with an OpenID authentity will be able to
+login on your Zope site. OpenID accounts are not given any extra roles
+beyond the standard Authenticated role. This allows you to make a distinction
+between people that have explicitly signed up to your site and people
+who are unknown but have succesfully verified their identity.
+
+.. _Zope: http://www.zope.org/
+.. _OpenID: http://www.openidenabled.com/
+
+Authentication flow
+-------------------
+
+The OpenID authentication flow goes like this:
+
+- user submits a OpenID identity (which is a URL) to you site. This is
+  done through a HTTP POST using a form variable called ``__ac_identity_url``
+- the PAS plugin sees this variable during credential extraction and
+  initiates a OpenID challenge. This results in a transaction commit and
+  a redirect to an OpenID server.
+- the OpenID server takes care of authenticating the user and redirect the
+  user back to the Zope site.
+- the OpenID PAS plugin extracts the information passed in via the OpenID
+  server redirect and uses that in its authentication code to complete the
+  OpenID authentication
+
+Session management
+------------------
+
+The PAS plugin only takes care of authenticating users. In almost all
+environments it will be needed to also setup a session so users stay
+logged in when they visit another page. This can be done via a special
+session management PAS plugin, for example `plone.session`_.
+
+.. _plone.session: http://pypi.python.org/pypi/plone.session
diff --git a/README.txt b/README.txt
deleted file mode 100644
index ce6f824..0000000
--- a/README.txt
+++ /dev/null
@@ -1,43 +0,0 @@
-OpenID PAS support
-==================
-
-Introduction
-------------
-
-This product implements OpenID_ authentication support for Zope_ via a
-Pluggable Authentication Service plugin.
-
-Using this package everyone with an OpenID authentity will be able to
-login on your Zope site. OpenID accounts are not given any extra roles
-beyond the standard Authenticated role. This allows you to make a distinction
-between people that have explicitly signed up to your site and people
-who are unknown but have succesfully verified their identity.
-
-.. _Zope: http://www.zope.org/
-.. _OpenID: http://www.openidenabled.com/
-
-Authentication flow
--------------------
-
-The OpenID authentication flow goes like this:
-
-- user submits a OpenID identity (which is a URL) to you site. This is
-  done through a HTTP POST using a form variable called ``__ac_identity_url``
-- the PAS plugin sees this variable during credential extraction and
-  initiates a OpenID challenge. This results in a transaction commit and
-  a redirect to an OpenID server.
-- the OpenID server takes care of authenticating the user and redirect the
-  user back to the Zope site.
-- the OpenID PAS plugin extracts the information passed in via the OpenID
-  server redirect and uses that in its authentication code to complete the
-  OpenID authentication
-
-Session management
-------------------
-
-The PAS plugin only takes care of authenticating users. In almost all
-environments it will be needed to also setup a session so users stay
-logged in when they visit another page. This can be done via a special
-session management PAS plugin, for example `plone.session`_.
-
-.. _plone.session: http://pypi.python.org/pypi/plone.session
diff --git a/setup.py b/setup.py
index 915af2e..b8a2c1d 100644
--- a/setup.py
+++ b/setup.py
@@ -2,32 +2,33 @@
 
 version = '2.0.5.dev0'
 
-setup(name='plone.openid',
-      version=version,
-      description="OpenID authentication support for PAS",
-      long_description=open("README.txt").read() + '\n' +
-                       open("CHANGES.txt").read(),
-      classifiers=[
-          "Environment :: Web Environment",
-          "Framework :: Plone",
-          "Framework :: Plone :: 5.0",
-          "Framework :: Zope2",
-          "License :: OSI Approved :: BSD License",
-          "Operating System :: OS Independent",
-          "Programming Language :: Python",
-          "Programming Language :: Python :: 2.7",
-          "Topic :: System :: Systems Administration :: Authentication/Directory",
-        ],
-      keywords='PAS openid authentication',
-      author='Plone Foundation',
-      author_email='plone-developers@lists.sourceforge.net',
-      url='https://github.com/plone/plone.openid',
-      license='BSD',
-      packages=find_packages(exclude=['ez_setup']),
-      namespace_packages=['plone'],
-      include_package_data=True,
-      zip_safe=False,
-      install_requires=[
+setup(
+    name='plone.openid',
+    version=version,
+    description="OpenID authentication support for PAS",
+    long_description=(open("README.rst").read() + '\n' +
+                      open("CHANGES.rst").read()),
+    classifiers=[
+        "Environment :: Web Environment",
+        "Framework :: Plone",
+        "Framework :: Plone :: 5.0",
+        "Framework :: Zope2",
+        "License :: OSI Approved :: BSD License",
+        "Operating System :: OS Independent",
+        "Programming Language :: Python",
+        "Programming Language :: Python :: 2.7",
+        "Topic :: System :: Systems Administration :: Authentication/Directory",  # noqa
+    ],
+    keywords='PAS openid authentication',
+    author='Plone Foundation',
+    author_email='plone-developers@lists.sourceforge.net',
+    url='https://github.com/plone/plone.openid',
+    license='BSD',
+    packages=find_packages(exclude=['ez_setup']),
+    namespace_packages=['plone'],
+    include_package_data=True,
+    zip_safe=False,
+    install_requires=[
         'setuptools',
         'python-openid >=2.2.1,<2.3dev',
         'transaction',
@@ -35,5 +36,5 @@
         'Products.PluggableAuthService',
         'ZODB3',
         'Zope2',
-      ],
-      )
+    ],
+    )


