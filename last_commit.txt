Repository: mockup


Branch: refs/heads/master
Date: 2017-11-17T11:55:59+01:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/mockup/commit/6e397b380ebc28452c7d1eade00d56f5d26bc7e0

Related items pattern: Avoid double initialization of Select2.

Files changed:
M CHANGES.rst
M mockup/patterns/relateditems/pattern.js

diff --git a/CHANGES.rst b/CHANGES.rst
index c87ceb04..86c6bab7 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -15,6 +15,9 @@ New features:
 
 - Related items pattern:
 
+  - Avoid double initialization of Select2.
+  [thet]
+
   - Added options to change sorting.
   [Gagaro]
 
diff --git a/mockup/patterns/relateditems/pattern.js b/mockup/patterns/relateditems/pattern.js
index 1b7d348b..b4dea14f 100644
--- a/mockup/patterns/relateditems/pattern.js
+++ b/mockup/patterns/relateditems/pattern.js
@@ -286,10 +286,7 @@ define([
         }.bind(this)
 
       };
-
       this.options.ajax = ajax;
-      this.$el.select2(this.options);
-
     },
 
     setBreadCrumbs: function () {


Repository: mockup


Branch: refs/heads/master
Date: 2017-11-17T15:55:13+01:00
Author: agitator (agitator) <agitator@users.noreply.github.com>
Commit: https://github.com/plone/mockup/commit/2411ea9c11e04b2d295b7f8cf77e4578404e82ae

Merge pull request #823 from plone/thet-relateditems-nodoubleinit

Related items pattern: Avoid double initialization of Select2.

Files changed:
M CHANGES.rst
M mockup/patterns/relateditems/pattern.js

diff --git a/CHANGES.rst b/CHANGES.rst
index c87ceb04..86c6bab7 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -15,6 +15,9 @@ New features:
 
 - Related items pattern:
 
+  - Avoid double initialization of Select2.
+  [thet]
+
   - Added options to change sorting.
   [Gagaro]
 
diff --git a/mockup/patterns/relateditems/pattern.js b/mockup/patterns/relateditems/pattern.js
index 1b7d348b..b4dea14f 100644
--- a/mockup/patterns/relateditems/pattern.js
+++ b/mockup/patterns/relateditems/pattern.js
@@ -286,10 +286,7 @@ define([
         }.bind(this)
 
       };
-
       this.options.ajax = ajax;
-      this.$el.select2(this.options);
-
     },
 
     setBreadCrumbs: function () {


