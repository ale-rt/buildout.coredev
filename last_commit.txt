Repository: plone.keyring


Branch: refs/heads/master
Date: 2016-07-05T23:16:43+02:00
Author: Gil Forcada (gforcada) <gforcada@gnome.org>
Commit: https://github.com/plone/plone.keyring/commit/4f560e5959082bf57571d8fb600191ab2f383245

Use zope.interface decorator

This not only makes code more pleasent to read,
but also makes the code python 3 compatible
(while maintaining python 2 compatibility).

Files changed:
M CHANGES.rst
M plone/keyring/keymanager.py
M plone/keyring/keyring.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 7c66550..5921bba 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -11,7 +11,8 @@ New:
 
 Fixes:
 
-- *add item here*
+- Use zope.interface decorator.
+  [gforcada]
 
 
 3.0.1 (2015-05-11)
diff --git a/plone/keyring/keymanager.py b/plone/keyring/keymanager.py
index 68d7fe6..16989c4 100644
--- a/plone/keyring/keymanager.py
+++ b/plone/keyring/keymanager.py
@@ -1,13 +1,13 @@
 from persistent.mapping import PersistentMapping
 from zope.container.sample import SampleContainer
-from zope.interface import implements
+from zope.interface import implementer
 
 from plone.keyring.interfaces import IKeyManager
 from plone.keyring.keyring import Keyring
 
 
+@implementer(IKeyManager)
 class KeyManager(SampleContainer):
-    implements(IKeyManager)
 
     def __init__(self, keyring_size=5):
         SampleContainer.__init__(self)
diff --git a/plone/keyring/keyring.py b/plone/keyring/keyring.py
index da50011..dad8107 100644
--- a/plone/keyring/keyring.py
+++ b/plone/keyring/keyring.py
@@ -2,7 +2,7 @@
 from random import choice
 
 from persistent.list import PersistentList
-from zope.interface import implements
+from zope.interface import implementer
 from zope.location.interfaces import IContained
 
 from plone.keyring.interfaces import IKeyring
@@ -13,10 +13,9 @@ def GenerateSecret(length=64):
     return django_random.get_random_string(length)
 
 
+@implementer(IKeyring, IContained)
 class Keyring(PersistentList):
 
-    implements(IKeyring, IContained)
-
     __parent__ = __name__ = None
 
     last_rotation = 0


Repository: plone.keyring


Branch: refs/heads/master
Date: 2016-07-07T00:57:56+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.keyring/commit/38af501b10d73a9c5d36cac187eedf6c063ec1e2

Merge pull request #3 from plone/gforcada-use-zope-decorators

Use zope.interface decorator

Files changed:
M CHANGES.rst
M plone/keyring/keymanager.py
M plone/keyring/keyring.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 7c66550..5921bba 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -11,7 +11,8 @@ New:
 
 Fixes:
 
-- *add item here*
+- Use zope.interface decorator.
+  [gforcada]
 
 
 3.0.1 (2015-05-11)
diff --git a/plone/keyring/keymanager.py b/plone/keyring/keymanager.py
index 68d7fe6..16989c4 100644
--- a/plone/keyring/keymanager.py
+++ b/plone/keyring/keymanager.py
@@ -1,13 +1,13 @@
 from persistent.mapping import PersistentMapping
 from zope.container.sample import SampleContainer
-from zope.interface import implements
+from zope.interface import implementer
 
 from plone.keyring.interfaces import IKeyManager
 from plone.keyring.keyring import Keyring
 
 
+@implementer(IKeyManager)
 class KeyManager(SampleContainer):
-    implements(IKeyManager)
 
     def __init__(self, keyring_size=5):
         SampleContainer.__init__(self)
diff --git a/plone/keyring/keyring.py b/plone/keyring/keyring.py
index da50011..dad8107 100644
--- a/plone/keyring/keyring.py
+++ b/plone/keyring/keyring.py
@@ -2,7 +2,7 @@
 from random import choice
 
 from persistent.list import PersistentList
-from zope.interface import implements
+from zope.interface import implementer
 from zope.location.interfaces import IContained
 
 from plone.keyring.interfaces import IKeyring
@@ -13,10 +13,9 @@ def GenerateSecret(length=64):
     return django_random.get_random_string(length)
 
 
+@implementer(IKeyring, IContained)
 class Keyring(PersistentList):
 
-    implements(IKeyring, IContained)
-
     __parent__ = __name__ = None
 
     last_rotation = 0


