Repository: plone.dexterity


Branch: refs/heads/master
Date: 2016-07-05T23:15:16+02:00
Author: Gil Forcada (gforcada) <gforcada@gnome.org>
Commit: https://github.com/plone/plone.dexterity/commit/c2c68ef004e991f0d7b7af0765f473bc4d262b4a

Use zope.interface decorator

This not only makes code more pleasent to read,
but also makes the code python 3 compatible
(while maintaining python 2 compatibility).

Files changed:
M CHANGES.rst
M plone/dexterity/tests/test_webdav.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 57f8d85..aab11c9 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -15,7 +15,8 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Use zope.interface decorator.
+  [gforcada]
 
 
 2.4.2 (2016-05-12)
diff --git a/plone/dexterity/tests/test_webdav.py b/plone/dexterity/tests/test_webdav.py
index 02b7162..0b69ed3 100644
--- a/plone/dexterity/tests/test_webdav.py
+++ b/plone/dexterity/tests/test_webdav.py
@@ -35,7 +35,7 @@
 from zope.filerepresentation.interfaces import IRawWriteFile
 from zope.interface import Interface
 from zope.interface import alsoProvides
-from zope.interface import implements
+from zope.interface import implementer
 from zope.lifecycleevent.interfaces import IObjectModifiedEvent
 from zope.publisher.browser import TestRequest
 from zope.size.interfaces import ISized
@@ -199,8 +199,8 @@ def read(self, size=None):
         self.assertEqual(None, request.response.getHeader('Content-Length'))
 
     def test_get_streaming(self):
+        @implementer(IStreamIterator)
         class ReadFileAdapter(object):
-            implements(IStreamIterator)
 
             def __init__(self, context):
                 self.context = context


Repository: plone.dexterity


Branch: refs/heads/master
Date: 2016-07-07T00:51:14+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.dexterity/commit/6ce1debd53a9f2e2df28913e0afc57aa711be761

Merge pull request #58 from plone/gforcada-use-zope-decorators

Use zope.interface decorator

Files changed:
M CHANGES.rst
M plone/dexterity/tests/test_webdav.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 57f8d85..aab11c9 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -15,7 +15,8 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Use zope.interface decorator.
+  [gforcada]
 
 
 2.4.2 (2016-05-12)
diff --git a/plone/dexterity/tests/test_webdav.py b/plone/dexterity/tests/test_webdav.py
index 02b7162..0b69ed3 100644
--- a/plone/dexterity/tests/test_webdav.py
+++ b/plone/dexterity/tests/test_webdav.py
@@ -35,7 +35,7 @@
 from zope.filerepresentation.interfaces import IRawWriteFile
 from zope.interface import Interface
 from zope.interface import alsoProvides
-from zope.interface import implements
+from zope.interface import implementer
 from zope.lifecycleevent.interfaces import IObjectModifiedEvent
 from zope.publisher.browser import TestRequest
 from zope.size.interfaces import ISized
@@ -199,8 +199,8 @@ def read(self, size=None):
         self.assertEqual(None, request.response.getHeader('Content-Length'))
 
     def test_get_streaming(self):
+        @implementer(IStreamIterator)
         class ReadFileAdapter(object):
-            implements(IStreamIterator)
 
             def __init__(self, context):
                 self.context = context


