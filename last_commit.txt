Repository: archetypes.referencebrowserwidget


Branch: refs/heads/master
Date: 2016-07-05T23:10:32+02:00
Author: Gil Forcada (gforcada) <gforcada@gnome.org>
Commit: https://github.com/plone/archetypes.referencebrowserwidget/commit/cd9a2873d54c5e87912d39e63b3d02a3d9b9938e

Use zope.interface decorator

This not only makes code more pleasent to read,
but also makes the code python 3 compatible
(while maintaining python 2 compatibility).

Files changed:
M CHANGES.rst
M src/archetypes/referencebrowserwidget/browser/view.py

diff --git a/CHANGES.rst b/CHANGES.rst
index e3ec56d..80e01e3 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,7 +10,8 @@ New:
 
 Fixes:
 
-- *add item here*
+- Use zope.interface decorator.
+  [gforcada]
 
 
 2.5.7 (2016-02-12)
diff --git a/src/archetypes/referencebrowserwidget/browser/view.py b/src/archetypes/referencebrowserwidget/browser/view.py
index 782544b..cd8f27d 100644
--- a/src/archetypes/referencebrowserwidget/browser/view.py
+++ b/src/archetypes/referencebrowserwidget/browser/view.py
@@ -49,6 +49,7 @@
 _ = MessageFactory('atreferencebrowserwidget')
 
 
+@zope.interface.implementer(IReferenceBrowserHelperView)
 class ReferenceBrowserHelperView(BrowserView):
     """ A helper view for the reference browser widget.
 
@@ -57,8 +58,6 @@ class ReferenceBrowserHelperView(BrowserView):
         and can not be a view, since it is macro widget for Archetypes.
     """
 
-    zope.interface.implements(IReferenceBrowserHelperView)
-
     def getFieldRelations(self, field, value=None):
         """ Query relations of a field and a context.
 


Repository: archetypes.referencebrowserwidget


Branch: refs/heads/master
Date: 2016-07-09T08:51:59+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/archetypes.referencebrowserwidget/commit/3b1f4958f55a542bd8045df98ffbc2cb3df9e860

Merge pull request #33 from plone/gforcada-use-zope-decorators

Use zope.interface decorator

Files changed:
M CHANGES.rst
M src/archetypes/referencebrowserwidget/browser/view.py

diff --git a/CHANGES.rst b/CHANGES.rst
index e3ec56d..80e01e3 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,7 +10,8 @@ New:
 
 Fixes:
 
-- *add item here*
+- Use zope.interface decorator.
+  [gforcada]
 
 
 2.5.7 (2016-02-12)
diff --git a/src/archetypes/referencebrowserwidget/browser/view.py b/src/archetypes/referencebrowserwidget/browser/view.py
index 782544b..cd8f27d 100644
--- a/src/archetypes/referencebrowserwidget/browser/view.py
+++ b/src/archetypes/referencebrowserwidget/browser/view.py
@@ -49,6 +49,7 @@
 _ = MessageFactory('atreferencebrowserwidget')
 
 
+@zope.interface.implementer(IReferenceBrowserHelperView)
 class ReferenceBrowserHelperView(BrowserView):
     """ A helper view for the reference browser widget.
 
@@ -57,8 +58,6 @@ class ReferenceBrowserHelperView(BrowserView):
         and can not be a view, since it is macro widget for Archetypes.
     """
 
-    zope.interface.implements(IReferenceBrowserHelperView)
-
     def getFieldRelations(self, field, value=None):
         """ Query relations of a field and a context.
 


