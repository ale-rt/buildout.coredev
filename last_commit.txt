Repository: plone.app.users


Branch: refs/heads/master
Date: 2016-04-29T13:41:58+02:00
Author: Eric BREHAULT (ebrehault) <ebrehault@gmail.com>
Commit: https://github.com/plone/plone.app.users/commit/a93adc560d3eeffc744adaf44a1632e534191f64

Use ProtectedEmail for Email field factory

Files changed:
M CHANGES.rst
M plone/app/users/schema.py

diff --git a/CHANGES.rst b/CHANGES.rst
index a569c3c..5654679 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,6 +10,9 @@ Fixes:
   Fixes https://github.com/plone/Products.CMFPlone/issues/1499
   [kkhan]
 
+- Use ProtectedEmail for Email field factory
+  [ebrehault]
+
 
 2.3.5 (2016-02-11)
 ------------------
diff --git a/plone/app/users/schema.py b/plone/app/users/schema.py
index 2740523..ed80d92 100644
--- a/plone/app/users/schema.py
+++ b/plone/app/users/schema.py
@@ -62,7 +62,7 @@ def protected(self, field):
 )
 
 EmailFieldFactory = NotEditableFieldFactory(
-    ProtectedTextLine,
+    ProtectedEmail,
     _(u'label_email', default=u'E-mail'),
 )
 


Repository: plone.app.users


Branch: refs/heads/master
Date: 2016-04-29T19:38:15+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.users/commit/67c7632623fdd4a435ba19056a2483c035ed0152

Merge pull request #57 from plone/fix-email-factory

Use ProtectedEmail for Email field factory

Files changed:
M CHANGES.rst
M plone/app/users/schema.py

diff --git a/CHANGES.rst b/CHANGES.rst
index a569c3c..5654679 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,6 +10,9 @@ Fixes:
   Fixes https://github.com/plone/Products.CMFPlone/issues/1499
   [kkhan]
 
+- Use ProtectedEmail for Email field factory
+  [ebrehault]
+
 
 2.3.5 (2016-02-11)
 ------------------
diff --git a/plone/app/users/schema.py b/plone/app/users/schema.py
index 2740523..ed80d92 100644
--- a/plone/app/users/schema.py
+++ b/plone/app/users/schema.py
@@ -62,7 +62,7 @@ def protected(self, field):
 )
 
 EmailFieldFactory = NotEditableFieldFactory(
-    ProtectedTextLine,
+    ProtectedEmail,
     _(u'label_email', default=u'E-mail'),
 )
 


