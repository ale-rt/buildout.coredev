Repository: borg.localrole


Branch: refs/heads/master
Date: 2017-02-02T18:17:29+01:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/borg.localrole/commit/795ca5564728158904d8cb3faa450786ccdcf1a4

make test compatible with zope4

Files changed:
M borg/localrole/workspace.py

diff --git a/borg/localrole/workspace.py b/borg/localrole/workspace.py
index a1bea37..06b7292 100644
--- a/borg/localrole/workspace.py
+++ b/borg/localrole/workspace.py
@@ -67,7 +67,10 @@ def clra_cache_key(method, self, user, obj, object_roles):
           >>> from ZPublisher.HTTPRequest import HTTPRequest
           >>> request = HTTPRequest('', dict(HTTP_HOST='nohost:8080'), {})
 
-          >>> from Products.Five.zcml import load_config
+          >>> try:
+          >>>     from Zope2.App.zcml import load_config
+          >>> except ImportError:
+          >>>     from Products.Five.zcml import load_config
           >>> import zope.component
           >>> import zope.annotation
           >>> load_config('meta.zcml', zope.component)


