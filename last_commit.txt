Repository: plone.app.imaging


Branch: refs/heads/master
Date: 2017-02-02T16:48:41+01:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.imaging/commit/f16866d78d687d78cd4a79d12e15abde9cb86ca3

more testfixes with new testbrowser

Files changed:
M src/plone/app/imaging/tests/test_scaling.py

diff --git a/src/plone/app/imaging/tests/test_scaling.py b/src/plone/app/imaging/tests/test_scaling.py
index 1e3e75c..94795fc 100644
--- a/src/plone/app/imaging/tests/test_scaling.py
+++ b/src/plone/app/imaging/tests/test_scaling.py
@@ -162,19 +162,19 @@ def testPublishThumb(self):
         # first the image itself...
         browser = self.getBrowser(loggedIn=False)
         browser.open(base + '/foo')
-        self.assertEqual(browser.headers['status'], '200 Ok')
+        self.assertEqual(browser.headers['status'].upper(), '200 OK')
         self.assertEqual(browser.contents, data)
         self.assertEqual(browser.headers['Content-Type'], 'image/png')
         # then the field without a scale name
         browser.open(base + '/foo/image')
-        self.assertEqual(browser.headers['status'], '200 Ok')
+        self.assertEqual(browser.headers['status'].upper(), '200 OK')
         self.assertEqual(browser.contents, data)
         self.assertEqual(browser.headers['Content-Type'], 'image/png')
         # and last a scaled version
         # get a authenticated browser session
         browser = self.getBrowser()
         browser.open(base + '/foo/image_thumb')
-        self.assertEqual(browser.headers['status'], '200 Ok')
+        self.assertEqual(browser.headers['status'].upper(), '200 OK')
         self.assertEqual(browser.contents[1:4], 'PNG')
         self.assertEqual(browser.headers['Content-Type'], 'image/png')
         # make sure the traversal adapter was call in fact


