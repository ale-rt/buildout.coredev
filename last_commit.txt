Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2016-03-11T13:05:27+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.contenttypes/commit/4909d9ff16a78347ea01248509a490e0779cde90

Made xpath expression in test less restrictive.

This test was looking for a section with an id, but we should just look for an id.

There is a pull request in CMFPlone for changing the section back to a div,
and the tests would fail if that gets merged.
See https://github.com/plone/Products.CMFPlone/issues/1431

Files changed:
M CHANGES.rst
M plone/app/contenttypes/tests/robot/keywords.txt

diff --git a/CHANGES.rst b/CHANGES.rst
index 8a3c9bd..b2d0069 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,6 +14,9 @@ New:
 
 Fixes:
 
+- Made xpath expression in test less restrictive.
+  [maurits]
+
 - Register explicitly plone.app.event dependency on configure.zcml.
   [hvelarde]
 
diff --git a/plone/app/contenttypes/tests/robot/keywords.txt b/plone/app/contenttypes/tests/robot/keywords.txt
index d6aed53..4856ff9 100644
--- a/plone/app/contenttypes/tests/robot/keywords.txt
+++ b/plone/app/contenttypes/tests/robot/keywords.txt
@@ -83,8 +83,8 @@ the content area should not contain
 
 the collection should contain
   [Arguments]  ${title}
-  Wait until page contains element  xpath=//section[@id='content-core']
-  xpath should match x times  //section[@id='content-core']//*[@class='entry']//a[contains(text(), '${title}')]  1
+  Wait until page contains element  xpath=//*[@id='content-core']
+  xpath should match x times  //*[@id='content-core']//*[@class='entry']//a[contains(text(), '${title}')]  1
 
 
 the collection should not contain


Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2016-03-11T13:05:43+01:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.app.contenttypes/commit/3b19bd44025e92e7cb55592caca9276850ba1d52

Merge pull request #329 from plone/maurits-fix-html-validation

Made xpath expression in test less restrictive.

Files changed:
M CHANGES.rst
M plone/app/contenttypes/tests/robot/keywords.txt

diff --git a/CHANGES.rst b/CHANGES.rst
index 8a3c9bd..b2d0069 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,6 +14,9 @@ New:
 
 Fixes:
 
+- Made xpath expression in test less restrictive.
+  [maurits]
+
 - Register explicitly plone.app.event dependency on configure.zcml.
   [hvelarde]
 
diff --git a/plone/app/contenttypes/tests/robot/keywords.txt b/plone/app/contenttypes/tests/robot/keywords.txt
index d6aed53..4856ff9 100644
--- a/plone/app/contenttypes/tests/robot/keywords.txt
+++ b/plone/app/contenttypes/tests/robot/keywords.txt
@@ -83,8 +83,8 @@ the content area should not contain
 
 the collection should contain
   [Arguments]  ${title}
-  Wait until page contains element  xpath=//section[@id='content-core']
-  xpath should match x times  //section[@id='content-core']//*[@class='entry']//a[contains(text(), '${title}')]  1
+  Wait until page contains element  xpath=//*[@id='content-core']
+  xpath should match x times  //*[@id='content-core']//*[@class='entry']//a[contains(text(), '${title}')]  1
 
 
 the collection should not contain


