Repository: plonetheme.barceloneta


Branch: refs/heads/master
Date: 2016-03-11T12:56:19+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plonetheme.barceloneta/commit/4a59eae3b82cc022315e46162ecf59b0e9df5b1d

Fixed html validation: the contentinfo role is unnecessary for element footer.

Files changed:
M plonetheme/barceloneta/theme/index.html

diff --git a/plonetheme/barceloneta/theme/index.html b/plonetheme/barceloneta/theme/index.html
index e5ec563..a6bc4b2 100644
--- a/plonetheme/barceloneta/theme/index.html
+++ b/plonetheme/barceloneta/theme/index.html
@@ -57,7 +57,7 @@
         </main><!--/row-->
       </div><!--/container-->
     </div> <!--/outer-wrapper -->
-    <footer id="portal-footer-wrapper" role="contentinfo">
+    <footer id="portal-footer-wrapper">
       <div class="container" id="portal-footer"></div>
     </footer>
   </body>


Repository: plonetheme.barceloneta


Branch: refs/heads/master
Date: 2016-03-11T12:56:19+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plonetheme.barceloneta/commit/66457bc58be0eb53f611fe5403428340d6bb4dfc

Fixed html validation: element main does not need a role attribute.

Files changed:
M plonetheme/barceloneta/theme/index.html

diff --git a/plonetheme/barceloneta/theme/index.html b/plonetheme/barceloneta/theme/index.html
index a6bc4b2..6acd90d 100644
--- a/plonetheme/barceloneta/theme/index.html
+++ b/plonetheme/barceloneta/theme/index.html
@@ -47,7 +47,7 @@
         <div class="row">
           <aside id="global_statusmessage"></aside>
         </div>
-        <main id="main-container" class="row row-offcanvas row-offcanvas-right" role="main">
+        <main id="main-container" class="row row-offcanvas row-offcanvas-right">
           <div id="column1-container">
           </div>
           <div id="content-container">


Repository: plonetheme.barceloneta


Branch: refs/heads/master
Date: 2016-03-11T12:56:19+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plonetheme.barceloneta/commit/3c3f27256fb2e0245c2739f0e4950007b4e216e1

Fixed html validation: the banner role is unnecessary for element header.

Files changed:
M plonetheme/barceloneta/theme/index.html

diff --git a/plonetheme/barceloneta/theme/index.html b/plonetheme/barceloneta/theme/index.html
index 6acd90d..62ee586 100644
--- a/plonetheme/barceloneta/theme/index.html
+++ b/plonetheme/barceloneta/theme/index.html
@@ -21,7 +21,7 @@
     <section id="portal-toolbar">
     </section>
     <div class="outer-wrapper">
-      <header id="content-header" role="banner">
+      <header id="content-header">
         <div class="container">
           <header id="portal-top">
           </header>


Repository: plonetheme.barceloneta


Branch: refs/heads/master
Date: 2016-03-11T12:56:20+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plonetheme.barceloneta/commit/313a97bd7138bb6e8f59029fce7d8e74f5245caa

Fixed html validation: section lacks heading.

The portal-toolbar section was always empty for anonymous,
and it should have a heading.
Fixed this in the rules by removing #portal-toolbar for anonymous.

Files changed:
M plonetheme/barceloneta/theme/rules.xml

diff --git a/plonetheme/barceloneta/theme/rules.xml b/plonetheme/barceloneta/theme/rules.xml
index 4eb0c70..b38914c 100644
--- a/plonetheme/barceloneta/theme/rules.xml
+++ b/plonetheme/barceloneta/theme/rules.xml
@@ -101,6 +101,7 @@
 
   <!-- toolbar -->
   <replace css:theme="#portal-toolbar" css:content-children="#edit-bar" css:if-not-content=".ajax_load" css:if-content=".userrole-authenticated" />
+  <drop css:theme="#portal-toolbar" css:if-content=".userrole-anonymous" />
   <replace css:theme="#anonymous-actions" css:content-children="#portal-personaltools-wrapper" css:if-not-content=".ajax_load" css:if-content=".userrole-anonymous" />
 
 </rules>


Repository: plonetheme.barceloneta


Branch: refs/heads/master
Date: 2016-03-11T12:56:20+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plonetheme.barceloneta/commit/d92456d66ca73e2970f9020e6665b8d395fef2c7

Added changelog entry for html validation fixes.

Files changed:
M CHANGES.rst

diff --git a/CHANGES.rst b/CHANGES.rst
index acd831e..9508b39 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -21,6 +21,12 @@ Fixes:
 
 - Fix code analysis errors reported by http://jenkins.plone.org/view/Pkgs/job/package-plonetheme.barceloneta
   [gforcada]
+- Fixed html validation:
+  - section lacks heading
+  - the banner role is unnecessary for element header
+  - element main does not need a role attribute
+  - the contentinfo role is unnecessary for element footer.
+  [maurits]
 
 
 1.6.17 (2016-02-27)


Repository: plonetheme.barceloneta


Branch: refs/heads/master
Date: 2016-03-11T12:56:20+01:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plonetheme.barceloneta/commit/250bb901ca41a467f9ff3f4247b67f78cf2cbdce

Update CHANGES.rst

Files changed:
M CHANGES.rst

diff --git a/CHANGES.rst b/CHANGES.rst
index 9508b39..fd01574 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -21,10 +21,10 @@ Fixes:
 
 - Fix code analysis errors reported by http://jenkins.plone.org/view/Pkgs/job/package-plonetheme.barceloneta
   [gforcada]
+- Drop toolbar for anonymous users.
 - Fixed html validation:
-  - section lacks heading
-  - the banner role is unnecessary for element header
-  - element main does not need a role attribute
+  - the banner role is unnecessary for element header,
+  - element main does not need a role attribute,
   - the contentinfo role is unnecessary for element footer.
   [maurits]
 


Repository: plonetheme.barceloneta


Branch: refs/heads/master
Date: 2016-03-14T20:41:05+01:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plonetheme.barceloneta/commit/d5ca3a0b2ab3078b3948f0ac9addb467a2f015ec

Merge pull request #90 from plone/maurits-fix-html-validation

Fix html validation

Files changed:
M CHANGES.rst
M plonetheme/barceloneta/theme/index.html
M plonetheme/barceloneta/theme/rules.xml

diff --git a/CHANGES.rst b/CHANGES.rst
index acd831e..fd01574 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -21,6 +21,12 @@ Fixes:
 
 - Fix code analysis errors reported by http://jenkins.plone.org/view/Pkgs/job/package-plonetheme.barceloneta
   [gforcada]
+- Drop toolbar for anonymous users.
+- Fixed html validation:
+  - the banner role is unnecessary for element header,
+  - element main does not need a role attribute,
+  - the contentinfo role is unnecessary for element footer.
+  [maurits]
 
 
 1.6.17 (2016-02-27)
diff --git a/plonetheme/barceloneta/theme/index.html b/plonetheme/barceloneta/theme/index.html
index e5ec563..62ee586 100644
--- a/plonetheme/barceloneta/theme/index.html
+++ b/plonetheme/barceloneta/theme/index.html
@@ -21,7 +21,7 @@
     <section id="portal-toolbar">
     </section>
     <div class="outer-wrapper">
-      <header id="content-header" role="banner">
+      <header id="content-header">
         <div class="container">
           <header id="portal-top">
           </header>
@@ -47,7 +47,7 @@
         <div class="row">
           <aside id="global_statusmessage"></aside>
         </div>
-        <main id="main-container" class="row row-offcanvas row-offcanvas-right" role="main">
+        <main id="main-container" class="row row-offcanvas row-offcanvas-right">
           <div id="column1-container">
           </div>
           <div id="content-container">
@@ -57,7 +57,7 @@
         </main><!--/row-->
       </div><!--/container-->
     </div> <!--/outer-wrapper -->
-    <footer id="portal-footer-wrapper" role="contentinfo">
+    <footer id="portal-footer-wrapper">
       <div class="container" id="portal-footer"></div>
     </footer>
   </body>
diff --git a/plonetheme/barceloneta/theme/rules.xml b/plonetheme/barceloneta/theme/rules.xml
index 4eb0c70..b38914c 100644
--- a/plonetheme/barceloneta/theme/rules.xml
+++ b/plonetheme/barceloneta/theme/rules.xml
@@ -101,6 +101,7 @@
 
   <!-- toolbar -->
   <replace css:theme="#portal-toolbar" css:content-children="#edit-bar" css:if-not-content=".ajax_load" css:if-content=".userrole-authenticated" />
+  <drop css:theme="#portal-toolbar" css:if-content=".userrole-anonymous" />
   <replace css:theme="#anonymous-actions" css:content-children="#portal-personaltools-wrapper" css:if-not-content=".ajax_load" css:if-content=".userrole-anonymous" />
 
 </rules>


