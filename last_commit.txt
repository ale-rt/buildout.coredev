Repository: plone.app.redirector


Branch: refs/heads/master
Date: 2017-01-07T22:39:13-08:00
Author: David Glick (davisagli) <david@glicksoftware.com>
Commit: https://github.com/plone/plone.app.redirector/commit/9d5a98d6aa436fc09e887308a547bbacb1dc2ab2

don't test repr of tree iterator

Files changed:
M CHANGES.rst
M plone/app/redirector/storage.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 8d8e7ac..3dae2bd 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -17,6 +17,9 @@ Bug fixes:
 - Add coding header on python files.
   [gforcada]
 
+- Fix test when running with ZODB 4.
+  [davisagli]
+
 1.3.2 (2016-08-18)
 ------------------
 
diff --git a/plone/app/redirector/storage.py b/plone/app/redirector/storage.py
index eb47f58..47738f4 100644
--- a/plone/app/redirector/storage.py
+++ b/plone/app/redirector/storage.py
@@ -196,9 +196,7 @@ class RedirectionStorage(Persistent):
 
     We can get an iterator over all existing paths
 
-        >>> iter(p)
-        <OO-iterator object at ...>
-        >>> sorted(p)
+        >>> sorted(iter(p))
         ['/baz']
 
     Now add some more


Repository: plone.app.redirector


Branch: refs/heads/master
Date: 2017-01-09T13:02:16+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.app.redirector/commit/0de82779f7c4b02943f77366ccb66a3258a07a80

Merge pull request #6 from plone/fix-tests-zodb4

Fix test for ZODB 4

Files changed:
M CHANGES.rst
M plone/app/redirector/storage.py

diff --git a/CHANGES.rst b/CHANGES.rst
index ee81bc7..4a5af05 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -25,6 +25,9 @@ Bug fixes:
 - Add coding header on python files.
   [gforcada]
 
+- Fix test when running with ZODB 4.
+  [davisagli]
+
 1.3.2 (2016-08-18)
 ------------------
 
diff --git a/plone/app/redirector/storage.py b/plone/app/redirector/storage.py
index eb47f58..47738f4 100644
--- a/plone/app/redirector/storage.py
+++ b/plone/app/redirector/storage.py
@@ -196,9 +196,7 @@ class RedirectionStorage(Persistent):
 
     We can get an iterator over all existing paths
 
-        >>> iter(p)
-        <OO-iterator object at ...>
-        >>> sorted(p)
+        >>> sorted(iter(p))
         ['/baz']
 
     Now add some more


