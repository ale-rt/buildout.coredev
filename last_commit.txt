Repository: plone.app.robotframework


Branch: refs/heads/master
Date: 2016-04-18T21:21:18+03:00
Author: Asko Soukka (datakurre) <asko.soukka@iki.fi>
Commit: https://github.com/plone/plone.app.robotframework/commit/1ac34be6f08493ef8a5fbae98538cddcea0d1eab

Revert "Removed bad format parameter on ObjectModifiedEvent"

Files changed:
M CHANGES.rst
M src/plone/app/robotframework/content.py

diff --git a/CHANGES.rst b/CHANGES.rst
index c896e32..37f42b0 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,10 +14,8 @@ New:
 
 Fixes:
 
-- Removed bad format parameter on ObjectModifiedEvent: must be an Attributes instance.
-  See zope.lifecycleevent.ObjectModifiedEvent class.
-  Removed because we can't get the interface and the correct fieldname.
-  [sgeulette]
+- *add item here*
+
 
 0.9.15 (2016-02-26)
 -------------------
diff --git a/src/plone/app/robotframework/content.py b/src/plone/app/robotframework/content.py
index c33e065..7c1c91c 100644
--- a/src/plone/app/robotframework/content.py
+++ b/src/plone/app/robotframework/content.py
@@ -205,7 +205,7 @@ def set_field_value(self, uid, field, value, field_type):
 
             setattr(obj, field, value)
             obj.reindexObject()
-            notify(ObjectModifiedEvent(obj))
+            notify(ObjectModifiedEvent(obj, dict(field=value)))
 
     def uid_to_url(self, uid):
         """Return absolute path for an UID"""
@@ -294,4 +294,4 @@ def prefill_image_types_dexterity(kwargs):
 
 
 def prefill_image_types_archetypes(kwargs):
-    kwargs['image'] = random_image()
+    kwargs['image'] = random_image()
\ No newline at end of file


Repository: plone.app.robotframework


Branch: refs/heads/master
Date: 2016-04-18T21:21:37+03:00
Author: Asko Soukka (datakurre) <asko.soukka@iki.fi>
Commit: https://github.com/plone/plone.app.robotframework/commit/7a9015f1cfa2d2873af5e2ed4a168fa988a6fc54

Merge pull request #55 from plone/revert-54-master

Revert "Removed bad format parameter on ObjectModifiedEvent"

Files changed:
M CHANGES.rst
M src/plone/app/robotframework/content.py

diff --git a/CHANGES.rst b/CHANGES.rst
index c896e32..37f42b0 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,10 +14,8 @@ New:
 
 Fixes:
 
-- Removed bad format parameter on ObjectModifiedEvent: must be an Attributes instance.
-  See zope.lifecycleevent.ObjectModifiedEvent class.
-  Removed because we can't get the interface and the correct fieldname.
-  [sgeulette]
+- *add item here*
+
 
 0.9.15 (2016-02-26)
 -------------------
diff --git a/src/plone/app/robotframework/content.py b/src/plone/app/robotframework/content.py
index c33e065..7c1c91c 100644
--- a/src/plone/app/robotframework/content.py
+++ b/src/plone/app/robotframework/content.py
@@ -205,7 +205,7 @@ def set_field_value(self, uid, field, value, field_type):
 
             setattr(obj, field, value)
             obj.reindexObject()
-            notify(ObjectModifiedEvent(obj))
+            notify(ObjectModifiedEvent(obj, dict(field=value)))
 
     def uid_to_url(self, uid):
         """Return absolute path for an UID"""
@@ -294,4 +294,4 @@ def prefill_image_types_dexterity(kwargs):
 
 
 def prefill_image_types_archetypes(kwargs):
-    kwargs['image'] = random_image()
+    kwargs['image'] = random_image()
\ No newline at end of file


