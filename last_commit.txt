Repository: plone.rfc822


Branch: refs/heads/master
Date: 2016-07-05T23:17:42+02:00
Author: Gil Forcada (gforcada) <gforcada@gnome.org>
Commit: https://github.com/plone/plone.rfc822/commit/4704a17135ebfe82e11b62e326228b4e46004c41

Use zope.interface decorator

This not only makes code more pleasent to read,
but also makes the code python 3 compatible
(while maintaining python 2 compatibility).

Files changed:
M CHANGES.rst
M plone/rfc822/defaultfields.py
M plone/rfc822/supermodel.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 0852182..0c5801b 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,7 +10,8 @@ New:
 
 Fixes:
 
-- *add item here*
+- Use zope.interface decorator.
+  [gforcada]
 
 
 1.1.2 (2016-02-21)
diff --git a/plone/rfc822/defaultfields.py b/plone/rfc822/defaultfields.py
index 7d6c495..9540238 100644
--- a/plone/rfc822/defaultfields.py
+++ b/plone/rfc822/defaultfields.py
@@ -36,7 +36,7 @@
 
 from zope.component import queryMultiAdapter
 
-from zope.interface import implements, Interface
+from zope.interface import implementer, Interface
 from zope.component import adapts
 
 from zope.schema.interfaces import IFromUnicode
@@ -48,12 +48,11 @@
 
 _marker = object()
 
+@implementer(IFieldMarshaler)
 class BaseFieldMarshaler(object):
     """Base class for field marshalers
     """
     
-    implements(IFieldMarshaler)
-    
     ascii = False
     
     def __init__(self, context, field):
diff --git a/plone/rfc822/supermodel.py b/plone/rfc822/supermodel.py
index 6100c8f..47fadc0 100644
--- a/plone/rfc822/supermodel.py
+++ b/plone/rfc822/supermodel.py
@@ -6,10 +6,11 @@
 
 if HAVE_SUPERMODEL:
     
-    from zope.interface import implements, alsoProvides
+    from zope.interface import implementer, alsoProvides
     from plone.supermodel.utils import ns
     from plone.rfc822.interfaces import IPrimaryField
     
+    @implementer(IFieldMetadataHandler)
     class PrimaryFieldMetadataHandler(object):
         """Define the ``marshal`` namespace.
         
@@ -17,8 +18,6 @@ class PrimaryFieldMetadataHandler(object):
         a primary field.
         """
         
-        implements(IFieldMetadataHandler)
-        
         namespace = "http://namespaces.plone.org/supermodel/marshal"
         prefix = "marshal"
     


Repository: plone.rfc822


Branch: refs/heads/master
Date: 2016-07-07T01:00:17+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.rfc822/commit/780179d80283f8a93e0b556f7e5a5d8f5d732d4b

Merge pull request #2 from plone/gforcada-use-zope-decorators

Use zope.interface decorator

Files changed:
M CHANGES.rst
M plone/rfc822/defaultfields.py
M plone/rfc822/supermodel.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 0852182..0c5801b 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,7 +10,8 @@ New:
 
 Fixes:
 
-- *add item here*
+- Use zope.interface decorator.
+  [gforcada]
 
 
 1.1.2 (2016-02-21)
diff --git a/plone/rfc822/defaultfields.py b/plone/rfc822/defaultfields.py
index 7d6c495..9540238 100644
--- a/plone/rfc822/defaultfields.py
+++ b/plone/rfc822/defaultfields.py
@@ -36,7 +36,7 @@
 
 from zope.component import queryMultiAdapter
 
-from zope.interface import implements, Interface
+from zope.interface import implementer, Interface
 from zope.component import adapts
 
 from zope.schema.interfaces import IFromUnicode
@@ -48,12 +48,11 @@
 
 _marker = object()
 
+@implementer(IFieldMarshaler)
 class BaseFieldMarshaler(object):
     """Base class for field marshalers
     """
     
-    implements(IFieldMarshaler)
-    
     ascii = False
     
     def __init__(self, context, field):
diff --git a/plone/rfc822/supermodel.py b/plone/rfc822/supermodel.py
index 6100c8f..47fadc0 100644
--- a/plone/rfc822/supermodel.py
+++ b/plone/rfc822/supermodel.py
@@ -6,10 +6,11 @@
 
 if HAVE_SUPERMODEL:
     
-    from zope.interface import implements, alsoProvides
+    from zope.interface import implementer, alsoProvides
     from plone.supermodel.utils import ns
     from plone.rfc822.interfaces import IPrimaryField
     
+    @implementer(IFieldMetadataHandler)
     class PrimaryFieldMetadataHandler(object):
         """Define the ``marshal`` namespace.
         
@@ -17,8 +18,6 @@ class PrimaryFieldMetadataHandler(object):
         a primary field.
         """
         
-        implements(IFieldMetadataHandler)
-        
         namespace = "http://namespaces.plone.org/supermodel/marshal"
         prefix = "marshal"
     


