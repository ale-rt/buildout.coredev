Repository: plone.cachepurging


Branch: refs/heads/master
Date: 2016-09-29T23:40:22+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.cachepurging/commit/6e238611272e62357f8831317896d8da75261233

Changed two more adapts into adapters.

Files changed:
M CHANGES.rst
M plone/cachepurging/tests/test_utils.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 798c1f1..26ec803 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,7 @@ New features:
 
 Bug fixes:
 
-- Code-Style: isort, utf8-headers, manual cleanup.
+- Code-Style: isort, utf8-headers, zca-decorators, manual cleanup.
   [jensens]
 
 
diff --git a/plone/cachepurging/tests/test_utils.py b/plone/cachepurging/tests/test_utils.py
index eba88ea..57d75f3 100644
--- a/plone/cachepurging/tests/test_utils.py
+++ b/plone/cachepurging/tests/test_utils.py
@@ -6,7 +6,6 @@
 from plone.registry.fieldfactory import persistentFieldAdapter
 from plone.registry.interfaces import IRegistry
 from z3c.caching.interfaces import IPurgePaths
-from zope.component import adapts
 from zope.component import adapter
 from zope.component import provideAdapter
 from zope.component import provideUtility
@@ -158,7 +157,6 @@ def getAbsolutePaths(self):
         @implementer(IPurgePathRewriter)
         @adapter(FauxRequest)
         class DefaultRewriter(object):
-            adapts(FauxRequest)
 
             def __init__(self, request):
                 self.request = request
@@ -233,8 +231,8 @@ def __call__(self, path):
     def test_rewriter_abort(self):
 
         @implementer(IPurgePaths)
+        @adapter(FauxContext)
         class FauxPurgePaths1(object):
-            adapts(FauxContext)
 
             def __init__(self, context):
                 self.context = context


