Repository: mockup


Branch: refs/heads/master
Date: 2016-03-13T23:53:09+01:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/mockup/commit/0cec049020cac28eedfc25af2aadfdfe6dcdcc9c

Fix Makefile to use mockup/build instead of build.

Files changed:
M CHANGES.rst
M Makefile

diff --git a/CHANGES.rst b/CHANGES.rst
index c1c09bb..5124176 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -15,7 +15,8 @@ New:
 
 Fixes:
 
-- *add item here*
+- Fix ``Makefile`` to use ``mockup/build`` instead of ``build``.
+  [thet]
 
 
 2.1.3 (2016-02-27)
diff --git a/Makefile b/Makefile
index e5d70de..aac5688 100644
--- a/Makefile
+++ b/Makefile
@@ -8,6 +8,7 @@ NODE_VERSION_LT_011 = $(shell [ $(NODE_VERSION_MAJ) -eq 0 -a $(NODE_VERSION_MIN)
 GRUNT = ./node_modules/grunt-cli/bin/grunt
 BOWER = ./node_modules/bower/bin/bower
 NODE_PATH = ./node_modules
+BUILD_DIR = ./mockup/build
 
 DEBUG =
 ifeq ($(debug), true)
@@ -37,14 +38,14 @@ bundles: stamp-bower bundle-widgets bundle-structure bundle-plone
 	# ----------------------------------------------------------------------- #
 
 bundle-widgets:
-	mkdir -p build
+	mkdir -p $(BUILD_DIR)
 	NODE_PATH=$(NODE_PATH) $(GRUNT) bundle-widgets $(DEBUG) $(VERBOSE) --gruntfile=mockup/Gruntfile.js
 
 bundle-structure:
 	NODE_PATH=$(NODE_PATH) $(GRUNT) bundle-structure $(DEBUG) $(VERBOSE) --gruntfile=mockup/Gruntfile.js
 
 bundle-plone:
-	mkdir -p build
+	mkdir -p $(BUILD_DIR)
 	NODE_PATH=$(NODE_PATH) $(GRUNT) bundle-plone $(DEBUG) $(VERBOSE) --gruntfile=mockup/Gruntfile.js
 
 bundle-filemanager:
@@ -60,7 +61,7 @@ docs:
 	NODE_PATH=$(NODE_PATH) $(GRUNT) bundle-docs $(DEBUG) $(VERBOSE) --gruntfile=mockup/Gruntfile.js
 
 bootstrap-common:
-	mkdir -p build
+	mkdir -p $(BUILD_DIR)
 
 bootstrap: bootstrap-common
 	@echo node version: $(NODE_VERSION)
@@ -106,8 +107,8 @@ test-ci:
 	NODE_PATH=$(NODE_PATH) $(GRUNT) test_ci $(DEBUG) $(VERBOSE) --gruntfile=mockup/Gruntfile.js
 
 clean:
-	mkdir -p build
-	rm -rf build
+	mkdir -p $(BUILD_DIR)
+	rm -rf $(BUILD_DIR)
 	rm -rf node_modules
 	rm -rf mockup/bower_components
 	rm -f stamp-npm stamp-bower


