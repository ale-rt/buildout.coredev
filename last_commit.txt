Repository: Products.CMFPlone


Branch: refs/heads/5.1.x
Date: 2017-10-21T16:25:32+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/Products.CMFPlone/commit/3d16768418606a3da07645c36e4cdc309053eec5

Show example for expression in actions control panel.

If you add http://maurits.vanrees.org you only get a general message:
`There was an error submitting the form.`
On the backend you see a clearer error:
CompilerError: Unrecognized expression type "http".
So give an example with `string:`.

Files changed:
M CHANGES.rst
M Products/CMFPlone/interfaces/controlpanel.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 932ca7bd4..93b3372dd 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -22,6 +22,9 @@ New features:
 
 Bug fixes:
 
+- Show example for expression in actions control panel.
+  [maurits]
+
 - Fixed add-on listed as uninstalled when the default profile is not the first alphabetically.
   Fixes `issue 2166 <https://github.com/plone/Products.CMFPlone/issues/2166>`_.
   [maurits]
diff --git a/Products/CMFPlone/interfaces/controlpanel.py b/Products/CMFPlone/interfaces/controlpanel.py
index 70889c7fc..d7d91bf9b 100644
--- a/Products/CMFPlone/interfaces/controlpanel.py
+++ b/Products/CMFPlone/interfaces/controlpanel.py
@@ -1741,7 +1741,8 @@ class IActionSchema(Interface):
         title=_(u'action_url_heading', default=u'Action URL'),
         description=_(
             u'action_url_description',
-            default=u'An expression producing the called URL'
+            default=u'An expression producing the called URL. '
+            u'Example: string:${globals_view/navigationRootUrl}/page'
         ),
         required=True)
 


Repository: Products.CMFPlone


Branch: refs/heads/5.1.x
Date: 2017-10-27T14:25:31+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/2421d61e7ae60427ffd097d8ed47a03e8936f90f

Merge pull request #2182 from plone/actions-control-panel-help-example-51

Show example for expression in actions control panel.

Files changed:
M CHANGES.rst
M Products/CMFPlone/interfaces/controlpanel.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 932ca7bd4..93b3372dd 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -22,6 +22,9 @@ New features:
 
 Bug fixes:
 
+- Show example for expression in actions control panel.
+  [maurits]
+
 - Fixed add-on listed as uninstalled when the default profile is not the first alphabetically.
   Fixes `issue 2166 <https://github.com/plone/Products.CMFPlone/issues/2166>`_.
   [maurits]
diff --git a/Products/CMFPlone/interfaces/controlpanel.py b/Products/CMFPlone/interfaces/controlpanel.py
index 70889c7fc..d7d91bf9b 100644
--- a/Products/CMFPlone/interfaces/controlpanel.py
+++ b/Products/CMFPlone/interfaces/controlpanel.py
@@ -1741,7 +1741,8 @@ class IActionSchema(Interface):
         title=_(u'action_url_heading', default=u'Action URL'),
         description=_(
             u'action_url_description',
-            default=u'An expression producing the called URL'
+            default=u'An expression producing the called URL. '
+            u'Example: string:${globals_view/navigationRootUrl}/page'
         ),
         required=True)
 


