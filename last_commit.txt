Repository: plone.app.iterate


Branch: refs/heads/master
Date: 2016-05-22T18:38:36+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.iterate/commit/2fdfda37277a3618682dcb5e768bd633793f765a

Removed deprecated actionicons.xml.

Files changed:
M CHANGES.rst
D plone/app/iterate/profiles/default/actionicons.xml

diff --git a/CHANGES.rst b/CHANGES.rst
index 5d48be7..67a85c3 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,7 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Removed deprecated ``actionicons.xml``.  [maurits]
 
 
 3.1.7 (2016-05-15)
diff --git a/plone/app/iterate/profiles/default/actionicons.xml b/plone/app/iterate/profiles/default/actionicons.xml
deleted file mode 100644
index 60982f2..0000000
--- a/plone/app/iterate/profiles/default/actionicons.xml
+++ /dev/null
@@ -1,12 +0,0 @@
-<?xml version="1.0"?>
-<action-icons>
- <action-icon category="object_buttons" action_id="iterate_checkin"
-              title="Checkin" priority="0"
-              icon_expr="++resource++checkout.png"/>
- <action-icon category="object_buttons" action_id="iterate_checkout"
-              title="Checkin" priority="0"
-              icon_expr="++resource++checkout.png"/>
- <action-icon category="object_buttons" action_id="iterate_checkout_cancel"
-              title="Checkin" priority="0"
-              icon_expr="++resource++cancel-checkout.png"/>
-</action-icons>


Repository: plone.app.iterate


Branch: refs/heads/master
Date: 2016-05-22T19:00:30+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.iterate/commit/eae996f3aed6f5c1988b4302693ab74902ceeae5

Added uninstall profile.

Files changed:
A plone/app/iterate/profiles/uninstall/actions.xml
A plone/app/iterate/profiles/uninstall/metadata.xml
A plone/app/iterate/profiles/uninstall/registry.xml
M CHANGES.rst
M plone/app/iterate/configure.zcml
M plone/app/iterate/profiles/default/registry.xml

diff --git a/CHANGES.rst b/CHANGES.rst
index 67a85c3..911bf52 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,7 +10,7 @@ Breaking changes:
 
 New features:
 
-- *add item here*
+- Added uninstall profile.  [maurits]
 
 Bug fixes:
 
diff --git a/plone/app/iterate/configure.zcml b/plone/app/iterate/configure.zcml
index 282a5e2..f103e0a 100644
--- a/plone/app/iterate/configure.zcml
+++ b/plone/app/iterate/configure.zcml
@@ -44,6 +44,13 @@
       provides="Products.GenericSetup.interfaces.EXTENSION"
       />
 
+  <genericsetup:registerProfile
+      name="uninstall"
+      title="Working Copy Support (Iterate) [uninstall]"
+      directory="profiles/uninstall"
+      provides="Products.GenericSetup.interfaces.EXTENSION"
+      />
+
   <genericsetup:upgradeStep
       source="*"
       destination="121"
diff --git a/plone/app/iterate/profiles/default/registry.xml b/plone/app/iterate/profiles/default/registry.xml
index 19a17d7..bbe73c8 100644
--- a/plone/app/iterate/profiles/default/registry.xml
+++ b/plone/app/iterate/profiles/default/registry.xml
@@ -1,3 +1,4 @@
+<?xml version="1.0"?>
 <registry>
     <records interface="plone.app.iterate.interfaces.IIterateSettings" />
-</registry>
\ No newline at end of file
+</registry>
diff --git a/plone/app/iterate/profiles/uninstall/actions.xml b/plone/app/iterate/profiles/uninstall/actions.xml
new file mode 100644
index 0000000..1ce03a8
--- /dev/null
+++ b/plone/app/iterate/profiles/uninstall/actions.xml
@@ -0,0 +1,9 @@
+<?xml version="1.0"?>
+<object name="portal_actions" meta_type="Plone Actions Tool"
+        xmlns:i18n="http://xml.zope.org/namespaces/i18n">
+  <object name="object_buttons" meta_type="CMF Action Category">
+    <object name="iterate_checkin" remove="true" />
+    <object name="iterate_checkout" remove="true" />
+    <object name="iterate_checkout_cancel" remove="true" />
+  </object>
+</object>
diff --git a/plone/app/iterate/profiles/uninstall/metadata.xml b/plone/app/iterate/profiles/uninstall/metadata.xml
new file mode 100644
index 0000000..b22370d
--- /dev/null
+++ b/plone/app/iterate/profiles/uninstall/metadata.xml
@@ -0,0 +1,4 @@
+<?xml version="1.0"?>
+<metadata>
+  <version>1000</version>
+</metadata>
diff --git a/plone/app/iterate/profiles/uninstall/registry.xml b/plone/app/iterate/profiles/uninstall/registry.xml
new file mode 100644
index 0000000..bbe11b4
--- /dev/null
+++ b/plone/app/iterate/profiles/uninstall/registry.xml
@@ -0,0 +1,4 @@
+<?xml version="1.0"?>
+<registry>
+    <records interface="plone.app.iterate.interfaces.IIterateSettings" remove="true" />
+</registry>


Repository: plone.app.iterate


Branch: refs/heads/master
Date: 2016-05-23T00:44:34+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.app.iterate/commit/698fce8a93d9027d80c9ad402acd242195606099

Merge pull request #28 from plone/uninstall-profile

Uninstall profile

Files changed:
A plone/app/iterate/profiles/uninstall/actions.xml
A plone/app/iterate/profiles/uninstall/metadata.xml
A plone/app/iterate/profiles/uninstall/registry.xml
M CHANGES.rst
M plone/app/iterate/configure.zcml
M plone/app/iterate/profiles/default/registry.xml
D plone/app/iterate/profiles/default/actionicons.xml

diff --git a/CHANGES.rst b/CHANGES.rst
index 5d48be7..911bf52 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,11 +10,11 @@ Breaking changes:
 
 New features:
 
-- *add item here*
+- Added uninstall profile.  [maurits]
 
 Bug fixes:
 
-- *add item here*
+- Removed deprecated ``actionicons.xml``.  [maurits]
 
 
 3.1.7 (2016-05-15)
diff --git a/plone/app/iterate/configure.zcml b/plone/app/iterate/configure.zcml
index 282a5e2..f103e0a 100644
--- a/plone/app/iterate/configure.zcml
+++ b/plone/app/iterate/configure.zcml
@@ -44,6 +44,13 @@
       provides="Products.GenericSetup.interfaces.EXTENSION"
       />
 
+  <genericsetup:registerProfile
+      name="uninstall"
+      title="Working Copy Support (Iterate) [uninstall]"
+      directory="profiles/uninstall"
+      provides="Products.GenericSetup.interfaces.EXTENSION"
+      />
+
   <genericsetup:upgradeStep
       source="*"
       destination="121"
diff --git a/plone/app/iterate/profiles/default/actionicons.xml b/plone/app/iterate/profiles/default/actionicons.xml
deleted file mode 100644
index 60982f2..0000000
--- a/plone/app/iterate/profiles/default/actionicons.xml
+++ /dev/null
@@ -1,12 +0,0 @@
-<?xml version="1.0"?>
-<action-icons>
- <action-icon category="object_buttons" action_id="iterate_checkin"
-              title="Checkin" priority="0"
-              icon_expr="++resource++checkout.png"/>
- <action-icon category="object_buttons" action_id="iterate_checkout"
-              title="Checkin" priority="0"
-              icon_expr="++resource++checkout.png"/>
- <action-icon category="object_buttons" action_id="iterate_checkout_cancel"
-              title="Checkin" priority="0"
-              icon_expr="++resource++cancel-checkout.png"/>
-</action-icons>
diff --git a/plone/app/iterate/profiles/default/registry.xml b/plone/app/iterate/profiles/default/registry.xml
index 19a17d7..bbe73c8 100644
--- a/plone/app/iterate/profiles/default/registry.xml
+++ b/plone/app/iterate/profiles/default/registry.xml
@@ -1,3 +1,4 @@
+<?xml version="1.0"?>
 <registry>
     <records interface="plone.app.iterate.interfaces.IIterateSettings" />
-</registry>
\ No newline at end of file
+</registry>
diff --git a/plone/app/iterate/profiles/uninstall/actions.xml b/plone/app/iterate/profiles/uninstall/actions.xml
new file mode 100644
index 0000000..1ce03a8
--- /dev/null
+++ b/plone/app/iterate/profiles/uninstall/actions.xml
@@ -0,0 +1,9 @@
+<?xml version="1.0"?>
+<object name="portal_actions" meta_type="Plone Actions Tool"
+        xmlns:i18n="http://xml.zope.org/namespaces/i18n">
+  <object name="object_buttons" meta_type="CMF Action Category">
+    <object name="iterate_checkin" remove="true" />
+    <object name="iterate_checkout" remove="true" />
+    <object name="iterate_checkout_cancel" remove="true" />
+  </object>
+</object>
diff --git a/plone/app/iterate/profiles/uninstall/metadata.xml b/plone/app/iterate/profiles/uninstall/metadata.xml
new file mode 100644
index 0000000..b22370d
--- /dev/null
+++ b/plone/app/iterate/profiles/uninstall/metadata.xml
@@ -0,0 +1,4 @@
+<?xml version="1.0"?>
+<metadata>
+  <version>1000</version>
+</metadata>
diff --git a/plone/app/iterate/profiles/uninstall/registry.xml b/plone/app/iterate/profiles/uninstall/registry.xml
new file mode 100644
index 0000000..bbe11b4
--- /dev/null
+++ b/plone/app/iterate/profiles/uninstall/registry.xml
@@ -0,0 +1,4 @@
+<?xml version="1.0"?>
+<registry>
+    <records interface="plone.app.iterate.interfaces.IIterateSettings" remove="true" />
+</registry>


