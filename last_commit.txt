Repository: plone.scale


Branch: refs/heads/1.4.x
Date: 2016-09-28T14:00:00+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.scale/commit/a5089952e3d32ea7d52730aa9e4a38146f6050ea

Set zip_safe=False in setup.py.

Otherwise you cannot run the tests of the released package because the
test runner does not find any tests in the egg file.

Note that this is only a problem in zc.buildout 1.x: it uses
unzip=False by default.  zc.buildout 2.x no longer has this option and
always unzips eggs.

Files changed:
M CHANGES.rst
M setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index f8ec588..a73a121 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -11,7 +11,11 @@ New:
 
 Fixes:
 
-- *add item here*
+- Set ``zip_safe=False`` in ``setup.py``.  Otherwise you cannot run
+  the tests of the released package because the test runner does not
+  find any tests in the egg file.  Note that this is only a problem in
+  zc.buildout 1.x: it uses unzip=False by default.  zc.buildout 2.x no
+  longer has this option and always unzips eggs.  [maurits]
 
 
 1.4.1 (2016-02-12)
diff --git a/setup.py b/setup.py
index eb4ff37..f5699da 100644
--- a/setup.py
+++ b/setup.py
@@ -46,7 +46,7 @@
     packages=find_packages(exclude=["ez_setup"]),
     namespace_packages=["plone"],
     include_package_data=True,
-    zip_safe=True,
+    zip_safe=False,
     test_suite="plone.scale",
     install_requires=[
         # We can't actually depend on PIL because not everyone can install it


Repository: plone.scale


Branch: refs/heads/1.4.x
Date: 2016-09-28T17:24:18+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.scale/commit/adff9074ff821923f983e077a2c6f0b6db77abbc

Merge pull request #16 from plone/zip-safe-false

Set zip_safe=False in setup.py.

Files changed:
M CHANGES.rst
M setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index f8ec588..a73a121 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -11,7 +11,11 @@ New:
 
 Fixes:
 
-- *add item here*
+- Set ``zip_safe=False`` in ``setup.py``.  Otherwise you cannot run
+  the tests of the released package because the test runner does not
+  find any tests in the egg file.  Note that this is only a problem in
+  zc.buildout 1.x: it uses unzip=False by default.  zc.buildout 2.x no
+  longer has this option and always unzips eggs.  [maurits]
 
 
 1.4.1 (2016-02-12)
diff --git a/setup.py b/setup.py
index eb4ff37..f5699da 100644
--- a/setup.py
+++ b/setup.py
@@ -46,7 +46,7 @@
     packages=find_packages(exclude=["ez_setup"]),
     namespace_packages=["plone"],
     include_package_data=True,
-    zip_safe=True,
+    zip_safe=False,
     test_suite="plone.scale",
     install_requires=[
         # We can't actually depend on PIL because not everyone can install it


