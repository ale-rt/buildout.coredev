Repository: plone.app.content


Branch: refs/heads/master
Date: 2016-08-26T00:12:25-05:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.app.content/commit/f43b72569f16543fd83751474938b8a7b8e2ac8a

Rename dialog: images in thumb scale
In the rename dialog, show image thumbnails in ``thumb`` scale instead of ``icon``.
Plones standard ``icon`` scale is way to small to be useful for images.

Files changed:
M CHANGES.rst
M plone/app/content/browser/contents/templates/rename.pt

diff --git a/CHANGES.rst b/CHANGES.rst
index fc18cee..025da06 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -23,6 +23,10 @@ Bug fixes:
 
 New features:
 
+- In the rename dialog, show image thumbnails in ``thumb`` scale instead of ``icon``.
+  Plones standard ``icon`` scale is way to small to be useful for images.
+  [thet]
+
 - Add ``@@allow_upload`` view, which returns a JSON string to indicate if File or Image uploads are allowed in the current container.
   When the view is called with a ``path`` request parameter, then content at this path is used instead the content where the view is called.
   [thet]
diff --git a/plone/app/content/browser/contents/templates/rename.pt b/plone/app/content/browser/contents/templates/rename.pt
index fb7d0ce..b4a90ed 100644
--- a/plone/app/content/browser/contents/templates/rename.pt
+++ b/plone/app/content/browser/contents/templates/rename.pt
@@ -1,16 +1,17 @@
 <div class="itemstoremove" i18n:domain="plone">
 <% _.each(items, function(item, index) { %>
   <div class="item">
-  	<% if(item.getIcon ){ %><img class="image-icon" src="<%= item.getURL %>/@@images/image/icon"><% } %>
-    <div class="form-group">
 
+    <div class="form-group">
       <input name="UID_<%= index %>" type="hidden" value="<%- item.UID %>" />
       <label i18n:translate="label_title">Title</label>
       <input class="form-control" name="newtitle_<%= index %>" value="<%= item.Title %>" />
       <label i18n:translate="label_short_name">Short name</label>
       <input class="form-control" name="newid_<%= index %>" value="<%= item.id %>" />
-
     </div>
+
+    <% if(item.getIcon ){ %><img class="image-thumb" src="<%= item.getURL %>/@@images/image/thumb"><% } %>
+
   </div>
 <% }) %>
-</div>
\ No newline at end of file
+</div>


Repository: plone.app.content


Branch: refs/heads/master
Date: 2016-08-26T17:52:17-05:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.app.content/commit/4656257ccefcfda85cedb4e2740ec944f0fe2327

Folder contents properties dialog: Fix form request variables for effectiveDate and expirationDate dates.

Files changed:
M CHANGES.rst
M plone/app/content/browser/contents/templates/properties.pt

diff --git a/CHANGES.rst b/CHANGES.rst
index 025da06..e577578 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,10 +10,15 @@ Breaking changes:
 
 New features:
 
-- *add item here*
+- Folder contents rename dialog: In the rename dialog, show image thumbnails in ``thumb`` scale instead of ``icon``.
+  Plones standard ``icon`` scale is way to small to be useful for images.
+  [thet]
 
 Bug fixes:
 
+- Folder contents properties dialog: Fix form request variables for ``effectiveDate`` and ``expirationDate`` dates.
+  [thet]
+
 - Fix a json "circular reference detected" error which happened when the json dumper got unparsable data types.
   [pcdummy]
 
@@ -23,10 +28,6 @@ Bug fixes:
 
 New features:
 
-- In the rename dialog, show image thumbnails in ``thumb`` scale instead of ``icon``.
-  Plones standard ``icon`` scale is way to small to be useful for images.
-  [thet]
-
 - Add ``@@allow_upload`` view, which returns a JSON string to indicate if File or Image uploads are allowed in the current container.
   When the view is called with a ``path`` request parameter, then content at this path is used instead the content where the view is called.
   [thet]
diff --git a/plone/app/content/browser/contents/templates/properties.pt b/plone/app/content/browser/contents/templates/properties.pt
index 7415331..0b22b04 100644
--- a/plone/app/content/browser/contents/templates/properties.pt
+++ b/plone/app/content/browser/contents/templates/properties.pt
@@ -1,11 +1,11 @@
 <div i18n:domain="plone">
   <div class="form-group">
     <label i18n:translate="publiciation_date">Publication Date</label>
-    <input class="form-control pat-pickadate" name="effective" />
+    <input class="form-control pat-pickadate" name="effectiveDate" />
   </div>
   <div class="form-group">
     <label i18n:translate="expiration_date">Expiration Date</label>
-    <input class="form-control pat-pickadate" name="expiration" />
+    <input class="form-control pat-pickadate" name="expirationDate" />
   </div>
   <div class="form-group">
     <label i18n:translate="copyright">Copyright</label>
@@ -38,4 +38,4 @@
       <span i18n:translate="no">No</span>
     </label>
   </div>
-</div>
\ No newline at end of file
+</div>


Repository: plone.app.content


Branch: refs/heads/master
Date: 2016-08-28T20:43:47-05:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.app.content/commit/f170063cfc939f3fcd66a290d0a869a241a4f47e

Merge pull request #102 from plone/thet-fixes

folder contents properties fix + rename images scale

Files changed:
M CHANGES.rst
M plone/app/content/browser/contents/templates/properties.pt
M plone/app/content/browser/contents/templates/rename.pt

diff --git a/CHANGES.rst b/CHANGES.rst
index fc18cee..e577578 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,10 +10,15 @@ Breaking changes:
 
 New features:
 
-- *add item here*
+- Folder contents rename dialog: In the rename dialog, show image thumbnails in ``thumb`` scale instead of ``icon``.
+  Plones standard ``icon`` scale is way to small to be useful for images.
+  [thet]
 
 Bug fixes:
 
+- Folder contents properties dialog: Fix form request variables for ``effectiveDate`` and ``expirationDate`` dates.
+  [thet]
+
 - Fix a json "circular reference detected" error which happened when the json dumper got unparsable data types.
   [pcdummy]
 
diff --git a/plone/app/content/browser/contents/templates/properties.pt b/plone/app/content/browser/contents/templates/properties.pt
index 7415331..0b22b04 100644
--- a/plone/app/content/browser/contents/templates/properties.pt
+++ b/plone/app/content/browser/contents/templates/properties.pt
@@ -1,11 +1,11 @@
 <div i18n:domain="plone">
   <div class="form-group">
     <label i18n:translate="publiciation_date">Publication Date</label>
-    <input class="form-control pat-pickadate" name="effective" />
+    <input class="form-control pat-pickadate" name="effectiveDate" />
   </div>
   <div class="form-group">
     <label i18n:translate="expiration_date">Expiration Date</label>
-    <input class="form-control pat-pickadate" name="expiration" />
+    <input class="form-control pat-pickadate" name="expirationDate" />
   </div>
   <div class="form-group">
     <label i18n:translate="copyright">Copyright</label>
@@ -38,4 +38,4 @@
       <span i18n:translate="no">No</span>
     </label>
   </div>
-</div>
\ No newline at end of file
+</div>
diff --git a/plone/app/content/browser/contents/templates/rename.pt b/plone/app/content/browser/contents/templates/rename.pt
index fb7d0ce..b4a90ed 100644
--- a/plone/app/content/browser/contents/templates/rename.pt
+++ b/plone/app/content/browser/contents/templates/rename.pt
@@ -1,16 +1,17 @@
 <div class="itemstoremove" i18n:domain="plone">
 <% _.each(items, function(item, index) { %>
   <div class="item">
-  	<% if(item.getIcon ){ %><img class="image-icon" src="<%= item.getURL %>/@@images/image/icon"><% } %>
-    <div class="form-group">
 
+    <div class="form-group">
       <input name="UID_<%= index %>" type="hidden" value="<%- item.UID %>" />
       <label i18n:translate="label_title">Title</label>
       <input class="form-control" name="newtitle_<%= index %>" value="<%= item.Title %>" />
       <label i18n:translate="label_short_name">Short name</label>
       <input class="form-control" name="newid_<%= index %>" value="<%= item.id %>" />
-
     </div>
+
+    <% if(item.getIcon ){ %><img class="image-thumb" src="<%= item.getURL %>/@@images/image/thumb"><% } %>
+
   </div>
 <% }) %>
-</div>
\ No newline at end of file
+</div>


