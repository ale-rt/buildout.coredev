Repository: plone.app.dexterity


Branch: refs/heads/master
Date: 2016-07-05T23:12:01+02:00
Author: Gil Forcada (gforcada) <gforcada@gnome.org>
Commit: https://github.com/plone/plone.app.dexterity/commit/8d2ea408c26b4a4ae82c70028ba43e3f7d88a72f

Use zope.interface decorator

This not only makes code more pleasent to read,
but also makes the code python 3 compatible
(while maintaining python 2 compatibility).

Files changed:
M CHANGES.rst
M plone/app/dexterity/permissions.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 1cb7608..2e917a5 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,8 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Use zope.interface decorator.
+  [gforcada]
 
 Documentation changes:
 
diff --git a/plone/app/dexterity/permissions.py b/plone/app/dexterity/permissions.py
index edf1117..99c94c3 100644
--- a/plone/app/dexterity/permissions.py
+++ b/plone/app/dexterity/permissions.py
@@ -14,20 +14,20 @@
 from zope.component import queryMultiAdapter
 from zope.component import queryUtility
 from zope.deprecation import deprecated
-from zope.interface import implements
+from zope.interface import implementer
 from zope.publisher.browser import TestRequest
 from zope.security.interfaces import IPermission
 
 
+@implementer(IWidgetsLayer)
 class MockRequest(TestRequest):
-    implements(IWidgetsLayer)
+    pass
 
 
+@implementer(IFieldPermissionChecker)
 class DXFieldPermissionChecker(object):
     """
     """
-
-    implements(IFieldPermissionChecker)
     adapts(IDexterityContent)
 
     DEFAULT_PERMISSION = 'Modify portal content'


Repository: plone.app.dexterity


Branch: refs/heads/master
Date: 2016-07-08T23:12:18+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.app.dexterity/commit/4853d699fe8b50c8858d90fe05531c2a4b583b0e

Merge pull request #223 from plone/gforcada-use-zope-decorators

Use zope.interface decorator

Files changed:
M CHANGES.rst
M plone/app/dexterity/permissions.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 1cb7608..2e917a5 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,8 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Use zope.interface decorator.
+  [gforcada]
 
 Documentation changes:
 
diff --git a/plone/app/dexterity/permissions.py b/plone/app/dexterity/permissions.py
index edf1117..99c94c3 100644
--- a/plone/app/dexterity/permissions.py
+++ b/plone/app/dexterity/permissions.py
@@ -14,20 +14,20 @@
 from zope.component import queryMultiAdapter
 from zope.component import queryUtility
 from zope.deprecation import deprecated
-from zope.interface import implements
+from zope.interface import implementer
 from zope.publisher.browser import TestRequest
 from zope.security.interfaces import IPermission
 
 
+@implementer(IWidgetsLayer)
 class MockRequest(TestRequest):
-    implements(IWidgetsLayer)
+    pass
 
 
+@implementer(IFieldPermissionChecker)
 class DXFieldPermissionChecker(object):
     """
     """
-
-    implements(IFieldPermissionChecker)
     adapts(IDexterityContent)
 
     DEFAULT_PERMISSION = 'Modify portal content'


