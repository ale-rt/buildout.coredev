Repository: plone.protect


Branch: refs/heads/master
Date: 2016-11-25T17:45:59+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.protect/commit/e273918289b220d6bd384cf28c1ea519dd0eb109

Allow `confirm-action` for all contexts, instead of only Plone Site root.

This avoids an error when calling it on a subsite.
Fixes https://github.com/plone/plone.protect/issues/51.

Files changed:
M CHANGES.rst
M plone/protect/configure.zcml

diff --git a/CHANGES.rst b/CHANGES.rst
index dd39d8a..098b716 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,8 +14,14 @@ New features:
 
 Bug fixes:
 
+- Allow ``confirm-action`` for all contexts, instead of only Plone Site root.
+  This avoids an error when calling it on a subsite.
+  Fixes `issue #51 <https://github.com/plone/plone.protect/issues/51>`_.
+  [maurits]
+
 - Code Style: utf8-headers, import sorting, new style namespace declaration, autopep8
   [jensens]
+
 - Fix #57: Html must contain "body", otherwise plone.protect breaks.
   [jensens]
 
diff --git a/plone/protect/configure.zcml b/plone/protect/configure.zcml
index d31bd7c..0f7f711 100644
--- a/plone/protect/configure.zcml
+++ b/plone/protect/configure.zcml
@@ -42,7 +42,7 @@
 
     <browser:page
         name="confirm-action"
-        for="Products.CMFPlone.interfaces.IPloneSiteRoot"
+        for="*"
         class=".views.ConfirmView"
         template="confirm.pt"
         permission="zope2.View"


Repository: plone.protect


Branch: refs/heads/master
Date: 2016-11-25T21:28:45+01:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.protect/commit/2be2215047113a86ce36166871ea41afd2cda490

Merge pull request #60 from plone/confirm-view-for-all-contexts

Allow `confirm-action` for all contexts, instead of only Plone Site

Files changed:
M CHANGES.rst
M plone/protect/configure.zcml

diff --git a/CHANGES.rst b/CHANGES.rst
index dd39d8a..098b716 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,8 +14,14 @@ New features:
 
 Bug fixes:
 
+- Allow ``confirm-action`` for all contexts, instead of only Plone Site root.
+  This avoids an error when calling it on a subsite.
+  Fixes `issue #51 <https://github.com/plone/plone.protect/issues/51>`_.
+  [maurits]
+
 - Code Style: utf8-headers, import sorting, new style namespace declaration, autopep8
   [jensens]
+
 - Fix #57: Html must contain "body", otherwise plone.protect breaks.
   [jensens]
 
diff --git a/plone/protect/configure.zcml b/plone/protect/configure.zcml
index d31bd7c..0f7f711 100644
--- a/plone/protect/configure.zcml
+++ b/plone/protect/configure.zcml
@@ -42,7 +42,7 @@
 
     <browser:page
         name="confirm-action"
-        for="Products.CMFPlone.interfaces.IPloneSiteRoot"
+        for="*"
         class=".views.ConfirmView"
         template="confirm.pt"
         permission="zope2.View"


