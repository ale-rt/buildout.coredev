Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2016-12-23T14:28:36-06:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.app.upgrade/commit/02cf65bee9d48cf678f7ad77d76c5164bae0297f

New mockup releases for Plone 5.0 and 5.1.

Files changed:
A plone/app/upgrade/v50/profiles/to_507/registry.xml
M CHANGES.rst
M plone/app/upgrade/v50/configure.zcml
M plone/app/upgrade/v50/final.py
M plone/app/upgrade/v50/profiles.zcml
M plone/app/upgrade/v51/profiles/to_beta1/registry.xml

diff --git a/CHANGES.rst b/CHANGES.rst
index 01577d9..b8d9491 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -11,6 +11,9 @@ Breaking changes:
 
 New features:
 
+- New mockup releases for Plone 5.0 and 5.1.
+  [thet]
+
 - Remove jquery.cookie from plone-logged-in bundle's stub_js_modules.
   The toolbar, which has a dependency on jquery.cookie,
   was moved from the plone bundle to plone-logged-in in CMPlone 5.1a2.
diff --git a/plone/app/upgrade/v50/configure.zcml b/plone/app/upgrade/v50/configure.zcml
index 9fb12f6..af8efe0 100644
--- a/plone/app/upgrade/v50/configure.zcml
+++ b/plone/app/upgrade/v50/configure.zcml
@@ -327,4 +327,17 @@
 
     </gs:upgradeSteps>
 
+    <gs:upgradeSteps
+        source="5016"
+        destination="5017"
+        profile="Products.CMFPlone:plone">
+
+      <gs:upgradeStep
+           title="Run to507 upgrade profile."
+           description=""
+           handler=".final.to507"
+           />
+
+    </gs:upgradeSteps>
+
 </configure>
diff --git a/plone/app/upgrade/v50/final.py b/plone/app/upgrade/v50/final.py
index 127fd32..82a3152 100644
--- a/plone/app/upgrade/v50/final.py
+++ b/plone/app/upgrade/v50/final.py
@@ -96,3 +96,8 @@ def to502(context):
 def to503(context):
     """5.0.2 -> 5.0.3"""
     loadMigrationProfile(context, 'profile-plone.app.upgrade.v50:to503')
+
+
+def to507(context):
+    """5.0.6 -> 5.0.7"""
+    loadMigrationProfile(context, 'profile-plone.app.upgrade.v50:to507')
diff --git a/plone/app/upgrade/v50/profiles.zcml b/plone/app/upgrade/v50/profiles.zcml
index 16cf6db..77ff768 100644
--- a/plone/app/upgrade/v50/profiles.zcml
+++ b/plone/app/upgrade/v50/profiles.zcml
@@ -111,4 +111,13 @@
       provides="Products.GenericSetup.interfaces.EXTENSION"
       />
 
+  <genericsetup:registerProfile
+      name="to507"
+      title="Upgrade profile for Plone 5.0.6 to Plone 5.0.7"
+      description=""
+      directory="profiles/to_507"
+      for="Products.CMFPlone.interfaces.IMigratingPloneSiteRoot"
+      provides="Products.GenericSetup.interfaces.EXTENSION"
+      />
+
 </configure>
diff --git a/plone/app/upgrade/v50/profiles/to_507/registry.xml b/plone/app/upgrade/v50/profiles/to_507/registry.xml
new file mode 100644
index 0000000..ec0debb
--- /dev/null
+++ b/plone/app/upgrade/v50/profiles/to_507/registry.xml
@@ -0,0 +1,13 @@
+<?xml version="1.0"?>
+<registry>
+  <records
+      interface="Products.CMFPlone.interfaces.IBundleRegistry"
+      prefix="plone.bundles/plone-logged-in">
+    <value key="last_compilation">2016-12-23 00:00:00</value>
+  </records>
+  <records
+      interface="Products.CMFPlone.interfaces.IBundleRegistry"
+      prefix="plone.bundles/plone">
+    <value key="last_compilation">2016-12-23 00:00:00</value>
+  </records>
+</registry>
diff --git a/plone/app/upgrade/v51/profiles/to_beta1/registry.xml b/plone/app/upgrade/v51/profiles/to_beta1/registry.xml
index 9a622bd..569adc6 100644
--- a/plone/app/upgrade/v51/profiles/to_beta1/registry.xml
+++ b/plone/app/upgrade/v51/profiles/to_beta1/registry.xml
@@ -3,7 +3,7 @@
 
   <!-- Update ``last_compilation`` to deliver new bundles -->
   <records prefix="plone.bundles/plone" interface="Products.CMFPlone.interfaces.IBundleRegistry" purge="False">
-    <value key="last_compilation">2016-12-13 00:00:00</value>
+    <value key="last_compilation">2016-12-23 00:00:00</value>
   </records>
   <records prefix="plone.bundles/plone-logged-in" interface="Products.CMFPlone.interfaces.IBundleRegistry" purge="False">
     <value key="last_compilation">2016-12-13 00:00:00</value>


Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2016-12-24T03:09:39-06:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.app.upgrade/commit/1758b0c479b36100da80c1ea700c17ad3040b456

Merge pull request #101 from plone/thet-newmockup

New mockup releases for Plone 5.0 and 5.1.

Files changed:
A plone/app/upgrade/v50/profiles/to_507/registry.xml
M CHANGES.rst
M plone/app/upgrade/v50/configure.zcml
M plone/app/upgrade/v50/final.py
M plone/app/upgrade/v50/profiles.zcml
M plone/app/upgrade/v51/profiles/to_beta1/registry.xml

diff --git a/CHANGES.rst b/CHANGES.rst
index 01577d9..b8d9491 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -11,6 +11,9 @@ Breaking changes:
 
 New features:
 
+- New mockup releases for Plone 5.0 and 5.1.
+  [thet]
+
 - Remove jquery.cookie from plone-logged-in bundle's stub_js_modules.
   The toolbar, which has a dependency on jquery.cookie,
   was moved from the plone bundle to plone-logged-in in CMPlone 5.1a2.
diff --git a/plone/app/upgrade/v50/configure.zcml b/plone/app/upgrade/v50/configure.zcml
index 9fb12f6..af8efe0 100644
--- a/plone/app/upgrade/v50/configure.zcml
+++ b/plone/app/upgrade/v50/configure.zcml
@@ -327,4 +327,17 @@
 
     </gs:upgradeSteps>
 
+    <gs:upgradeSteps
+        source="5016"
+        destination="5017"
+        profile="Products.CMFPlone:plone">
+
+      <gs:upgradeStep
+           title="Run to507 upgrade profile."
+           description=""
+           handler=".final.to507"
+           />
+
+    </gs:upgradeSteps>
+
 </configure>
diff --git a/plone/app/upgrade/v50/final.py b/plone/app/upgrade/v50/final.py
index 127fd32..82a3152 100644
--- a/plone/app/upgrade/v50/final.py
+++ b/plone/app/upgrade/v50/final.py
@@ -96,3 +96,8 @@ def to502(context):
 def to503(context):
     """5.0.2 -> 5.0.3"""
     loadMigrationProfile(context, 'profile-plone.app.upgrade.v50:to503')
+
+
+def to507(context):
+    """5.0.6 -> 5.0.7"""
+    loadMigrationProfile(context, 'profile-plone.app.upgrade.v50:to507')
diff --git a/plone/app/upgrade/v50/profiles.zcml b/plone/app/upgrade/v50/profiles.zcml
index 16cf6db..77ff768 100644
--- a/plone/app/upgrade/v50/profiles.zcml
+++ b/plone/app/upgrade/v50/profiles.zcml
@@ -111,4 +111,13 @@
       provides="Products.GenericSetup.interfaces.EXTENSION"
       />
 
+  <genericsetup:registerProfile
+      name="to507"
+      title="Upgrade profile for Plone 5.0.6 to Plone 5.0.7"
+      description=""
+      directory="profiles/to_507"
+      for="Products.CMFPlone.interfaces.IMigratingPloneSiteRoot"
+      provides="Products.GenericSetup.interfaces.EXTENSION"
+      />
+
 </configure>
diff --git a/plone/app/upgrade/v50/profiles/to_507/registry.xml b/plone/app/upgrade/v50/profiles/to_507/registry.xml
new file mode 100644
index 0000000..ec0debb
--- /dev/null
+++ b/plone/app/upgrade/v50/profiles/to_507/registry.xml
@@ -0,0 +1,13 @@
+<?xml version="1.0"?>
+<registry>
+  <records
+      interface="Products.CMFPlone.interfaces.IBundleRegistry"
+      prefix="plone.bundles/plone-logged-in">
+    <value key="last_compilation">2016-12-23 00:00:00</value>
+  </records>
+  <records
+      interface="Products.CMFPlone.interfaces.IBundleRegistry"
+      prefix="plone.bundles/plone">
+    <value key="last_compilation">2016-12-23 00:00:00</value>
+  </records>
+</registry>
diff --git a/plone/app/upgrade/v51/profiles/to_beta1/registry.xml b/plone/app/upgrade/v51/profiles/to_beta1/registry.xml
index 9a622bd..569adc6 100644
--- a/plone/app/upgrade/v51/profiles/to_beta1/registry.xml
+++ b/plone/app/upgrade/v51/profiles/to_beta1/registry.xml
@@ -3,7 +3,7 @@
 
   <!-- Update ``last_compilation`` to deliver new bundles -->
   <records prefix="plone.bundles/plone" interface="Products.CMFPlone.interfaces.IBundleRegistry" purge="False">
-    <value key="last_compilation">2016-12-13 00:00:00</value>
+    <value key="last_compilation">2016-12-23 00:00:00</value>
   </records>
   <records prefix="plone.bundles/plone-logged-in" interface="Products.CMFPlone.interfaces.IBundleRegistry" purge="False">
     <value key="last_compilation">2016-12-13 00:00:00</value>


