Repository: plone.app.workflow


Branch: refs/heads/master
Date: 2016-07-05T23:14:28+02:00
Author: Gil Forcada (gforcada) <gforcada@gnome.org>
Commit: https://github.com/plone/plone.app.workflow/commit/7677389cea15238b53d897614ac5c7deb6840eea

Use zope.interface decorator

This not only makes code more pleasent to read,
but also makes the code python 3 compatible
(while maintaining python 2 compatibility).

Files changed:
M CHANGES.rst
M plone/app/workflow/exportimport.py
M plone/app/workflow/localroles.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 140a5f3..023664f 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,8 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Use zope.interface decorator.
+  [gforcada]
 
 
 2.2.5 (2016-05-15)
diff --git a/plone/app/workflow/exportimport.py b/plone/app/workflow/exportimport.py
index ffdc81b..3a73bbb 100644
--- a/plone/app/workflow/exportimport.py
+++ b/plone/app/workflow/exportimport.py
@@ -1,5 +1,5 @@
 from persistent import Persistent
-from zope.interface import implements
+from zope.interface import implementer
 
 from plone.app.workflow.interfaces import ISharingPageRole
 
@@ -19,11 +19,11 @@
 
 
 
+@implementer(ISharingPageRole)
 class PersistentSharingPageRole(Persistent):
     """These are registered as local utilities when managing the sharing
     page roles.
     """
-    implements(ISharingPageRole)
 
     title = u""
     required_permission = None
diff --git a/plone/app/workflow/localroles.py b/plone/app/workflow/localroles.py
index d75bb41..15b83f8 100644
--- a/plone/app/workflow/localroles.py
+++ b/plone/app/workflow/localroles.py
@@ -1,4 +1,4 @@
-from zope.interface import implements
+from zope.interface import implementer
 from plone.app.workflow.interfaces import ISharingPageRole
 from plone.app.workflow import permissions
 #from Products.CMFCore import permissions as core_permissions
@@ -11,32 +11,32 @@
 
 # These are for everyone
 
+@implementer(ISharingPageRole)
 class ReaderRole(object):
-    implements(ISharingPageRole)
 
     title = _(u"title_can_view", default=u"Can view")
     required_permission = permissions.DelegateReaderRole
     required_interface = None
 
 
+@implementer(ISharingPageRole)
 class EditorRole(object):
-    implements(ISharingPageRole)
 
     title = _(u"title_can_edit", default=u"Can edit")
     required_permission = permissions.DelegateEditorRole
     required_interface = None
 
 
+@implementer(ISharingPageRole)
 class ContributorRole(object):
-    implements(ISharingPageRole)
 
     title = _(u"title_can_add", default=u"Can add")
     required_permission = permissions.DelegateContributorRole
     required_interface = None
 
 
+@implementer(ISharingPageRole)
 class ReviewerRole(object):
-    implements(ISharingPageRole)
 
     title = _(u"title_can_review", default=u"Can review")
     required_permission = permissions.DelegateReviewerRole


Repository: plone.app.workflow


Branch: refs/heads/master
Date: 2016-07-10T08:57:14+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.app.workflow/commit/170e5bc257c0bf4b8cd8725ee30ddb4958b5d488

Merge pull request #10 from plone/gforcada-use-zope-decorators

Use zope.interface decorator

Files changed:
M CHANGES.rst
M plone/app/workflow/exportimport.py
M plone/app/workflow/localroles.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 140a5f3..023664f 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,8 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Use zope.interface decorator.
+  [gforcada]
 
 
 2.2.5 (2016-05-15)
diff --git a/plone/app/workflow/exportimport.py b/plone/app/workflow/exportimport.py
index ffdc81b..3a73bbb 100644
--- a/plone/app/workflow/exportimport.py
+++ b/plone/app/workflow/exportimport.py
@@ -1,5 +1,5 @@
 from persistent import Persistent
-from zope.interface import implements
+from zope.interface import implementer
 
 from plone.app.workflow.interfaces import ISharingPageRole
 
@@ -19,11 +19,11 @@
 
 
 
+@implementer(ISharingPageRole)
 class PersistentSharingPageRole(Persistent):
     """These are registered as local utilities when managing the sharing
     page roles.
     """
-    implements(ISharingPageRole)
 
     title = u""
     required_permission = None
diff --git a/plone/app/workflow/localroles.py b/plone/app/workflow/localroles.py
index d75bb41..15b83f8 100644
--- a/plone/app/workflow/localroles.py
+++ b/plone/app/workflow/localroles.py
@@ -1,4 +1,4 @@
-from zope.interface import implements
+from zope.interface import implementer
 from plone.app.workflow.interfaces import ISharingPageRole
 from plone.app.workflow import permissions
 #from Products.CMFCore import permissions as core_permissions
@@ -11,32 +11,32 @@
 
 # These are for everyone
 
+@implementer(ISharingPageRole)
 class ReaderRole(object):
-    implements(ISharingPageRole)
 
     title = _(u"title_can_view", default=u"Can view")
     required_permission = permissions.DelegateReaderRole
     required_interface = None
 
 
+@implementer(ISharingPageRole)
 class EditorRole(object):
-    implements(ISharingPageRole)
 
     title = _(u"title_can_edit", default=u"Can edit")
     required_permission = permissions.DelegateEditorRole
     required_interface = None
 
 
+@implementer(ISharingPageRole)
 class ContributorRole(object):
-    implements(ISharingPageRole)
 
     title = _(u"title_can_add", default=u"Can add")
     required_permission = permissions.DelegateContributorRole
     required_interface = None
 
 
+@implementer(ISharingPageRole)
 class ReviewerRole(object):
-    implements(ISharingPageRole)
 
     title = _(u"title_can_review", default=u"Can review")
     required_permission = permissions.DelegateReviewerRole


