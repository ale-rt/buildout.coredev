Repository: Products.CMFPlone


Branch: refs/heads/4.3.x
Date: 2016-06-14T15:58:54-03:00
Author: hvelarde (hvelarde) <hector.velarde@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/920a2a853eb5afd05908f37d1bed6ece2604623b

Render an empty &lt;dd&gt; tag on folder_listing template when no description is available to avoid validation issues

Files changed:
M Products/CMFPlone/skins/plone_content/folder_listing.pt
M docs/CHANGES.rst

diff --git a/Products/CMFPlone/skins/plone_content/folder_listing.pt b/Products/CMFPlone/skins/plone_content/folder_listing.pt
index b693826..d969a1b 100644
--- a/Products/CMFPlone/skins/plone_content/folder_listing.pt
+++ b/Products/CMFPlone/skins/plone_content/folder_listing.pt
@@ -164,10 +164,11 @@
 
                 </dt>
 
-                <dd tal:condition="item_description">
+                <dd>
                     <span class="description"
-                           tal:content="item_description">
-                        description
+                        tal:condition="item_description"
+                        tal:content="item_description">
+                        Description
                     </span>
                 </dd>
             </metal:block>
@@ -193,4 +194,4 @@
 </metal:content-core>
 
 </body>
-</html>
\ No newline at end of file
+</html>
diff --git a/docs/CHANGES.rst b/docs/CHANGES.rst
index 623af44..2368b34 100644
--- a/docs/CHANGES.rst
+++ b/docs/CHANGES.rst
@@ -14,6 +14,9 @@ Changelog
 
 Fixes:
 
+- Render an empty ``<dd>`` tag on ``folder_listing`` template when no description is available to avoid validation issues.
+  [hvelarde]
+
 - Removed docstrings from PropertyManager methods to avoid publishing them.  [maurits]
 
 - Added publishing patch from Products.PloneHotfix20160419.


Repository: Products.CMFPlone


Branch: refs/heads/4.3.x
Date: 2016-06-15T12:45:24+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/f937a0ea5dfb2fffbde78d9b1ebe3b9ff0545756

Merge pull request #1637 from plone/hvelarde-dd

Render an empty &lt;dd&gt; tag on folder_listing template when no description is available to avoid validation issues

Files changed:
M Products/CMFPlone/skins/plone_content/folder_listing.pt
M docs/CHANGES.rst

diff --git a/Products/CMFPlone/skins/plone_content/folder_listing.pt b/Products/CMFPlone/skins/plone_content/folder_listing.pt
index b693826..d969a1b 100644
--- a/Products/CMFPlone/skins/plone_content/folder_listing.pt
+++ b/Products/CMFPlone/skins/plone_content/folder_listing.pt
@@ -164,10 +164,11 @@
 
                 </dt>
 
-                <dd tal:condition="item_description">
+                <dd>
                     <span class="description"
-                           tal:content="item_description">
-                        description
+                        tal:condition="item_description"
+                        tal:content="item_description">
+                        Description
                     </span>
                 </dd>
             </metal:block>
@@ -193,4 +194,4 @@
 </metal:content-core>
 
 </body>
-</html>
\ No newline at end of file
+</html>
diff --git a/docs/CHANGES.rst b/docs/CHANGES.rst
index 623af44..2368b34 100644
--- a/docs/CHANGES.rst
+++ b/docs/CHANGES.rst
@@ -14,6 +14,9 @@ Changelog
 
 Fixes:
 
+- Render an empty ``<dd>`` tag on ``folder_listing`` template when no description is available to avoid validation issues.
+  [hvelarde]
+
 - Removed docstrings from PropertyManager methods to avoid publishing them.  [maurits]
 
 - Added publishing patch from Products.PloneHotfix20160419.


