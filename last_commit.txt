Repository: plone.app.layout


Branch: refs/heads/master
Date: 2016-03-01T16:31:24+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.layout/commit/351e0b752f07a4dfa0e39f54991458f331d5b9f9

Fixed html validation: element nav does not need a role attribute.

Files changed:
M CHANGES.rst
M plone/app/layout/viewlets/path_bar.pt
M plone/app/layout/viewlets/sections.pt
M plone/app/layout/viewlets/toolbar.pt

diff --git a/CHANGES.rst b/CHANGES.rst
index 6faad97..e466895 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,6 +10,9 @@ New:
 
 Fixes:
 
+- Fixed html validation: element nav does not need a role attribute.
+  [maurits]
+
 - Fix test isolation problems: if a test calls transaction.commit() directly or
   indirectly it can not be an integration test, either avoid the commit or
   change the layer into a functional one.
diff --git a/plone/app/layout/viewlets/path_bar.pt b/plone/app/layout/viewlets/path_bar.pt
index fd32f4a..655ba2f 100644
--- a/plone/app/layout/viewlets/path_bar.pt
+++ b/plone/app/layout/viewlets/path_bar.pt
@@ -1,4 +1,4 @@
-<nav id="portal-breadcrumbs" class="plone-breadcrumb" role="navigation"
+<nav id="portal-breadcrumbs" class="plone-breadcrumb"
          i18n:domain="plone"
          tal:define="breadcrumbs view/breadcrumbs">
   <div class="container">
diff --git a/plone/app/layout/viewlets/sections.pt b/plone/app/layout/viewlets/sections.pt
index f103f2b..5045941 100644
--- a/plone/app/layout/viewlets/sections.pt
+++ b/plone/app/layout/viewlets/sections.pt
@@ -7,7 +7,7 @@
      i18n:domain="plone">
 
   <p class="hiddenStructure" i18n:translate="heading_sections">Navigation</p>
-  <nav class="plone-navbar" id="portal-globalnav-wrapper" role="navigation">
+  <nav class="plone-navbar" id="portal-globalnav-wrapper">
     <div class="container">
       <div class="plone-navbar-header">
         <button type="button" class="plone-navbar-toggle" data-toggle="collapse" data-target="#portal-globalnav-collapse">
diff --git a/plone/app/layout/viewlets/toolbar.pt b/plone/app/layout/viewlets/toolbar.pt
index 0f443c3..7dd8a68 100644
--- a/plone/app/layout/viewlets/toolbar.pt
+++ b/plone/app/layout/viewlets/toolbar.pt
@@ -9,7 +9,7 @@
         <img alt="Plone Toolbar" tal:attributes="src view/get_toolbar_logo" />
       </a>
       <a class="plone-toolbar-switcher" tal:condition="view/show_switcher"><span>Left-Top switcher</span></a>
-      <nav role="navigation">
+      <nav>
         <ul class="plone-toolbar-main">
           <div tal:replace="structure view/base_render">
           </div>


Repository: plone.app.layout


Branch: refs/heads/master
Date: 2016-03-11T13:02:22+01:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.app.layout/commit/0771b1d6fe83609ceb3a2aca14e18a814a021a41

Merge pull request #81 from plone/maurits-fix-html-validation

Fixed html validation: element nav does not need a role attribute.

Files changed:
M CHANGES.rst
M plone/app/layout/viewlets/path_bar.pt
M plone/app/layout/viewlets/sections.pt
M plone/app/layout/viewlets/toolbar.pt

diff --git a/CHANGES.rst b/CHANGES.rst
index 077ab7a..7a3f4f7 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -12,6 +12,9 @@ New:
 
 Fixes:
 
+- Fixed html validation: element nav does not need a role attribute.
+  [maurits]
+
 - Fix test isolation problems: if a test calls transaction.commit() directly or
   indirectly it can not be an integration test, either avoid the commit or
   change the layer into a functional one.
diff --git a/plone/app/layout/viewlets/path_bar.pt b/plone/app/layout/viewlets/path_bar.pt
index fd32f4a..655ba2f 100644
--- a/plone/app/layout/viewlets/path_bar.pt
+++ b/plone/app/layout/viewlets/path_bar.pt
@@ -1,4 +1,4 @@
-<nav id="portal-breadcrumbs" class="plone-breadcrumb" role="navigation"
+<nav id="portal-breadcrumbs" class="plone-breadcrumb"
          i18n:domain="plone"
          tal:define="breadcrumbs view/breadcrumbs">
   <div class="container">
diff --git a/plone/app/layout/viewlets/sections.pt b/plone/app/layout/viewlets/sections.pt
index f103f2b..5045941 100644
--- a/plone/app/layout/viewlets/sections.pt
+++ b/plone/app/layout/viewlets/sections.pt
@@ -7,7 +7,7 @@
      i18n:domain="plone">
 
   <p class="hiddenStructure" i18n:translate="heading_sections">Navigation</p>
-  <nav class="plone-navbar" id="portal-globalnav-wrapper" role="navigation">
+  <nav class="plone-navbar" id="portal-globalnav-wrapper">
     <div class="container">
       <div class="plone-navbar-header">
         <button type="button" class="plone-navbar-toggle" data-toggle="collapse" data-target="#portal-globalnav-collapse">
diff --git a/plone/app/layout/viewlets/toolbar.pt b/plone/app/layout/viewlets/toolbar.pt
index 0f443c3..7dd8a68 100644
--- a/plone/app/layout/viewlets/toolbar.pt
+++ b/plone/app/layout/viewlets/toolbar.pt
@@ -9,7 +9,7 @@
         <img alt="Plone Toolbar" tal:attributes="src view/get_toolbar_logo" />
       </a>
       <a class="plone-toolbar-switcher" tal:condition="view/show_switcher"><span>Left-Top switcher</span></a>
-      <nav role="navigation">
+      <nav>
         <ul class="plone-toolbar-main">
           <div tal:replace="structure view/base_render">
           </div>


