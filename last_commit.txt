Repository: plone.app.robotframework


Branch: refs/heads/master
Date: 2016-02-25T23:57:18+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.robotframework/commit/117f780e81a642673a24e67478e792f538e5e10e

Do not require argparse, decorator, and simplejson in Python 2.7.

Only lower.

Files changed:
M CHANGES.txt
M setup.py

diff --git a/CHANGES.txt b/CHANGES.txt
index ba785e2..c5c720a 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -4,9 +4,14 @@ Changelog
 0.9.15 (unreleased)
 -------------------
 
+Fixes:
+
+- Do not require argparse, decorator, and simplejson in Python 2.7,
+  only lower.  [maurits]
+
 - Replace import of ``zope.testing.testrunner`` with ``zope.testrunner``.
   [thet]
-  
+
 
 0.9.14 (2015-10-11)
 -------------------
diff --git a/setup.py b/setup.py
index 0bb1daa..b2f7511 100644
--- a/setup.py
+++ b/setup.py
@@ -1,5 +1,6 @@
 from setuptools import setup
 from setuptools import find_packages
+import sys
 
 version = '0.9.15.dev0'
 
@@ -43,9 +44,7 @@ def indent(line):
     'Products.MailHost',
     'Products.PlonePAS',
     'Products.PluggableAuthService',
-    'argparse',
     'babel',
-    'decorator',   # required by r.selenium2library on Python 2.6.x
     'five.globalrequest',
     'plone.app.testing',
     'plone.testing',
@@ -55,7 +54,6 @@ def indent(line):
     'robotsuite',  # not a direct dependency, but required for convenience
     'selenium',
     'setuptools',
-    'simplejson',  # required for SauceLabs-keywords on Python 2.6.x
     'zope.component',
     'zope.configuration',
     'zope.i18n',
@@ -63,6 +61,13 @@ def indent(line):
     'zope.testrunner',
 ]
 
+if sys.version_info < (2, 7):
+    install_requires.extend([
+        'argparse',
+        'decorator',   # required by r.selenium2library on Python 2.6.x
+        'simplejson',  # required for SauceLabs-keywords on Python 2.6.x
+        ])
+
 test_requires = [
     'plone.app.dexterity',
     'plone.app.textfield',


Repository: plone.app.robotframework


Branch: refs/heads/master
Date: 2016-02-26T13:57:52+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.robotframework/commit/0cfabf9b4b18ce52a0463a4511cf3381b13fcd22

Merge pull request #53 from plone/cleanup-requires-27

Do not require argparse, decorator, and simplejson in Python 2.7.

Files changed:
M CHANGES.txt
M setup.py

diff --git a/CHANGES.txt b/CHANGES.txt
index ba785e2..c5c720a 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -4,9 +4,14 @@ Changelog
 0.9.15 (unreleased)
 -------------------
 
+Fixes:
+
+- Do not require argparse, decorator, and simplejson in Python 2.7,
+  only lower.  [maurits]
+
 - Replace import of ``zope.testing.testrunner`` with ``zope.testrunner``.
   [thet]
-  
+
 
 0.9.14 (2015-10-11)
 -------------------
diff --git a/setup.py b/setup.py
index 0bb1daa..b2f7511 100644
--- a/setup.py
+++ b/setup.py
@@ -1,5 +1,6 @@
 from setuptools import setup
 from setuptools import find_packages
+import sys
 
 version = '0.9.15.dev0'
 
@@ -43,9 +44,7 @@ def indent(line):
     'Products.MailHost',
     'Products.PlonePAS',
     'Products.PluggableAuthService',
-    'argparse',
     'babel',
-    'decorator',   # required by r.selenium2library on Python 2.6.x
     'five.globalrequest',
     'plone.app.testing',
     'plone.testing',
@@ -55,7 +54,6 @@ def indent(line):
     'robotsuite',  # not a direct dependency, but required for convenience
     'selenium',
     'setuptools',
-    'simplejson',  # required for SauceLabs-keywords on Python 2.6.x
     'zope.component',
     'zope.configuration',
     'zope.i18n',
@@ -63,6 +61,13 @@ def indent(line):
     'zope.testrunner',
 ]
 
+if sys.version_info < (2, 7):
+    install_requires.extend([
+        'argparse',
+        'decorator',   # required by r.selenium2library on Python 2.6.x
+        'simplejson',  # required for SauceLabs-keywords on Python 2.6.x
+        ])
+
 test_requires = [
     'plone.app.dexterity',
     'plone.app.textfield',


