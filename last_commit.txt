Repository: plone.session


Branch: refs/heads/master
Date: 2016-05-22T00:13:34+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.session/commit/6d26c86ed5a39d6e114f5e31ce14aa8b4999b934

Added uninstall profile.

Files changed:
A plone/session/profiles/uninstall/cssregistry.xml
A plone/session/profiles/uninstall/jsregistry.xml
A plone/session/profiles/uninstall/metadata.xml
M CHANGES.rst
M plone/session/profiles.zcml
M setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 60c6239..7cddb52 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -1,12 +1,12 @@
 Changelog
 =========
 
-3.5.7 (unreleased)
+3.6.0 (unreleased)
 ------------------
 
 New:
 
-- *add item here*
+- Added uninstall profile.  [maurits]
 
 Fixes:
 
diff --git a/plone/session/profiles.zcml b/plone/session/profiles.zcml
index 01aec3d..f91f85e 100644
--- a/plone/session/profiles.zcml
+++ b/plone/session/profiles.zcml
@@ -10,4 +10,12 @@
       title="Session refresh support"
   />
 
+  <registerProfile
+      description="Optional plone.session refresh support. [uninstall]"
+      directory="profiles/uninstall"
+      name="uninstall"
+      provides="Products.GenericSetup.interfaces.EXTENSION"
+      title="Session refresh support [uninstall]"
+  />
+
 </configure>
diff --git a/plone/session/profiles/uninstall/cssregistry.xml b/plone/session/profiles/uninstall/cssregistry.xml
new file mode 100644
index 0000000..629e2e8
--- /dev/null
+++ b/plone/session/profiles/uninstall/cssregistry.xml
@@ -0,0 +1,7 @@
+<?xml version="1.0"?>
+<object name="portal_css" meta_type="Stylesheets Registry">
+    <stylesheet
+        id="acl_users/session/refresh?session_refresh=true&amp;type=css&amp;minutes=5"
+        remove="true"
+        />
+</object>
diff --git a/plone/session/profiles/uninstall/jsregistry.xml b/plone/session/profiles/uninstall/jsregistry.xml
new file mode 100644
index 0000000..5a754c7
--- /dev/null
+++ b/plone/session/profiles/uninstall/jsregistry.xml
@@ -0,0 +1,7 @@
+<?xml version="1.0"?>
+<object name="portal_javascripts" meta_type="JavaScripts Registry">
+    <javascript
+        id="++resource++plone.session.refreshsupport.js"
+        remove="true"
+        />
+</object>
diff --git a/plone/session/profiles/uninstall/metadata.xml b/plone/session/profiles/uninstall/metadata.xml
new file mode 100644
index 0000000..b22370d
--- /dev/null
+++ b/plone/session/profiles/uninstall/metadata.xml
@@ -0,0 +1,4 @@
+<?xml version="1.0"?>
+<metadata>
+  <version>1000</version>
+</metadata>
diff --git a/setup.py b/setup.py
index 6b47d14..4f2f179 100644
--- a/setup.py
+++ b/setup.py
@@ -2,7 +2,7 @@
 from setuptools import find_packages
 from setuptools import setup
 
-version = '3.5.7.dev0'
+version = '3.6.0.dev0'
 longdescription = open("README.rst").read()
 longdescription += '\n'
 longdescription += open("CHANGES.rst").read()


Repository: plone.session


Branch: refs/heads/master
Date: 2016-05-22T08:58:53+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.session/commit/fcf3dc22ebe1c042b1c94bceaca1725a2ef18a29

Merge pull request #7 from plone/uninstall-profile

Added uninstall profile.

Files changed:
A plone/session/profiles/uninstall/cssregistry.xml
A plone/session/profiles/uninstall/jsregistry.xml
A plone/session/profiles/uninstall/metadata.xml
M CHANGES.rst
M plone/session/profiles.zcml
M setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 60c6239..7cddb52 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -1,12 +1,12 @@
 Changelog
 =========
 
-3.5.7 (unreleased)
+3.6.0 (unreleased)
 ------------------
 
 New:
 
-- *add item here*
+- Added uninstall profile.  [maurits]
 
 Fixes:
 
diff --git a/plone/session/profiles.zcml b/plone/session/profiles.zcml
index 01aec3d..f91f85e 100644
--- a/plone/session/profiles.zcml
+++ b/plone/session/profiles.zcml
@@ -10,4 +10,12 @@
       title="Session refresh support"
   />
 
+  <registerProfile
+      description="Optional plone.session refresh support. [uninstall]"
+      directory="profiles/uninstall"
+      name="uninstall"
+      provides="Products.GenericSetup.interfaces.EXTENSION"
+      title="Session refresh support [uninstall]"
+  />
+
 </configure>
diff --git a/plone/session/profiles/uninstall/cssregistry.xml b/plone/session/profiles/uninstall/cssregistry.xml
new file mode 100644
index 0000000..629e2e8
--- /dev/null
+++ b/plone/session/profiles/uninstall/cssregistry.xml
@@ -0,0 +1,7 @@
+<?xml version="1.0"?>
+<object name="portal_css" meta_type="Stylesheets Registry">
+    <stylesheet
+        id="acl_users/session/refresh?session_refresh=true&amp;type=css&amp;minutes=5"
+        remove="true"
+        />
+</object>
diff --git a/plone/session/profiles/uninstall/jsregistry.xml b/plone/session/profiles/uninstall/jsregistry.xml
new file mode 100644
index 0000000..5a754c7
--- /dev/null
+++ b/plone/session/profiles/uninstall/jsregistry.xml
@@ -0,0 +1,7 @@
+<?xml version="1.0"?>
+<object name="portal_javascripts" meta_type="JavaScripts Registry">
+    <javascript
+        id="++resource++plone.session.refreshsupport.js"
+        remove="true"
+        />
+</object>
diff --git a/plone/session/profiles/uninstall/metadata.xml b/plone/session/profiles/uninstall/metadata.xml
new file mode 100644
index 0000000..b22370d
--- /dev/null
+++ b/plone/session/profiles/uninstall/metadata.xml
@@ -0,0 +1,4 @@
+<?xml version="1.0"?>
+<metadata>
+  <version>1000</version>
+</metadata>
diff --git a/setup.py b/setup.py
index 6b47d14..4f2f179 100644
--- a/setup.py
+++ b/setup.py
@@ -2,7 +2,7 @@
 from setuptools import find_packages
 from setuptools import setup
 
-version = '3.5.7.dev0'
+version = '3.6.0.dev0'
 longdescription = open("README.rst").read()
 longdescription += '\n'
 longdescription += open("CHANGES.rst").read()


