Repository: plone.cachepurging


Branch: refs/heads/master
Date: 2016-09-29T15:08:51+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.cachepurging/commit/a0604973a04802b8a0d618f2f49ae43f207f0000

Restored info from 1.0.12 release.

I released this to PyPI on 8 August, but apparently forgot to push.
Note: the 1.0.12 tag is there.

Files changed:
M CHANGES.rst
M plone/cachepurging/tests/test_utils.py
M setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 336e031..798c1f1 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -1,7 +1,7 @@
 Changelog
 =========
 
-1.0.12 (unreleased)
+1.0.13 (unreleased)
 -------------------
 
 Breaking changes:
@@ -14,10 +14,19 @@ New features:
 
 Bug fixes:
 
-- Code-Style: isort, utf8-headers, zca-decorators, manual cleanup.
+- Code-Style: isort, utf8-headers, manual cleanup.
   [jensens]
 
 
+1.0.12 (2016-08-08)
+-------------------
+
+New features:
+
+- Use zope.interface decorator.
+  [gforcada]
+
+
 1.0.11 (2016-01-08)
 -------------------
 
diff --git a/plone/cachepurging/tests/test_utils.py b/plone/cachepurging/tests/test_utils.py
index 3b8e20b..eba88ea 100644
--- a/plone/cachepurging/tests/test_utils.py
+++ b/plone/cachepurging/tests/test_utils.py
@@ -10,7 +10,6 @@
 from zope.component import adapter
 from zope.component import provideAdapter
 from zope.component import provideUtility
-from zope.interface import implements
 from zope.interface import implementer
 
 import unittest
@@ -159,7 +158,6 @@ def getAbsolutePaths(self):
         @implementer(IPurgePathRewriter)
         @adapter(FauxRequest)
         class DefaultRewriter(object):
-            implements(IPurgePathRewriter)
             adapts(FauxRequest)
 
             def __init__(self, request):
@@ -233,8 +231,9 @@ def __call__(self, path):
         )
 
     def test_rewriter_abort(self):
+
+        @implementer(IPurgePaths)
         class FauxPurgePaths1(object):
-            implements(IPurgePaths)
             adapts(FauxContext)
 
             def __init__(self, context):
diff --git a/setup.py b/setup.py
index 5631b7e..859fb79 100644
--- a/setup.py
+++ b/setup.py
@@ -1,6 +1,6 @@
 from setuptools import setup, find_packages
 
-version = '1.0.12.dev0'
+version = '1.0.13.dev0'
 
 setup(
     name='plone.cachepurging',


Repository: plone.cachepurging


Branch: refs/heads/master
Date: 2016-09-29T15:09:07+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.cachepurging/commit/a2af92c55e24c5c3de2990e50f9eeb6f03122c3d

Use implementer in README too.

Files changed:
M README.rst

diff --git a/README.rst b/README.rst
index 174ef01..f8dabb9 100644
--- a/README.rst
+++ b/README.rst
@@ -303,19 +303,19 @@ Let's say you wanted to always purge the URL ``${object_url}/view`` for any
 object providing ``IContentish`` from CMF. A simple implementation may look
 like this::
 
-    from zope.interface import implements
+    from zope.interface import implementer
     from zope.component import adapts
 
     from z3c.caching.interfaces import IPurgePaths
 
     from Products.CMFCore.interfaces import IContentish
 
+    @implementer(IPurgePaths)
     class ObjectViewPurgePaths(object):
         """Purge /view for any content object with the content object's
         default URL
         """
 
-        implements(IPurgePaths)
         adapts(IContentish)
 
         def __init__(self, context):


