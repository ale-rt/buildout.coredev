Repository: plone.app.ldap


Branch: refs/heads/master
Date: 2017-10-22T12:39:04+02:00
Author: ale-rt (ale-rt) <alessandro.pisa@gmail.com>
Commit: https://github.com/plone/plone.app.ldap/commit/29f6b4889b1220602c71c147c40fc65be7619f81

Imports are Python3 compatible

Files changed:
M CHANGES.rst
M plone/app/ldap/ploneldap/exportimport.py
M setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index ba77d95..d575802 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,8 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Imports are Python3 compatible
+  [ale-rt]
 
 
 1.4.1 (2017-08-27)
diff --git a/plone/app/ldap/ploneldap/exportimport.py b/plone/app/ldap/ploneldap/exportimport.py
index 2911e05..c4020f6 100644
--- a/plone/app/ldap/ploneldap/exportimport.py
+++ b/plone/app/ldap/ploneldap/exportimport.py
@@ -1,18 +1,23 @@
 # -*- coding: utf-8 -*-
-
-from StringIO import StringIO
 from plone.app.ldap.engine.interfaces import ILDAPConfiguration
 from plone.app.ldap.engine.schema import LDAPProperty
 from plone.app.ldap.engine.server import LDAPServer
-from plone.app.ldap.engine.storage import LDAPServerStorage, LDAPSchema
-from plone.app.ldap.ploneldap.util import getLDAPPlugin, createLDAPPlugin, \
-    getPAS, configureLDAPSchema, configureLDAPServers
+from plone.app.ldap.engine.storage import LDAPSchema
+from plone.app.ldap.engine.storage import LDAPServerStorage
+from plone.app.ldap.ploneldap.util import configureLDAPSchema
+from plone.app.ldap.ploneldap.util import configureLDAPServers
+from plone.app.ldap.ploneldap.util import createLDAPPlugin
+from plone.app.ldap.ploneldap.util import getLDAPPlugin
+from plone.app.ldap.ploneldap.util import getPAS
+from six import StringIO
 from xml.dom.minidom import parseString
 from zope.component import getUtility
 from zope.pagetemplate.pagetemplatefile import PageTemplateFile
+
 import ast
 import logging
 
+
 ldap_props = ['_login_attr',
               '_uid_attr',
               '_rdnattr',
diff --git a/setup.py b/setup.py
index 2aa298c..4513c75 100644
--- a/setup.py
+++ b/setup.py
@@ -1,5 +1,7 @@
 # -*- coding: utf-8 -*-
-from setuptools import setup, find_packages
+from setuptools import find_packages
+from setuptools import setup
+
 
 version = '1.4.2.dev0'
 
@@ -38,6 +40,7 @@
           'Products.PloneLDAP',
           'python-ldap',
           'setuptools',
+          'six',
           'zope.component',
           'zope.i18nmessageid',
           'zope.interface',


Repository: plone.app.ldap


Branch: refs/heads/master
Date: 2017-10-24T23:46:17+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.ldap/commit/6eabab4fff8a13bda1f3d00749e2fbfbc911bc73

Avoid starting a browser for createcoverage on Travis.

Files changed:
M .travis.yml

diff --git a/.travis.yml b/.travis.yml
index a9c6103..586f7af 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -25,7 +25,7 @@ script:
   - bin/code-analysis
   - bin/test
 after_success:
-  - bin/createcoverage
+  - bin/createcoverage --output-dir=htmlcov
   - pip install -q coveralls
   - coveralls
 notifications:


Repository: plone.app.ldap


Branch: refs/heads/master
Date: 2017-10-25T00:18:33+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.ldap/commit/8469e911e8ae4f09099d690d59ec39ea58b5dee7

Merge pull request #33 from plone/py3_imports

Imports are Python3 compatible

Files changed:
M .travis.yml
M CHANGES.rst
M plone/app/ldap/ploneldap/exportimport.py
M setup.py

diff --git a/.travis.yml b/.travis.yml
index a9c6103..586f7af 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -25,7 +25,7 @@ script:
   - bin/code-analysis
   - bin/test
 after_success:
-  - bin/createcoverage
+  - bin/createcoverage --output-dir=htmlcov
   - pip install -q coveralls
   - coveralls
 notifications:
diff --git a/CHANGES.rst b/CHANGES.rst
index ba77d95..d575802 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,8 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Imports are Python3 compatible
+  [ale-rt]
 
 
 1.4.1 (2017-08-27)
diff --git a/plone/app/ldap/ploneldap/exportimport.py b/plone/app/ldap/ploneldap/exportimport.py
index 2911e05..c4020f6 100644
--- a/plone/app/ldap/ploneldap/exportimport.py
+++ b/plone/app/ldap/ploneldap/exportimport.py
@@ -1,18 +1,23 @@
 # -*- coding: utf-8 -*-
-
-from StringIO import StringIO
 from plone.app.ldap.engine.interfaces import ILDAPConfiguration
 from plone.app.ldap.engine.schema import LDAPProperty
 from plone.app.ldap.engine.server import LDAPServer
-from plone.app.ldap.engine.storage import LDAPServerStorage, LDAPSchema
-from plone.app.ldap.ploneldap.util import getLDAPPlugin, createLDAPPlugin, \
-    getPAS, configureLDAPSchema, configureLDAPServers
+from plone.app.ldap.engine.storage import LDAPSchema
+from plone.app.ldap.engine.storage import LDAPServerStorage
+from plone.app.ldap.ploneldap.util import configureLDAPSchema
+from plone.app.ldap.ploneldap.util import configureLDAPServers
+from plone.app.ldap.ploneldap.util import createLDAPPlugin
+from plone.app.ldap.ploneldap.util import getLDAPPlugin
+from plone.app.ldap.ploneldap.util import getPAS
+from six import StringIO
 from xml.dom.minidom import parseString
 from zope.component import getUtility
 from zope.pagetemplate.pagetemplatefile import PageTemplateFile
+
 import ast
 import logging
 
+
 ldap_props = ['_login_attr',
               '_uid_attr',
               '_rdnattr',
diff --git a/setup.py b/setup.py
index 2aa298c..4513c75 100644
--- a/setup.py
+++ b/setup.py
@@ -1,5 +1,7 @@
 # -*- coding: utf-8 -*-
-from setuptools import setup, find_packages
+from setuptools import find_packages
+from setuptools import setup
+
 
 version = '1.4.2.dev0'
 
@@ -38,6 +40,7 @@
           'Products.PloneLDAP',
           'python-ldap',
           'setuptools',
+          'six',
           'zope.component',
           'zope.i18nmessageid',
           'zope.interface',


