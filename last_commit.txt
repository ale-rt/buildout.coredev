Repository: plone.resource


Branch: refs/heads/master
Date: 2017-10-22T16:43:17+02:00
Author: ale-rt (ale-rt) <alessandro.pisa@gmail.com>
Commit: https://github.com/plone/plone.resource/commit/698879519e53148ba657f2db94f0bb1136631d47

Require unittest2 only if we use Python &lt; 2.7

Files changed:
M CHANGES.rst
M setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index ffbe282..2abcc4f 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,8 +14,8 @@ New features:
 
 Bug fixes:
 
-- *add item here*
-
+- Require unittest2 only if we use Python < 2.7
+  [ale-rt]
 
 1.2.1 (2016-12-30)
 ------------------
diff --git a/setup.py b/setup.py
index 9fbb682..6235102 100644
--- a/setup.py
+++ b/setup.py
@@ -2,8 +2,18 @@
 from setuptools import find_packages
 from setuptools import setup
 
+import sys
+
+
 version = '1.2.2.dev0'
 
+test_requires = [
+    'plone.app.testing',
+]
+if sys.version_info < (2, 7):
+    test_requires.append('unittest2')
+
+
 setup(
     name='plone.resource',
     version=version,
@@ -46,10 +56,7 @@
         'Zope2',
     ],
     extras_require={
-        'test': [
-	    'plone.app.testing',
-            'unittest2',
-        ]
+        'test': test_requires,
     },
     entry_points="""
     [z3c.autoinclude.plugin]


Repository: plone.resource


Branch: refs/heads/master
Date: 2017-10-24T20:34:39+02:00
Author: ale-rt (ale-rt) <alessandro.pisa@gmail.com>
Commit: https://github.com/plone/plone.resource/commit/761141a65935257786fbfcf5720650909214088b

Remove unittest2

Files changed:
M CHANGES.rst
M plone/resource/tests/test_directory.py
M plone/resource/tests/test_file.py
M plone/resource/tests/test_integration.py
M plone/resource/tests/test_manifest.py
M plone/resource/tests/test_traversal.py
M plone/resource/tests/test_utils.py
M plone/resource/tests/test_zcml.py
M plone/resource/tests/test_zip_download.py
M setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 2abcc4f..ee3f095 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -1,12 +1,13 @@
 Changelog
 =========
 
-1.2.2 (unreleased)
+2.0.0 (unreleased)
 ------------------
 
 Breaking changes:
 
-- *add item here*
+- Remove Python2.6 support.
+  [ale-rt]
 
 New features:
 
@@ -14,8 +15,7 @@ New features:
 
 Bug fixes:
 
-- Require unittest2 only if we use Python < 2.7
-  [ale-rt]
+- *add item here*
 
 1.2.1 (2016-12-30)
 ------------------
diff --git a/plone/resource/tests/test_directory.py b/plone/resource/tests/test_directory.py
index 3b25687..9d4314a 100644
--- a/plone/resource/tests/test_directory.py
+++ b/plone/resource/tests/test_directory.py
@@ -1,6 +1,4 @@
 # -*- coding: utf-8 -*-
-import os.path
-import unittest2 as unittest
 from Acquisition import aq_base
 from plone.resource.events import PloneResourceCreatedEvent
 from plone.resource.events import PloneResourceModifiedEvent
@@ -10,6 +8,10 @@
 from zope.component import adapter
 from zope.component import provideHandler
 
+import os.path
+import unittest
+
+
 class TestPersistentResourceDirectory(unittest.TestCase):
 
     def _makeOne(self):
diff --git a/plone/resource/tests/test_file.py b/plone/resource/tests/test_file.py
index 35d6fe5..baee728 100644
--- a/plone/resource/tests/test_file.py
+++ b/plone/resource/tests/test_file.py
@@ -1,7 +1,9 @@
 # -*- coding: utf-8 -*-
-import unittest2 as unittest
 from plone.testing.zca import UNIT_TESTING
 
+import unittest
+
+
 class TestFilesystemResourceDirectory(unittest.TestCase):
 
     layer = UNIT_TESTING
diff --git a/plone/resource/tests/test_integration.py b/plone/resource/tests/test_integration.py
index bc48813..1d14068 100644
--- a/plone/resource/tests/test_integration.py
+++ b/plone/resource/tests/test_integration.py
@@ -1,7 +1,8 @@
 # -*- coding: utf-8 -*-
-import unittest2 as unittest
-from plone.resource.testing import PLONE_RESOURCE_INTEGRATION_TESTING
 from plone.resource.interfaces import IResourceDirectory
+from plone.resource.testing import PLONE_RESOURCE_INTEGRATION_TESTING
+
+import unittest
 
 
 class IntegrationTestCase(unittest.TestCase):
diff --git a/plone/resource/tests/test_manifest.py b/plone/resource/tests/test_manifest.py
index e43aa15..7c0eeb6 100644
--- a/plone/resource/tests/test_manifest.py
+++ b/plone/resource/tests/test_manifest.py
@@ -1,26 +1,21 @@
 # -*- coding: utf-8 -*-
-import unittest2 as unittest
-from plone.testing import zca
-
-from plone.resource.testing import DEMO_TRAVERSER_INTEGRATION_TESTING
-
-import zipfile
-import os.path
-
-from zope.component import provideUtility
-
+from plone.resource.directory import FilesystemResourceDirectory
+from plone.resource.directory import PersistentResourceDirectory
 from plone.resource.interfaces import IResourceDirectory
-
-from plone.resource.manifest import ManifestFormat
-from plone.resource.manifest import getManifest
 from plone.resource.manifest import extractManifestFromZipFile
 from plone.resource.manifest import getAllResources
+from plone.resource.manifest import getManifest
 from plone.resource.manifest import getZODBResources
+from plone.resource.manifest import ManifestFormat
+from plone.resource.testing import DEMO_TRAVERSER_INTEGRATION_TESTING
+from plone.testing import zca
+from Products.BTreeFolder2.BTreeFolder2 import BTreeFolder2
+from zope.component import provideUtility
 
-from plone.resource.directory import FilesystemResourceDirectory
-from plone.resource.directory import PersistentResourceDirectory
+import os.path
+import unittest
+import zipfile
 
-from Products.BTreeFolder2.BTreeFolder2 import BTreeFolder2
 
 base_path = os.path.dirname(__file__)
 test_dir_path = os.path.join(base_path, 'resources')
diff --git a/plone/resource/tests/test_traversal.py b/plone/resource/tests/test_traversal.py
index fd9886c..5e65c04 100644
--- a/plone/resource/tests/test_traversal.py
+++ b/plone/resource/tests/test_traversal.py
@@ -1,18 +1,20 @@
 # -*- coding: utf-8 -*-
-import unittest2 as unittest
-from plone.testing import zca, z2
-from plone.resource.testing import DEMO_TRAVERSER_INTEGRATION_TESTING
-
-import os.path
-from zExceptions import NotFound
-from zope.component import provideUtility
-from Products.BTreeFolder2.BTreeFolder2 import BTreeFolder2
-from plone.resource.interfaces import IResourceDirectory
-from plone.resource.interfaces import IUniqueResourceRequest
-from plone.resource.directory import PersistentResourceDirectory
 from plone.resource.directory import FilesystemResourceDirectory
+from plone.resource.directory import PersistentResourceDirectory
 from plone.resource.file import FilesystemFile
+from plone.resource.interfaces import IResourceDirectory
+from plone.resource.interfaces import IUniqueResourceRequest
+from plone.resource.testing import DEMO_TRAVERSER_INTEGRATION_TESTING
+from plone.testing import z2
+from plone.testing import zca
+from Products.BTreeFolder2.BTreeFolder2 import BTreeFolder2
 from zExceptions import Forbidden
+from zExceptions import NotFound
+from zope.component import provideUtility
+
+import os.path
+import unittest
+
 
 base_path = os.path.dirname(__file__)
 test_dir_path = os.path.join(base_path, 'resources')
diff --git a/plone/resource/tests/test_utils.py b/plone/resource/tests/test_utils.py
index dff568d..dff82b6 100644
--- a/plone/resource/tests/test_utils.py
+++ b/plone/resource/tests/test_utils.py
@@ -1,14 +1,15 @@
 # -*- coding: utf-8 -*-
-import unittest2 as unittest
-from plone.testing import zca
+from plone.resource.directory import FilesystemResourceDirectory
+from plone.resource.directory import PersistentResourceDirectory
+from plone.resource.interfaces import IResourceDirectory
 from plone.resource.testing import DEMO_TRAVERSER_INTEGRATION_TESTING
+from plone.testing import zca
+from Products.BTreeFolder2.BTreeFolder2 import BTreeFolder2
+from zope.component import provideUtility
 
 import os.path
-from zope.component import provideUtility
-from Products.BTreeFolder2.BTreeFolder2 import BTreeFolder2
-from plone.resource.interfaces import IResourceDirectory
-from plone.resource.directory import PersistentResourceDirectory
-from plone.resource.directory import FilesystemResourceDirectory
+import unittest
+
 
 base_path = os.path.dirname(__file__)
 test_dir_path = os.path.join(base_path, 'resources')
diff --git a/plone/resource/tests/test_zcml.py b/plone/resource/tests/test_zcml.py
index 7c36d95..e49845a 100644
--- a/plone/resource/tests/test_zcml.py
+++ b/plone/resource/tests/test_zcml.py
@@ -1,13 +1,14 @@
 # -*- coding: utf-8 -*-
-import unittest2 as unittest
+from plone.resource.interfaces import IResourceDirectory
+from StringIO import StringIO
+from zope.component import getUtility
 from zope.component.testing import tearDown
 from zope.configuration.exceptions import ConfigurationError
+from zope.configuration.xmlconfig import xmlconfig
+from zope.configuration.xmlconfig import XMLConfig
 
 import os.path
-from StringIO import StringIO
-from zope.configuration.xmlconfig import xmlconfig, XMLConfig
-from zope.component import getUtility
-from plone.resource.interfaces import IResourceDirectory
+import unittest
 
 
 def clearZCML(test=None):
diff --git a/plone/resource/tests/test_zip_download.py b/plone/resource/tests/test_zip_download.py
index ff85b50..ea97b50 100644
--- a/plone/resource/tests/test_zip_download.py
+++ b/plone/resource/tests/test_zip_download.py
@@ -1,21 +1,18 @@
 # -*- coding: utf-8 -*-
-import unittest2 as unittest
-from plone.testing import zca
+from OFS.Image import File
+from plone.resource.directory import FilesystemResourceDirectory
+from plone.resource.directory import PersistentResourceDirectory
+from plone.resource.interfaces import IResourceDirectory
 from plone.resource.testing import DEMO_TRAVERSER_INTEGRATION_TESTING
-
-import zipfile
-import os.path
-
+from plone.testing import zca
+from Products.BTreeFolder2.BTreeFolder2 import BTreeFolder2
 from StringIO import StringIO
-
 from zope.component import provideUtility
 
-from Products.BTreeFolder2.BTreeFolder2 import BTreeFolder2
-from OFS.Image import File
+import os.path
+import unittest
+import zipfile
 
-from plone.resource.interfaces import IResourceDirectory
-from plone.resource.directory import PersistentResourceDirectory
-from plone.resource.directory import FilesystemResourceDirectory
 
 base_path = os.path.dirname(__file__)
 test_dir_path = os.path.join(base_path, 'resources')
diff --git a/setup.py b/setup.py
index 6235102..78a859a 100644
--- a/setup.py
+++ b/setup.py
@@ -2,17 +2,12 @@
 from setuptools import find_packages
 from setuptools import setup
 
-import sys
 
-
-version = '1.2.2.dev0'
+version = '2.0.0.dev0'
 
 test_requires = [
     'plone.app.testing',
 ]
-if sys.version_info < (2, 7):
-    test_requires.append('unittest2')
-
 
 setup(
     name='plone.resource',
@@ -25,11 +20,9 @@
     ),
     classifiers=[
         "Framework :: Plone",
-        "Framework :: Plone :: 4.3",
         "Framework :: Plone :: 5.0",
         "Framework :: Plone :: 5.1",
         "Programming Language :: Python",
-        "Programming Language :: Python :: 2.6",
         "Programming Language :: Python :: 2.7",
     ],
     keywords='plone resource',


Repository: plone.resource


Branch: refs/heads/master
Date: 2017-10-27T17:22:33+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.resource/commit/19e4937e024a34b1803c4be50065ac0d53406bc5

Merge pull request #19 from plone/unittest2

Require unittest2 only if we use Python &lt; 2.7

Files changed:
M CHANGES.rst
M plone/resource/tests/test_directory.py
M plone/resource/tests/test_file.py
M plone/resource/tests/test_integration.py
M plone/resource/tests/test_manifest.py
M plone/resource/tests/test_traversal.py
M plone/resource/tests/test_utils.py
M plone/resource/tests/test_zcml.py
M plone/resource/tests/test_zip_download.py
M setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index ffbe282..ee3f095 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -1,12 +1,13 @@
 Changelog
 =========
 
-1.2.2 (unreleased)
+2.0.0 (unreleased)
 ------------------
 
 Breaking changes:
 
-- *add item here*
+- Remove Python2.6 support.
+  [ale-rt]
 
 New features:
 
@@ -16,7 +17,6 @@ Bug fixes:
 
 - *add item here*
 
-
 1.2.1 (2016-12-30)
 ------------------
 
diff --git a/plone/resource/tests/test_directory.py b/plone/resource/tests/test_directory.py
index 3b25687..9d4314a 100644
--- a/plone/resource/tests/test_directory.py
+++ b/plone/resource/tests/test_directory.py
@@ -1,6 +1,4 @@
 # -*- coding: utf-8 -*-
-import os.path
-import unittest2 as unittest
 from Acquisition import aq_base
 from plone.resource.events import PloneResourceCreatedEvent
 from plone.resource.events import PloneResourceModifiedEvent
@@ -10,6 +8,10 @@
 from zope.component import adapter
 from zope.component import provideHandler
 
+import os.path
+import unittest
+
+
 class TestPersistentResourceDirectory(unittest.TestCase):
 
     def _makeOne(self):
diff --git a/plone/resource/tests/test_file.py b/plone/resource/tests/test_file.py
index 35d6fe5..baee728 100644
--- a/plone/resource/tests/test_file.py
+++ b/plone/resource/tests/test_file.py
@@ -1,7 +1,9 @@
 # -*- coding: utf-8 -*-
-import unittest2 as unittest
 from plone.testing.zca import UNIT_TESTING
 
+import unittest
+
+
 class TestFilesystemResourceDirectory(unittest.TestCase):
 
     layer = UNIT_TESTING
diff --git a/plone/resource/tests/test_integration.py b/plone/resource/tests/test_integration.py
index bc48813..1d14068 100644
--- a/plone/resource/tests/test_integration.py
+++ b/plone/resource/tests/test_integration.py
@@ -1,7 +1,8 @@
 # -*- coding: utf-8 -*-
-import unittest2 as unittest
-from plone.resource.testing import PLONE_RESOURCE_INTEGRATION_TESTING
 from plone.resource.interfaces import IResourceDirectory
+from plone.resource.testing import PLONE_RESOURCE_INTEGRATION_TESTING
+
+import unittest
 
 
 class IntegrationTestCase(unittest.TestCase):
diff --git a/plone/resource/tests/test_manifest.py b/plone/resource/tests/test_manifest.py
index e43aa15..7c0eeb6 100644
--- a/plone/resource/tests/test_manifest.py
+++ b/plone/resource/tests/test_manifest.py
@@ -1,26 +1,21 @@
 # -*- coding: utf-8 -*-
-import unittest2 as unittest
-from plone.testing import zca
-
-from plone.resource.testing import DEMO_TRAVERSER_INTEGRATION_TESTING
-
-import zipfile
-import os.path
-
-from zope.component import provideUtility
-
+from plone.resource.directory import FilesystemResourceDirectory
+from plone.resource.directory import PersistentResourceDirectory
 from plone.resource.interfaces import IResourceDirectory
-
-from plone.resource.manifest import ManifestFormat
-from plone.resource.manifest import getManifest
 from plone.resource.manifest import extractManifestFromZipFile
 from plone.resource.manifest import getAllResources
+from plone.resource.manifest import getManifest
 from plone.resource.manifest import getZODBResources
+from plone.resource.manifest import ManifestFormat
+from plone.resource.testing import DEMO_TRAVERSER_INTEGRATION_TESTING
+from plone.testing import zca
+from Products.BTreeFolder2.BTreeFolder2 import BTreeFolder2
+from zope.component import provideUtility
 
-from plone.resource.directory import FilesystemResourceDirectory
-from plone.resource.directory import PersistentResourceDirectory
+import os.path
+import unittest
+import zipfile
 
-from Products.BTreeFolder2.BTreeFolder2 import BTreeFolder2
 
 base_path = os.path.dirname(__file__)
 test_dir_path = os.path.join(base_path, 'resources')
diff --git a/plone/resource/tests/test_traversal.py b/plone/resource/tests/test_traversal.py
index fd9886c..5e65c04 100644
--- a/plone/resource/tests/test_traversal.py
+++ b/plone/resource/tests/test_traversal.py
@@ -1,18 +1,20 @@
 # -*- coding: utf-8 -*-
-import unittest2 as unittest
-from plone.testing import zca, z2
-from plone.resource.testing import DEMO_TRAVERSER_INTEGRATION_TESTING
-
-import os.path
-from zExceptions import NotFound
-from zope.component import provideUtility
-from Products.BTreeFolder2.BTreeFolder2 import BTreeFolder2
-from plone.resource.interfaces import IResourceDirectory
-from plone.resource.interfaces import IUniqueResourceRequest
-from plone.resource.directory import PersistentResourceDirectory
 from plone.resource.directory import FilesystemResourceDirectory
+from plone.resource.directory import PersistentResourceDirectory
 from plone.resource.file import FilesystemFile
+from plone.resource.interfaces import IResourceDirectory
+from plone.resource.interfaces import IUniqueResourceRequest
+from plone.resource.testing import DEMO_TRAVERSER_INTEGRATION_TESTING
+from plone.testing import z2
+from plone.testing import zca
+from Products.BTreeFolder2.BTreeFolder2 import BTreeFolder2
 from zExceptions import Forbidden
+from zExceptions import NotFound
+from zope.component import provideUtility
+
+import os.path
+import unittest
+
 
 base_path = os.path.dirname(__file__)
 test_dir_path = os.path.join(base_path, 'resources')
diff --git a/plone/resource/tests/test_utils.py b/plone/resource/tests/test_utils.py
index dff568d..dff82b6 100644
--- a/plone/resource/tests/test_utils.py
+++ b/plone/resource/tests/test_utils.py
@@ -1,14 +1,15 @@
 # -*- coding: utf-8 -*-
-import unittest2 as unittest
-from plone.testing import zca
+from plone.resource.directory import FilesystemResourceDirectory
+from plone.resource.directory import PersistentResourceDirectory
+from plone.resource.interfaces import IResourceDirectory
 from plone.resource.testing import DEMO_TRAVERSER_INTEGRATION_TESTING
+from plone.testing import zca
+from Products.BTreeFolder2.BTreeFolder2 import BTreeFolder2
+from zope.component import provideUtility
 
 import os.path
-from zope.component import provideUtility
-from Products.BTreeFolder2.BTreeFolder2 import BTreeFolder2
-from plone.resource.interfaces import IResourceDirectory
-from plone.resource.directory import PersistentResourceDirectory
-from plone.resource.directory import FilesystemResourceDirectory
+import unittest
+
 
 base_path = os.path.dirname(__file__)
 test_dir_path = os.path.join(base_path, 'resources')
diff --git a/plone/resource/tests/test_zcml.py b/plone/resource/tests/test_zcml.py
index 7c36d95..e49845a 100644
--- a/plone/resource/tests/test_zcml.py
+++ b/plone/resource/tests/test_zcml.py
@@ -1,13 +1,14 @@
 # -*- coding: utf-8 -*-
-import unittest2 as unittest
+from plone.resource.interfaces import IResourceDirectory
+from StringIO import StringIO
+from zope.component import getUtility
 from zope.component.testing import tearDown
 from zope.configuration.exceptions import ConfigurationError
+from zope.configuration.xmlconfig import xmlconfig
+from zope.configuration.xmlconfig import XMLConfig
 
 import os.path
-from StringIO import StringIO
-from zope.configuration.xmlconfig import xmlconfig, XMLConfig
-from zope.component import getUtility
-from plone.resource.interfaces import IResourceDirectory
+import unittest
 
 
 def clearZCML(test=None):
diff --git a/plone/resource/tests/test_zip_download.py b/plone/resource/tests/test_zip_download.py
index ff85b50..ea97b50 100644
--- a/plone/resource/tests/test_zip_download.py
+++ b/plone/resource/tests/test_zip_download.py
@@ -1,21 +1,18 @@
 # -*- coding: utf-8 -*-
-import unittest2 as unittest
-from plone.testing import zca
+from OFS.Image import File
+from plone.resource.directory import FilesystemResourceDirectory
+from plone.resource.directory import PersistentResourceDirectory
+from plone.resource.interfaces import IResourceDirectory
 from plone.resource.testing import DEMO_TRAVERSER_INTEGRATION_TESTING
-
-import zipfile
-import os.path
-
+from plone.testing import zca
+from Products.BTreeFolder2.BTreeFolder2 import BTreeFolder2
 from StringIO import StringIO
-
 from zope.component import provideUtility
 
-from Products.BTreeFolder2.BTreeFolder2 import BTreeFolder2
-from OFS.Image import File
+import os.path
+import unittest
+import zipfile
 
-from plone.resource.interfaces import IResourceDirectory
-from plone.resource.directory import PersistentResourceDirectory
-from plone.resource.directory import FilesystemResourceDirectory
 
 base_path = os.path.dirname(__file__)
 test_dir_path = os.path.join(base_path, 'resources')
diff --git a/setup.py b/setup.py
index 9fbb682..78a859a 100644
--- a/setup.py
+++ b/setup.py
@@ -2,7 +2,12 @@
 from setuptools import find_packages
 from setuptools import setup
 
-version = '1.2.2.dev0'
+
+version = '2.0.0.dev0'
+
+test_requires = [
+    'plone.app.testing',
+]
 
 setup(
     name='plone.resource',
@@ -15,11 +20,9 @@
     ),
     classifiers=[
         "Framework :: Plone",
-        "Framework :: Plone :: 4.3",
         "Framework :: Plone :: 5.0",
         "Framework :: Plone :: 5.1",
         "Programming Language :: Python",
-        "Programming Language :: Python :: 2.6",
         "Programming Language :: Python :: 2.7",
     ],
     keywords='plone resource',
@@ -46,10 +49,7 @@
         'Zope2',
     ],
     extras_require={
-        'test': [
-	    'plone.app.testing',
-            'unittest2',
-        ]
+        'test': test_requires,
     },
     entry_points="""
     [z3c.autoinclude.plugin]


