Repository: plone.app.robotframework


Branch: refs/heads/master
Date: 2016-02-23T13:27:24+01:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.app.robotframework/commit/6794b8790eff28ab83dc5a8c0af86e7c74a8a932

Replace import of zope.testing.testrunner with zope.testrunner.

Files changed:
M CHANGES.txt
M setup.py
M src/plone/app/robotframework/server.py

diff --git a/CHANGES.txt b/CHANGES.txt
index 7745222..ba785e2 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -4,8 +4,9 @@ Changelog
 0.9.15 (unreleased)
 -------------------
 
-- Nothing changed yet.
-
+- Replace import of ``zope.testing.testrunner`` with ``zope.testrunner``.
+  [thet]
+  
 
 0.9.14 (2015-10-11)
 -------------------
diff --git a/setup.py b/setup.py
index 69e4537..0bb1daa 100644
--- a/setup.py
+++ b/setup.py
@@ -60,7 +60,7 @@ def indent(line):
     'zope.configuration',
     'zope.i18n',
     'zope.schema',
-    'zope.testing',
+    'zope.testrunner',
 ]
 
 test_requires = [
diff --git a/src/plone/app/robotframework/server.py b/src/plone/app/robotframework/server.py
index bb089c7..deed6da 100644
--- a/src/plone/app/robotframework/server.py
+++ b/src/plone/app/robotframework/server.py
@@ -272,7 +272,7 @@ def zodb_setup(self, layer_dotted_name=None):
         if layer_dotted_name:
             self.set_zope_layer(layer_dotted_name)
 
-        from zope.testing.testrunner.runner import order_by_bases
+        from zope.testrunner.runner import order_by_bases
         layers = order_by_bases([self.zope_layer])
         for layer in layers:
             if hasattr(layer, 'testSetUp'):
@@ -287,7 +287,7 @@ def zodb_teardown(self, layer_dotted_name=None):
         if layer_dotted_name:
             self.set_zope_layer(layer_dotted_name)
 
-        from zope.testing.testrunner.runner import order_by_bases
+        from zope.testrunner.runner import order_by_bases
         layers = order_by_bases([self.zope_layer])
         layers.reverse()
         for layer in layers:
@@ -327,7 +327,7 @@ def setup_layer(layer, setup_layers=setup_layers):
 
 
 def tear_down(setup_layers=setup_layers):
-    from zope.testing.testrunner.runner import order_by_bases
+    from zope.testrunner.runner import order_by_bases
     # Tear down any layers not needed for these tests. The unneeded layers
     # might interfere.
     unneeded = [l for l in setup_layers]


Repository: plone.app.robotframework


Branch: refs/heads/master
Date: 2016-02-23T22:33:44+01:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.app.robotframework/commit/8093be23aae7089c96187b7e756f1d23d6e9af73

Merge pull request #52 from plone/thet-zope4

Zope 4 compatibility

Files changed:
M CHANGES.txt
M setup.py
M src/plone/app/robotframework/server.py

diff --git a/CHANGES.txt b/CHANGES.txt
index 7745222..ba785e2 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -4,8 +4,9 @@ Changelog
 0.9.15 (unreleased)
 -------------------
 
-- Nothing changed yet.
-
+- Replace import of ``zope.testing.testrunner`` with ``zope.testrunner``.
+  [thet]
+  
 
 0.9.14 (2015-10-11)
 -------------------
diff --git a/setup.py b/setup.py
index 69e4537..0bb1daa 100644
--- a/setup.py
+++ b/setup.py
@@ -60,7 +60,7 @@ def indent(line):
     'zope.configuration',
     'zope.i18n',
     'zope.schema',
-    'zope.testing',
+    'zope.testrunner',
 ]
 
 test_requires = [
diff --git a/src/plone/app/robotframework/server.py b/src/plone/app/robotframework/server.py
index bb089c7..deed6da 100644
--- a/src/plone/app/robotframework/server.py
+++ b/src/plone/app/robotframework/server.py
@@ -272,7 +272,7 @@ def zodb_setup(self, layer_dotted_name=None):
         if layer_dotted_name:
             self.set_zope_layer(layer_dotted_name)
 
-        from zope.testing.testrunner.runner import order_by_bases
+        from zope.testrunner.runner import order_by_bases
         layers = order_by_bases([self.zope_layer])
         for layer in layers:
             if hasattr(layer, 'testSetUp'):
@@ -287,7 +287,7 @@ def zodb_teardown(self, layer_dotted_name=None):
         if layer_dotted_name:
             self.set_zope_layer(layer_dotted_name)
 
-        from zope.testing.testrunner.runner import order_by_bases
+        from zope.testrunner.runner import order_by_bases
         layers = order_by_bases([self.zope_layer])
         layers.reverse()
         for layer in layers:
@@ -327,7 +327,7 @@ def setup_layer(layer, setup_layers=setup_layers):
 
 
 def tear_down(setup_layers=setup_layers):
-    from zope.testing.testrunner.runner import order_by_bases
+    from zope.testrunner.runner import order_by_bases
     # Tear down any layers not needed for these tests. The unneeded layers
     # might interfere.
     unneeded = [l for l in setup_layers]


