Repository: plone.app.robotframework


Branch: refs/heads/master
Date: 2017-02-22T21:14:45+02:00
Author: Asko Soukka (datakurre) <asko.soukka@iki.fi>
Commit: https://github.com/plone/plone.app.robotframework/commit/3142369cd7fa7cb73007ec0338eae02216355427

Fix issue where custom pybot-entrypoint failed to parse Sphinx-document with :ref:

Files changed:
M src/plone/app/robotframework/robotentrypoints.py

diff --git a/src/plone/app/robotframework/robotentrypoints.py b/src/plone/app/robotframework/robotentrypoints.py
index 11dffdd..d2966a0 100644
--- a/src/plone/app/robotframework/robotentrypoints.py
+++ b/src/plone/app/robotframework/robotentrypoints.py
@@ -19,12 +19,13 @@ def pybot():
     from docutils.parsers.rst.directives import register_directive
     from docutils.parsers.rst.roles import register_local_role
     dummy_directive = lambda *args: []
+    dummy_role = lambda *args: ([], [])
     options = ('maxdepth', 'creates', 'numbered', 'hidden')
     setattr(dummy_directive, 'content', True)
     setattr(dummy_directive, 'options', dict([(opt, str) for opt in options]))
     register_directive('toctree', dummy_directive)
     register_directive('robotframework', dummy_directive)
-    register_local_role('ref', dummy_directive)
+    register_local_role('ref', dummy_role)
 
     # Run pybot
     run_cli(sys.argv[1:])
@@ -80,12 +81,13 @@ def pybabel():
     from docutils.parsers.rst.directives import register_directive
     from docutils.parsers.rst.roles import register_local_role
     dummy_directive = lambda *args: []
+    dummy_role = lambda *args: ([], [])
     options = ('maxdepth', 'creates', 'numbered', 'hidden')
     setattr(dummy_directive, 'content', True)
     setattr(dummy_directive, 'options', dict([(opt, str) for opt in options]))
     register_directive('toctree', dummy_directive)
     register_directive('robotframework', dummy_directive)
-    register_local_role('ref', dummy_directive)
+    register_local_role('ref', dummy_role)
 
     from babel.messages.frontend import main
     main()


Repository: plone.app.robotframework


Branch: refs/heads/master
Date: 2017-02-22T21:15:42+02:00
Author: Asko Soukka (datakurre) <asko.soukka@iki.fi>
Commit: https://github.com/plone/plone.app.robotframework/commit/0d16a23f0bf03c18af48e5c568b9d18c41d88f21

Update changelog

Files changed:
M CHANGES.rst

diff --git a/CHANGES.rst b/CHANGES.rst
index 627b2a1..693a31f 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -4,17 +4,10 @@ Changelog
 1.0.2 (unreleased)
 ------------------
 
-Breaking changes:
-
-- *add item here*
-
-New features:
-
-- *add item here*
-
 Bug fixes:
 
-- *add item here*
+- Fix issue where custom pybot-entrypoint failed to parse Sphinx-document with :ref:
+  [datakurre]
 
 
 1.0.1 (2016-09-08)


