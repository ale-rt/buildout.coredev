Repository: plone.behavior


Branch: refs/heads/master
Date: 2016-11-21T18:40:33+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.behavior/commit/e6dcfc5672e41ad960ecb60fc2c1c064c1737867

document missing attr "name", overhaul other descriptions.

Files changed:
M CHANGES.rst
M plone/behavior/interfaces.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 6a4f7f4..6c220db 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,10 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Add already introduced attribute ``name`` to interface IBehavior.
+  This was missing.
+  Also modernized other IBehavior interface descriptions a bit.
+  [jensens]
 
 
 1.1.3 (2016-11-09)
diff --git a/plone/behavior/interfaces.py b/plone/behavior/interfaces.py
index 1384ebf..c324a5d 100644
--- a/plone/behavior/interfaces.py
+++ b/plone/behavior/interfaces.py
@@ -29,34 +29,41 @@ class IBehavior(Interface):
     """
 
     title = schema.TextLine(
-        title=u"Short title of the behavior",
+        title=u'Short title of the behavior',
         required=True
     )
 
     description = schema.Text(
-        title=u"Longer description of the behavior",
+        title=u'Longer description of the behavior',
+        required=False
+    )
+
+    name = schema.TextLine(
+        title=u'Readable short name to be used for behavior lookup',
+        description=u'E.g. plone.somebehavior. If not given the full dotted '
+                    u'name of the interfaces is used for lookup instead.'
+                    u'Recommended, but due to BBB not required.',
         required=False
     )
 
     interface = schema.Object(
-        title=u"Interface describing this behavior",
+        title=u'Interface describing this behavior',
         required=True,
         schema=IInterface
     )
 
     marker = schema.Object(
-        title=u"Marker interface for objects sporting this behavior",
-        description=u"Due to the persistent nature of marker interfaces, "
-                    u"you should only use this if you really need it, e.g. "
-                    u"to support specific view or viewlet registrations. "
-                    u"Subtypes will typically be set when an object is "
-                    u"created",
+        title=u'Marker interface for objects sporting this behavior',
+        description=u'Markers are persisted in the ZODB. '
+                    u'Required when a factory is given, because the factory '
+                    u'is an adapter adapting the the marker and providing the '
+                    u'"interface" of this behavior.',
         required=False,
         schema=IInterface
     )
 
     factory = schema.Object(
-        title=u"An adapter factory for the behavior",
+        title=u'An adapter factory for the behavior',
         required=True,
         schema=Interface
     )
@@ -77,8 +84,10 @@ class IBehaviorAdapterFactory(Interface):
      the context cannot be adapted to IBehaviorAssignable at all.
     """
 
-    behavior = schema.Object(title=u"The behavior this is a factory for",
-                             schema=IBehavior)
+    behavior = schema.Object(
+        title=u"The behavior this is a factory for",
+        schema=IBehavior
+    )
 
     def __call__(context):
         """Invoke the behavior-specific factory if the context can be adapted


Repository: plone.behavior


Branch: refs/heads/master
Date: 2016-11-28T15:51:36+01:00
Author: agitator (agitator) <hpeter@agitator.com>
Commit: https://github.com/plone/plone.behavior/commit/739d17e040bfed12af9e7ca2a2ce188d36cadf0e

Merge pull request #10 from plone/fix-attribute-interface

document missing attr name

Files changed:
M CHANGES.rst
M plone/behavior/interfaces.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 6a4f7f4..6c220db 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,10 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Add already introduced attribute ``name`` to interface IBehavior.
+  This was missing.
+  Also modernized other IBehavior interface descriptions a bit.
+  [jensens]
 
 
 1.1.3 (2016-11-09)
diff --git a/plone/behavior/interfaces.py b/plone/behavior/interfaces.py
index 1384ebf..c324a5d 100644
--- a/plone/behavior/interfaces.py
+++ b/plone/behavior/interfaces.py
@@ -29,34 +29,41 @@ class IBehavior(Interface):
     """
 
     title = schema.TextLine(
-        title=u"Short title of the behavior",
+        title=u'Short title of the behavior',
         required=True
     )
 
     description = schema.Text(
-        title=u"Longer description of the behavior",
+        title=u'Longer description of the behavior',
+        required=False
+    )
+
+    name = schema.TextLine(
+        title=u'Readable short name to be used for behavior lookup',
+        description=u'E.g. plone.somebehavior. If not given the full dotted '
+                    u'name of the interfaces is used for lookup instead.'
+                    u'Recommended, but due to BBB not required.',
         required=False
     )
 
     interface = schema.Object(
-        title=u"Interface describing this behavior",
+        title=u'Interface describing this behavior',
         required=True,
         schema=IInterface
     )
 
     marker = schema.Object(
-        title=u"Marker interface for objects sporting this behavior",
-        description=u"Due to the persistent nature of marker interfaces, "
-                    u"you should only use this if you really need it, e.g. "
-                    u"to support specific view or viewlet registrations. "
-                    u"Subtypes will typically be set when an object is "
-                    u"created",
+        title=u'Marker interface for objects sporting this behavior',
+        description=u'Markers are persisted in the ZODB. '
+                    u'Required when a factory is given, because the factory '
+                    u'is an adapter adapting the the marker and providing the '
+                    u'"interface" of this behavior.',
         required=False,
         schema=IInterface
     )
 
     factory = schema.Object(
-        title=u"An adapter factory for the behavior",
+        title=u'An adapter factory for the behavior',
         required=True,
         schema=Interface
     )
@@ -77,8 +84,10 @@ class IBehaviorAdapterFactory(Interface):
      the context cannot be adapted to IBehaviorAssignable at all.
     """
 
-    behavior = schema.Object(title=u"The behavior this is a factory for",
-                             schema=IBehavior)
+    behavior = schema.Object(
+        title=u"The behavior this is a factory for",
+        schema=IBehavior
+    )
 
     def __call__(context):
         """Invoke the behavior-specific factory if the context can be adapted


