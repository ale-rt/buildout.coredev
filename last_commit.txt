Repository: plone.registry


Branch: refs/heads/master
Date: 2016-01-25T17:57:40+01:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.registry/commit/6417aed485291339df7f1929c9a8a3fb1dd205cb

Replace deprecated zope.testing.doctestunit import with doctest module from stdlib.

Files changed:
M CHANGES.rst
M plone/registry/tests.py
M setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index f22ed03..4995b04 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -6,6 +6,10 @@ Changelog
 
 Fixes:
 
+- Replace deprecated ``zope.testing.doctestunit`` import with ``doctest``
+  module from stdlib.
+  [thet]
+
 - Cleanup: Pep8, utf8 headers, whitespace fixes, readability, ReST-fixes,
   doc-style, etc.
   [jensens]
diff --git a/plone/registry/tests.py b/plone/registry/tests.py
index 5676dc4..afca760 100644
--- a/plone/registry/tests.py
+++ b/plone/registry/tests.py
@@ -6,7 +6,6 @@
 from zope.component import provideAdapter
 from zope.component import testing
 from zope.interface import Interface
-from zope.testing import doctestunit
 import doctest
 import unittest
 
@@ -131,21 +130,21 @@ def test_auto_migration(self):
 
 def test_suite():
     return unittest.TestSuite([
-        doctestunit.DocFileSuite(
+        doctest.DocFileSuite(
             'registry.rst',
             package='plone.registry',
             optionflags=doctest.NORMALIZE_WHITESPACE | doctest.ELLIPSIS,
             setUp=setUp,
             tearDown=testing.tearDown
         ),
-        doctestunit.DocFileSuite(
+        doctest.DocFileSuite(
             'events.rst',
             package='plone.registry',
             optionflags=doctest.NORMALIZE_WHITESPACE | doctest.ELLIPSIS,
             setUp=setUp,
             tearDown=testing.tearDown
         ),
-        doctestunit.DocFileSuite(
+        doctest.DocFileSuite(
             'field.rst',
             package='plone.registry',
             optionflags=doctest.NORMALIZE_WHITESPACE | doctest.ELLIPSIS,
diff --git a/setup.py b/setup.py
index 5b7709a..f5e715c 100644
--- a/setup.py
+++ b/setup.py
@@ -50,7 +50,6 @@ def read(*rnames):
         'zope.event',
         'zope.interface',
         'zope.schema',
-        'zope.testing',
     ],
     entry_points="""
     # -*- Entry points: -*-


Repository: plone.registry


Branch: refs/heads/master
Date: 2016-01-29T16:38:22+01:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.registry/commit/152c107503de11c8af73f86b87e03c2aea5ff3a3

Merge pull request #7 from plone/thet-zope4

Zope4

Files changed:
M CHANGES.rst
M plone/registry/tests.py
M setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index f22ed03..4995b04 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -6,6 +6,10 @@ Changelog
 
 Fixes:
 
+- Replace deprecated ``zope.testing.doctestunit`` import with ``doctest``
+  module from stdlib.
+  [thet]
+
 - Cleanup: Pep8, utf8 headers, whitespace fixes, readability, ReST-fixes,
   doc-style, etc.
   [jensens]
diff --git a/plone/registry/tests.py b/plone/registry/tests.py
index 5676dc4..afca760 100644
--- a/plone/registry/tests.py
+++ b/plone/registry/tests.py
@@ -6,7 +6,6 @@
 from zope.component import provideAdapter
 from zope.component import testing
 from zope.interface import Interface
-from zope.testing import doctestunit
 import doctest
 import unittest
 
@@ -131,21 +130,21 @@ def test_auto_migration(self):
 
 def test_suite():
     return unittest.TestSuite([
-        doctestunit.DocFileSuite(
+        doctest.DocFileSuite(
             'registry.rst',
             package='plone.registry',
             optionflags=doctest.NORMALIZE_WHITESPACE | doctest.ELLIPSIS,
             setUp=setUp,
             tearDown=testing.tearDown
         ),
-        doctestunit.DocFileSuite(
+        doctest.DocFileSuite(
             'events.rst',
             package='plone.registry',
             optionflags=doctest.NORMALIZE_WHITESPACE | doctest.ELLIPSIS,
             setUp=setUp,
             tearDown=testing.tearDown
         ),
-        doctestunit.DocFileSuite(
+        doctest.DocFileSuite(
             'field.rst',
             package='plone.registry',
             optionflags=doctest.NORMALIZE_WHITESPACE | doctest.ELLIPSIS,
diff --git a/setup.py b/setup.py
index 5b7709a..f5e715c 100644
--- a/setup.py
+++ b/setup.py
@@ -50,7 +50,6 @@ def read(*rnames):
         'zope.event',
         'zope.interface',
         'zope.schema',
-        'zope.testing',
     ],
     entry_points="""
     # -*- Entry points: -*-


