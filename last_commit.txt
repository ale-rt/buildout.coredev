Repository: plone.app.widgets


Branch: refs/heads/master
Date: 2016-11-02T16:34:07+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.widgets/commit/11e3c4043d3be1ca37a8b81787c1c665638433a6

Take more time during robot tests.

I hope that this makes a sometimes failing test always pass.

Files changed:
M CHANGES.rst
M plone/app/widgets/tests/robot/test_querystring_widget.robot

diff --git a/CHANGES.rst b/CHANGES.rst
index 7070672..36494ca 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,8 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Take more time during robot tests.
+  I hope that this makes a sometimes failing test always pass.  [maurits]
 
 
 2.0.6 (2016-08-18)
diff --git a/plone/app/widgets/tests/robot/test_querystring_widget.robot b/plone/app/widgets/tests/robot/test_querystring_widget.robot
index 3339494..88a30c3 100644
--- a/plone/app/widgets/tests/robot/test_querystring_widget.robot
+++ b/plone/app/widgets/tests/robot/test_querystring_widget.robot
@@ -15,13 +15,15 @@ Querystring Widget rows appear and disappear correctly
     And I create a collection  My Collection
         Wait For Condition  return $('body.patterns-loaded').size() > 0
         Wait until page contains Element  css=${querywidget_selector} .querystring-criteria-wrapper:nth-child(1)
-        Page should not contain Element  css=${querywidget_selector} .querystring-criteria-wrapper:nth-child(2)
+        Sleep  1
+        Page should not contain Element   css=${querywidget_selector} .querystring-criteria-wrapper:nth-child(2)
    When I select criteria index in row  1  Expiration date
         Wait until page contains Element  css=${querywidget_selector} .querystring-criteria-wrapper:nth-child(2)
    When Click Element  css=${querywidget_selector} .querystring-criteria-wrapper:nth-child(2) .querystring-criteria-remove
         Wait until page contains Element  css=${querywidget_selector} .querystring-criteria-wrapper:nth-child(2)
    When Click Element  css=${querywidget_selector} .querystring-criteria-wrapper:nth-child(1) .querystring-criteria-remove
-        Page should not contain Element  css=${querywidget_selector} .querystring-criteria-wrapper:nth-child(2)
+        Sleep  1
+        Page should not contain Element   css=${querywidget_selector} .querystring-criteria-wrapper:nth-child(2)
 
 
 *** Comment out until we can figure out what is wrong with this test... ***


Repository: plone.app.widgets


Branch: refs/heads/master
Date: 2016-11-02T21:00:49+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.widgets/commit/a7ccb0fbd3a93367ae2c60407cbb3b98ab055bc4

Merge pull request #150 from plone/robot-sleep

Take more time during robot tests.

Files changed:
M CHANGES.rst
M plone/app/widgets/tests/robot/test_querystring_widget.robot

diff --git a/CHANGES.rst b/CHANGES.rst
index 7070672..36494ca 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,8 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Take more time during robot tests.
+  I hope that this makes a sometimes failing test always pass.  [maurits]
 
 
 2.0.6 (2016-08-18)
diff --git a/plone/app/widgets/tests/robot/test_querystring_widget.robot b/plone/app/widgets/tests/robot/test_querystring_widget.robot
index 3339494..88a30c3 100644
--- a/plone/app/widgets/tests/robot/test_querystring_widget.robot
+++ b/plone/app/widgets/tests/robot/test_querystring_widget.robot
@@ -15,13 +15,15 @@ Querystring Widget rows appear and disappear correctly
     And I create a collection  My Collection
         Wait For Condition  return $('body.patterns-loaded').size() > 0
         Wait until page contains Element  css=${querywidget_selector} .querystring-criteria-wrapper:nth-child(1)
-        Page should not contain Element  css=${querywidget_selector} .querystring-criteria-wrapper:nth-child(2)
+        Sleep  1
+        Page should not contain Element   css=${querywidget_selector} .querystring-criteria-wrapper:nth-child(2)
    When I select criteria index in row  1  Expiration date
         Wait until page contains Element  css=${querywidget_selector} .querystring-criteria-wrapper:nth-child(2)
    When Click Element  css=${querywidget_selector} .querystring-criteria-wrapper:nth-child(2) .querystring-criteria-remove
         Wait until page contains Element  css=${querywidget_selector} .querystring-criteria-wrapper:nth-child(2)
    When Click Element  css=${querywidget_selector} .querystring-criteria-wrapper:nth-child(1) .querystring-criteria-remove
-        Page should not contain Element  css=${querywidget_selector} .querystring-criteria-wrapper:nth-child(2)
+        Sleep  1
+        Page should not contain Element   css=${querywidget_selector} .querystring-criteria-wrapper:nth-child(2)
 
 
 *** Comment out until we can figure out what is wrong with this test... ***


