Repository: Products.contentmigration


Branch: refs/heads/master
Date: 2016-07-05T23:19:15+02:00
Author: Gil Forcada (gforcada) <gforcada@gnome.org>
Commit: https://github.com/plone/Products.contentmigration/commit/6ae846c42561d2fdc916eb641cf56daf293c3ce3

Use zope.interface decorator

This not only makes code more pleasent to read,
but also makes the code python 3 compatible
(while maintaining python 2 compatibility).

Files changed:
M CHANGES.txt
M Products/contentmigration/tests/extensions.py

diff --git a/CHANGES.txt b/CHANGES.txt
index 2d9e8b6..333dd16 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -14,7 +14,8 @@ New:
 
 Fixes:
 
-- *add item here*
+- Use zope.interface decorator.
+  [gforcada]
 
 
 2.1.12 (2016-03-31)
@@ -22,7 +23,7 @@ Fixes:
 
 Fixes:
 
-- HAS_LINGUA_PLONE now checks only if LinguaPlone is installed. 
+- HAS_LINGUA_PLONE now checks only if LinguaPlone is installed.
   No more if LinguaPlone or plone.app.multilingual is installed.
   [bsuttor]
 
diff --git a/Products/contentmigration/tests/extensions.py b/Products/contentmigration/tests/extensions.py
index 884266b..001423a 100644
--- a/Products/contentmigration/tests/extensions.py
+++ b/Products/contentmigration/tests/extensions.py
@@ -4,16 +4,16 @@
 from archetypes.schemaextender.field import ExtensionField
 from archetypes.schemaextender.interfaces import ISchemaExtender
 from zope.component import adapts
-from zope.interface import implements
+from zope.interface import implementer
 
 
 class MyStringField(ExtensionField, StringField):
     """A trivial field."""
 
 
+@implementer(ISchemaExtender)
 class PageExtender(object):
     adapts(IATDocument)  # XXX Might not work on Plone 3.
-    implements(ISchemaExtender)
 
     fields = [
         MyStringField(


Repository: Products.contentmigration


Branch: refs/heads/master
Date: 2016-07-10T20:30:35+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/Products.contentmigration/commit/d8613ff85971a39111a99bfc8dbf28ccbf1a48d7

Merge pull request #10 from plone/gforcada-use-zope-decorators

Use zope.interface decorator

Files changed:
M CHANGES.txt
M Products/contentmigration/tests/extensions.py

diff --git a/CHANGES.txt b/CHANGES.txt
index 2d9e8b6..333dd16 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -14,7 +14,8 @@ New:
 
 Fixes:
 
-- *add item here*
+- Use zope.interface decorator.
+  [gforcada]
 
 
 2.1.12 (2016-03-31)
@@ -22,7 +23,7 @@ Fixes:
 
 Fixes:
 
-- HAS_LINGUA_PLONE now checks only if LinguaPlone is installed. 
+- HAS_LINGUA_PLONE now checks only if LinguaPlone is installed.
   No more if LinguaPlone or plone.app.multilingual is installed.
   [bsuttor]
 
diff --git a/Products/contentmigration/tests/extensions.py b/Products/contentmigration/tests/extensions.py
index 884266b..001423a 100644
--- a/Products/contentmigration/tests/extensions.py
+++ b/Products/contentmigration/tests/extensions.py
@@ -4,16 +4,16 @@
 from archetypes.schemaextender.field import ExtensionField
 from archetypes.schemaextender.interfaces import ISchemaExtender
 from zope.component import adapts
-from zope.interface import implements
+from zope.interface import implementer
 
 
 class MyStringField(ExtensionField, StringField):
     """A trivial field."""
 
 
+@implementer(ISchemaExtender)
 class PageExtender(object):
     adapts(IATDocument)  # XXX Might not work on Plone 3.
-    implements(ISchemaExtender)
 
     fields = [
         MyStringField(


