Repository: Products.CMFPlone


Branch: refs/heads/4.3.x
Date: 2016-11-22T13:34:59+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/Products.CMFPlone/commit/5f8953d13652be262b64c26bd4daa564f1715d25

Fixed deprecation message for SecureMailHost regexps.

We were pointing to CMFPlone utils.py as the new canonical location,
but it is in PloneTool.py.

Files changed:
M Products/CMFPlone/patches/securemailhost.py

diff --git a/Products/CMFPlone/patches/securemailhost.py b/Products/CMFPlone/patches/securemailhost.py
index 3280829..1ee05bb 100644
--- a/Products/CMFPlone/patches/securemailhost.py
+++ b/Products/CMFPlone/patches/securemailhost.py
@@ -1,3 +1,4 @@
+# -*- coding: utf-8 -*-
 """This module provides backwards compatiblity for products using the
 SecureMailHost API.  It should be removed entirely for Plone 5.0."""
 import sys
@@ -26,17 +27,17 @@
 fake_module = ModuleProxy(smh_module or sys.modules[__name__])
 deferred = fake_module.__deferred_definitions__
 deferred['EMAIL_RE'] = DeferredAndDeprecated(
-                'EMAIL_RE',
-                'Products.CMFPlone.PloneTool:EMAIL_RE',
-                'EMAIL_RE has been moved from SecureMailHost, which is no '
-                'longer shipped with Plone.  It can be imported from '
-                'Products.CMFPlone.utils.EMAIL_RE')
+    'EMAIL_RE',
+    'Products.CMFPlone.PloneTool:EMAIL_RE',
+    'EMAIL_RE has been moved from SecureMailHost, which is no '
+    'longer shipped with Plone.  It can be imported from '
+    'Products.CMFPlone.PloneTool.EMAIL_RE')
 deferred['EMAIL_CUTOFF_RE'] = DeferredAndDeprecated(
-                     'EMAIL_CUTOFF_RE',
-                     'Products.CMFPlone.PloneTool:EMAIL_CUTOFF_RE',
-                     'EMAIL_CUTOFF_RE has been moved from SecureMailHost, '
-                     'which is no longer shipped with Plone.  It can be '
-                     'imported from Products.CMFPlone.utils.EMAIL_CUTOFF_RE')
+    'EMAIL_CUTOFF_RE',
+    'Products.CMFPlone.PloneTool:EMAIL_CUTOFF_RE',
+    'EMAIL_CUTOFF_RE has been moved from SecureMailHost, '
+    'which is no longer shipped with Plone.  It can be '
+    'imported from Products.CMFPlone.PloneTool.EMAIL_CUTOFF_RE')
 
 
 # We can't depend on SecureMailHost, so we have to reimplement


