Repository: plone.app.discussion


Branch: refs/heads/master
Date: 2017-01-24T10:41:15Z
Author: Daniel Jowett (djowett) <daniel@jowettenterprises.com>
Commit: https://github.com/plone/plone.app.discussion/commit/6547486fd8c2ec7042845944f65d96f9d00bcc02

Improve English on a couple of field descriptions

Files changed:
M CHANGES.rst
M plone/app/discussion/interfaces.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 63d0829..d352d62 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -17,6 +17,9 @@ Bug fixes:
 - Make comment on private content not publicly available in search results.
   Part of PloneHotfix20161129.  [vangheem, maurits]
 
+- Improve English on a couple of field descriptions
+  [djowett]
+
 
 2.4.19 (2017-01-02)
 -------------------
diff --git a/plone/app/discussion/interfaces.py b/plone/app/discussion/interfaces.py
index b5de309..a8d232c 100644
--- a/plone/app/discussion/interfaces.py
+++ b/plone/app/discussion/interfaces.py
@@ -199,9 +199,9 @@ class IDiscussionSettings(Interface):
         description=_(
             u'help_globally_enabled',
             default=u'If selected, users are able to post comments on the '
-                    u'site. Though, you have to enable comments for '
-                    u'specific content types, folders or content objects '
-                    u'before users will be able to post comments.'
+                    u'site. However, you will still need to enable comments '
+                    u'for specific content types, folders or content '
+                    u'objects before users will be able to post comments.'
         ),
         required=False,
         default=False,
@@ -213,7 +213,7 @@ class IDiscussionSettings(Interface):
         description=_(
             u'help_anonymous_comments',
             default=u'If selected, anonymous users are able to post '
-                    u'comments without loggin in. It is highly '
+                    u'comments without logging in. It is highly '
                     u'recommended to use a captcha solution to prevent '
                     u'spam if this setting is enabled.'
         ),


Repository: plone.app.discussion


Branch: refs/heads/master
Date: 2017-01-24T10:59:43Z
Author: Daniel Jowett (djowett) <daniel@jowettenterprises.com>
Commit: https://github.com/plone/plone.app.discussion/commit/d2bba1d5ea4f78bd28d4059698580504ebacaea6

Fix some easy pep8 issues

Files changed:
M CHANGES.rst
M plone/app/discussion/browser/captcha.py
M plone/app/discussion/browser/controlpanel.py
M plone/app/discussion/comment.py
M plone/app/discussion/tests/test_controlpanel.py

diff --git a/CHANGES.rst b/CHANGES.rst
index d352d62..01ea409 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -20,6 +20,9 @@ Bug fixes:
 - Improve English on a couple of field descriptions
   [djowett]
 
+- Fix some easy pep8 issues
+  [djowett]
+
 
 2.4.19 (2017-01-02)
 -------------------
diff --git a/plone/app/discussion/browser/captcha.py b/plone/app/discussion/browser/captcha.py
index 50a11a0..ffbda2f 100644
--- a/plone/app/discussion/browser/captcha.py
+++ b/plone/app/discussion/browser/captcha.py
@@ -65,3 +65,5 @@ def update(self):
                 self.form.fields['captcha'].widgetFactory = NorobotsFieldWidget
             else:
                 self.form.fields['captcha'].mode = interfaces.HIDDEN_MODE
+
+
diff --git a/plone/app/discussion/browser/controlpanel.py b/plone/app/discussion/browser/controlpanel.py
index 4bb3ba0..65bcce7 100644
--- a/plone/app/discussion/browser/controlpanel.py
+++ b/plone/app/discussion/browser/controlpanel.py
@@ -125,7 +125,8 @@ def settings(self):
             output.append('globally_enabled')
 
         # Comment moderation
-        one_state_worklow_disabled = 'comment_one_state_workflow' not in workflow_chain
+        one_state_worklow_disabled = \
+            'comment_one_state_workflow' not in workflow_chain
         comment_review_workflow_disabled = \
             'comment_review_workflow' not in workflow_chain
         if one_state_worklow_disabled and comment_review_workflow_disabled:
@@ -174,7 +175,8 @@ def custom_comment_workflow_warning(self):
         """
         wftool = getToolByName(self.context, 'portal_workflow', None)
         workflow_chain = wftool.getChainForPortalType('Discussion Item')
-        one_state_workflow_enabled = 'comment_one_state_workflow' in workflow_chain
+        one_state_workflow_enabled = \
+            'comment_one_state_workflow' in workflow_chain
         comment_review_workflow_enabled = \
             'comment_review_workflow' in workflow_chain
         if one_state_workflow_enabled or comment_review_workflow_enabled:
diff --git a/plone/app/discussion/comment.py b/plone/app/discussion/comment.py
index 6f2c04b..92c1c50 100644
--- a/plone/app/discussion/comment.py
+++ b/plone/app/discussion/comment.py
@@ -207,6 +207,7 @@ def opaqueIds(self):  # pragma: no cover
     def opaqueValues(self):  # pragma: no cover
         return []
 
+
 CommentFactory = Factory(Comment)
 
 
diff --git a/plone/app/discussion/tests/test_controlpanel.py b/plone/app/discussion/tests/test_controlpanel.py
index 4c09594..c3f1ac5 100644
--- a/plone/app/discussion/tests/test_controlpanel.py
+++ b/plone/app/discussion/tests/test_controlpanel.py
@@ -163,7 +163,8 @@ def test_moderation_enabled_in_discussion_control_panel_changed(self):
            the 'comment_moderation' setting in the discussion control panel
            changes.
         """
-        # By default the comment_one_state_workflow without moderation is enabled
+        # By default the comment_one_state_workflow without moderation is 
+        # enabled
         self.assertEqual(
             ('comment_one_state_workflow',),
             self.portal.portal_workflow.getChainForPortalType(


Repository: plone.app.discussion


Branch: refs/heads/master
Date: 2017-01-25T12:28:48+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.discussion/commit/0a2ef0c2d326a6cc27eede9430527608e64fd24b

Merge pull request #117 from plone/djowett-patch-1

Improve English on a couple of field descriptions

Files changed:
M CHANGES.rst
M plone/app/discussion/browser/captcha.py
M plone/app/discussion/browser/controlpanel.py
M plone/app/discussion/comment.py
M plone/app/discussion/interfaces.py
M plone/app/discussion/tests/test_controlpanel.py

diff --git a/CHANGES.rst b/CHANGES.rst
index eaa17aa..0610273 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -25,6 +25,12 @@ Bug fixes:
 - Make comment on private content not publicly available in search results.
   Part of PloneHotfix20161129.  [vangheem, maurits]
 
+- Improve English on a couple of field descriptions
+  [djowett]
+
+- Fix some easy pep8 issues
+  [djowett]
+
 
 2.4.19 (2017-01-02)
 -------------------
diff --git a/plone/app/discussion/browser/captcha.py b/plone/app/discussion/browser/captcha.py
index 50a11a0..ffbda2f 100644
--- a/plone/app/discussion/browser/captcha.py
+++ b/plone/app/discussion/browser/captcha.py
@@ -65,3 +65,5 @@ def update(self):
                 self.form.fields['captcha'].widgetFactory = NorobotsFieldWidget
             else:
                 self.form.fields['captcha'].mode = interfaces.HIDDEN_MODE
+
+
diff --git a/plone/app/discussion/browser/controlpanel.py b/plone/app/discussion/browser/controlpanel.py
index 4bb3ba0..65bcce7 100644
--- a/plone/app/discussion/browser/controlpanel.py
+++ b/plone/app/discussion/browser/controlpanel.py
@@ -125,7 +125,8 @@ def settings(self):
             output.append('globally_enabled')
 
         # Comment moderation
-        one_state_worklow_disabled = 'comment_one_state_workflow' not in workflow_chain
+        one_state_worklow_disabled = \
+            'comment_one_state_workflow' not in workflow_chain
         comment_review_workflow_disabled = \
             'comment_review_workflow' not in workflow_chain
         if one_state_worklow_disabled and comment_review_workflow_disabled:
@@ -174,7 +175,8 @@ def custom_comment_workflow_warning(self):
         """
         wftool = getToolByName(self.context, 'portal_workflow', None)
         workflow_chain = wftool.getChainForPortalType('Discussion Item')
-        one_state_workflow_enabled = 'comment_one_state_workflow' in workflow_chain
+        one_state_workflow_enabled = \
+            'comment_one_state_workflow' in workflow_chain
         comment_review_workflow_enabled = \
             'comment_review_workflow' in workflow_chain
         if one_state_workflow_enabled or comment_review_workflow_enabled:
diff --git a/plone/app/discussion/comment.py b/plone/app/discussion/comment.py
index 6f2c04b..92c1c50 100644
--- a/plone/app/discussion/comment.py
+++ b/plone/app/discussion/comment.py
@@ -207,6 +207,7 @@ def opaqueIds(self):  # pragma: no cover
     def opaqueValues(self):  # pragma: no cover
         return []
 
+
 CommentFactory = Factory(Comment)
 
 
diff --git a/plone/app/discussion/interfaces.py b/plone/app/discussion/interfaces.py
index b5de309..a8d232c 100644
--- a/plone/app/discussion/interfaces.py
+++ b/plone/app/discussion/interfaces.py
@@ -199,9 +199,9 @@ class IDiscussionSettings(Interface):
         description=_(
             u'help_globally_enabled',
             default=u'If selected, users are able to post comments on the '
-                    u'site. Though, you have to enable comments for '
-                    u'specific content types, folders or content objects '
-                    u'before users will be able to post comments.'
+                    u'site. However, you will still need to enable comments '
+                    u'for specific content types, folders or content '
+                    u'objects before users will be able to post comments.'
         ),
         required=False,
         default=False,
@@ -213,7 +213,7 @@ class IDiscussionSettings(Interface):
         description=_(
             u'help_anonymous_comments',
             default=u'If selected, anonymous users are able to post '
-                    u'comments without loggin in. It is highly '
+                    u'comments without logging in. It is highly '
                     u'recommended to use a captcha solution to prevent '
                     u'spam if this setting is enabled.'
         ),
diff --git a/plone/app/discussion/tests/test_controlpanel.py b/plone/app/discussion/tests/test_controlpanel.py
index 4c09594..c3f1ac5 100644
--- a/plone/app/discussion/tests/test_controlpanel.py
+++ b/plone/app/discussion/tests/test_controlpanel.py
@@ -163,7 +163,8 @@ def test_moderation_enabled_in_discussion_control_panel_changed(self):
            the 'comment_moderation' setting in the discussion control panel
            changes.
         """
-        # By default the comment_one_state_workflow without moderation is enabled
+        # By default the comment_one_state_workflow without moderation is 
+        # enabled
         self.assertEqual(
             ('comment_one_state_workflow',),
             self.portal.portal_workflow.getChainForPortalType(


