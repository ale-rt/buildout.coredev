Repository: plone.app.layout


Branch: refs/heads/master
Date: 2017-11-17T11:59:01+01:00
Author: Alessandro Pisa (ale-rt) <alessandro.pisa@gmail.com>
Commit: https://github.com/plone/plone.app.layout/commit/162c417277b767b8042a7a7a05bbb6811bfdf5f1

Imports are Python3 compatible

Files changed:
M CHANGES.rst
M plone/app/layout/links/viewlets.py
M plone/app/layout/sitemap/sitemap.py
M plone/app/layout/sitemap/tests/test_sitemap.py
M setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 5a91134..64e3987 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -15,7 +15,8 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Imports are Python3 compatible
+  [ale-rt]
 
 
 2.7.4 (2017-09-03)
diff --git a/plone/app/layout/links/viewlets.py b/plone/app/layout/links/viewlets.py
index 99884af..36802a3 100644
--- a/plone/app/layout/links/viewlets.py
+++ b/plone/app/layout/links/viewlets.py
@@ -10,7 +10,7 @@
 from Products.CMFPlone.interfaces.syndication import IFeedSettings
 from Products.CMFPlone.interfaces.syndication import ISiteSyndicationSettings
 from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
-from StringIO import StringIO
+from six import StringIO
 from zope.component import getMultiAdapter
 from zope.component import getUtility
 from zope.schema.interfaces import IVocabularyFactory
diff --git a/plone/app/layout/sitemap/sitemap.py b/plone/app/layout/sitemap/sitemap.py
index 7a21b90..98ca9c5 100644
--- a/plone/app/layout/sitemap/sitemap.py
+++ b/plone/app/layout/sitemap/sitemap.py
@@ -1,6 +1,5 @@
 # -*- coding: utf-8 -*-
 from BTrees.OOBTree import OOBTree
-from cStringIO import StringIO
 from gzip import GzipFile
 from plone.memoize import ram
 from plone.registry.interfaces import IRegistry
@@ -9,6 +8,7 @@
 from Products.CMFPlone.interfaces import ISiteSchema
 from Products.Five import BrowserView
 from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
+from six import StringIO
 from zope.component import getUtility
 from zope.publisher.interfaces import NotFound
 
diff --git a/plone/app/layout/sitemap/tests/test_sitemap.py b/plone/app/layout/sitemap/tests/test_sitemap.py
index c733e54..cbcc628 100644
--- a/plone/app/layout/sitemap/tests/test_sitemap.py
+++ b/plone/app/layout/sitemap/tests/test_sitemap.py
@@ -7,7 +7,7 @@
 from Products.CMFCore.utils import getToolByName
 from Products.CMFPlone.interfaces import ISearchSchema
 from Products.CMFPlone.interfaces import ISiteSchema
-from StringIO import StringIO
+from six import StringIO
 from zope.component import getMultiAdapter
 from zope.component import getUtility
 from zope.interface import alsoProvides
diff --git a/setup.py b/setup.py
index a0ac043..265d9e3 100644
--- a/setup.py
+++ b/setup.py
@@ -45,6 +45,7 @@
           'Products.CMFEditions >=1.2.2',
           'Products.CMFPlone >=5.0b3.dev0',
           'setuptools',
+          'six',
           'zope.component',
           'zope.deferredimport',
           'zope.deprecation',


