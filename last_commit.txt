Repository: Products.PloneLanguageTool


Branch: refs/heads/master
Date: 2016-07-05T23:20:09+02:00
Author: Gil Forcada (gforcada) <gforcada@gnome.org>
Commit: https://github.com/plone/Products.PloneLanguageTool/commit/cd1864e6f96ea70dc4344110d583d288c81b98a2

Use zope.interface decorator

This not only makes code more pleasent to read,
but also makes the code python 3 compatible
(while maintaining python 2 compatibility).

Files changed:
M CHANGES.rst
M Products/PloneLanguageTool/LanguageTool.py

diff --git a/CHANGES.rst b/CHANGES.rst
index b7155c9..ca8e33f 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,7 +10,8 @@ New:
 
 Fixes:
 
-- *add item here*
+- Use zope.interface decorator.
+  [gforcada]
 
 
 3.2.7 (2013-01-17)
diff --git a/Products/PloneLanguageTool/LanguageTool.py b/Products/PloneLanguageTool/LanguageTool.py
index 8cbd657..de615e1 100644
--- a/Products/PloneLanguageTool/LanguageTool.py
+++ b/Products/PloneLanguageTool/LanguageTool.py
@@ -7,7 +7,7 @@
 from zope.component import getUtility
 from zope.component import queryUtility
 from zope.deprecation import deprecate
-from zope.interface import implements
+from zope.interface import implementer
 
 # BBB Zope before 2.12
 try:
@@ -41,6 +41,7 @@
 except ImportError:
     _hasPTS = 0
 
+@implementer(ILanguageTool)
 class LanguageTool(UniqueObject, SimpleItem):
     """Language Administration Tool For Plone."""
 
@@ -48,8 +49,6 @@ class LanguageTool(UniqueObject, SimpleItem):
     title = 'Manages available languages'
     meta_type = 'Plone Language Tool'
 
-    implements(ILanguageTool)
-
     security = ClassSecurityInfo()
 
     # These apply to existing instances when code is upgraded
@@ -616,9 +615,9 @@ def getLanguageBindings(self):
         return (self.LANGUAGE, self.DEFAULT_LANGUAGE, self.LANGUAGE_LIST)
 
 
+@implementer(INegotiateLanguage)
 class NegotiateLanguage(object):
     """Perform default language negotiation"""
-    implements(INegotiateLanguage)
 
     def __init__(self, site, request):
         """Setup the current language stuff."""


Repository: Products.PloneLanguageTool


Branch: refs/heads/master
Date: 2016-07-10T20:31:21+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/Products.PloneLanguageTool/commit/ebb7fe9a2188b7e0ec2a97fd829afac2faefdd24

Merge pull request #8 from plone/gforcada-use-zope-decorators

Use zope.interface decorator

Files changed:
M CHANGES.rst
M Products/PloneLanguageTool/LanguageTool.py

diff --git a/CHANGES.rst b/CHANGES.rst
index b7155c9..ca8e33f 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,7 +10,8 @@ New:
 
 Fixes:
 
-- *add item here*
+- Use zope.interface decorator.
+  [gforcada]
 
 
 3.2.7 (2013-01-17)
diff --git a/Products/PloneLanguageTool/LanguageTool.py b/Products/PloneLanguageTool/LanguageTool.py
index 8cbd657..de615e1 100644
--- a/Products/PloneLanguageTool/LanguageTool.py
+++ b/Products/PloneLanguageTool/LanguageTool.py
@@ -7,7 +7,7 @@
 from zope.component import getUtility
 from zope.component import queryUtility
 from zope.deprecation import deprecate
-from zope.interface import implements
+from zope.interface import implementer
 
 # BBB Zope before 2.12
 try:
@@ -41,6 +41,7 @@
 except ImportError:
     _hasPTS = 0
 
+@implementer(ILanguageTool)
 class LanguageTool(UniqueObject, SimpleItem):
     """Language Administration Tool For Plone."""
 
@@ -48,8 +49,6 @@ class LanguageTool(UniqueObject, SimpleItem):
     title = 'Manages available languages'
     meta_type = 'Plone Language Tool'
 
-    implements(ILanguageTool)
-
     security = ClassSecurityInfo()
 
     # These apply to existing instances when code is upgraded
@@ -616,9 +615,9 @@ def getLanguageBindings(self):
         return (self.LANGUAGE, self.DEFAULT_LANGUAGE, self.LANGUAGE_LIST)
 
 
+@implementer(INegotiateLanguage)
 class NegotiateLanguage(object):
     """Perform default language negotiation"""
-    implements(INegotiateLanguage)
 
     def __init__(self, site, request):
         """Setup the current language stuff."""


