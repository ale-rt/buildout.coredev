Repository: icalendar


Branch: refs/heads/master
Date: 2017-11-08T14:13:02+01:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/collective/icalendar/commit/47f98e4d87d047de4845cf2758d93fdba4f9e259

prepare release

Files changed:
M CHANGES.rst
M CONTRIBUTING.rst
M README.rst
M setup.py
M src/icalendar/__init__.py
D TODO.rst

diff --git a/CHANGES.rst b/CHANGES.rst
index db4dabd..450619b 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -1,8 +1,8 @@
 Changelog
 =========
 
-3.12.1 (unreleased)
--------------------
+4.0 (unreleased)
+----------------
 
 Breaking changes:
 
diff --git a/CONTRIBUTING.rst b/CONTRIBUTING.rst
index 6455e90..66e28eb 100644
--- a/CONTRIBUTING.rst
+++ b/CONTRIBUTING.rst
@@ -4,15 +4,20 @@ You want to help and contribute? Perfect!
 These are some contribution examples
 ------------------------------------
 
-* Reporting issues to the bugtracker.
-* Submitting pull requests from a forked icalendar repo.
-* Extending the documentation.
-* Sponsor a Sprint (http://plone.org/events/sprints/whatis).
+- Reporting issues to the bugtracker.
+
+- Submitting pull requests from a forked icalendar repo.
+
+- Extending the documentation.
+
+- Sponsor a Sprint (http://plone.org/events/sprints/whatis).
 
 
 For pull requests, keep this in mind
 ------------------------------------
 
-* Add a test which proves your fix and make it pass.
-* Describe your change in CHANGES.rst
-* Add yourself to the docs/credits.rst
+- Add a test which proves your fix and make it pass.
+
+- Describe your change in CHANGES.rst
+
+- Add yourself to the docs/credits.rst
diff --git a/README.rst b/README.rst
index 8047859..52421ff 100644
--- a/README.rst
+++ b/README.rst
@@ -2,8 +2,8 @@
 Internet Calendaring and Scheduling (iCalendar) for Python
 ==========================================================
 
-The `icalendar`_ package is a parser/generator of iCalendar files for use
-with Python.
+The `icalendar`_ package is a `RFC 5545`_ compatible parser/generator for iCalendar
+files.
 
 ----
 
@@ -21,77 +21,8 @@ with Python.
     :target: https://travis-ci.org/collective/icalendar
 
 
-Roadmap
-=======
-
-- 4.0: API refactoring
-
-
-Changes in version 3.0
-======================
-
-API Change
-----------
-
-Since version 3.0 the icalendar de/serialization API is unified to use only to_ical
-(for writing an ical string from the internal representation) and from_ical
-(for parsing an ical string into the internal representation).
-
-to_ical is now used instead of the methods ical, string, as_string and instead
-of string casting via __str__ and str.
-
-from_ical is now used instead of from_string.
-
-This change is a requirement for future Python 3 compatibility. Please update
-your code to reflect to the new API.
-
-Timezone support
-----------------
-
-Timezones are now fully supported in icalendar for serialization and
-deserialization. We use the pytz library for timezone components of datetime
-instances. The timezone identifiers must be valid pytz respectively Olson
-database timezone identifiers. This can be a problem for 'GMT' identifiers,
-which are not defined in the Olson database.
-
-Instead of our own UTC tzinfo implementation, we use pytz UTC tzinfo object now.
-
-
-About this fork which is not a fork anymore
-===========================================
-
-The aim of this fork (not fork anymore, read further) was to bring this package
-up to date with latest icalendar `RFC`_ specification, as part of the
-`plone.app.event`_ project whose goal is to bring recurrent events to `Plone`_.
-
-After some thoughts we (Plone developers involved with `plone.app.event`_) sent
-a suggestion to icalendar-dev@codespeak.net to take over maintenance of
-`icalendar`_. Nobody objected and since version 2.2 we are back to development.
-
 .. _`icalendar`: https://pypi.python.org/pypi/icalendar
-.. _`plone.app.event`: https://github.com/plone/plone.app.event
-.. _`Plone`: https://plone.org
+.. _`RFC 5545`: https://www.ietf.org/rfc/rfc5545.txt
 .. _`python-dateutil`: https://github.com/dateutil/dateutil/
 .. _`pytz`: https://pypi.python.org/pypi/pytz
-.. _`RFC`: https://www.ietf.org/rfc/rfc5545.txt
 .. _`BSD`: https://github.com/collective/icalendar/issues/2
-
-
-Test Coverage Report
-====================
-
-Output from coverage test::
-
-    Name                           Stmts   Miss  Cover
-    --------------------------------------------------
-    src/icalendar/__init__             4      0   100%
-    src/icalendar/cal                312      7    98%
-    src/icalendar/caselessdict        65      7    89%
-    src/icalendar/compat               1      0   100%
-    src/icalendar/parser             193      5    97%
-    src/icalendar/parser_tools        20      0   100%
-    src/icalendar/prop               540     62    89%
-    src/icalendar/timezone_cache       1      0   100%
-    src/icalendar/tools               16      0   100%
-    --------------------------------------------------
-    TOTAL                           1152     81    93%
diff --git a/TODO.rst b/TODO.rst
deleted file mode 100644
index 7769d86..0000000
--- a/TODO.rst
+++ /dev/null
@@ -1,26 +0,0 @@
-TODO
-====
-
-- Update docs.
-
-- Add a __add__ method to cal.Component, so that ``cal[key] = val`` works as
-  expected. Currently, the value is added as is, but not converted to the
-  correct subcomponent, as specified in prop.TypesFactory. See also the NOTE
-  in: icalendar.tests.example.rst, Components, line 82.
-
-- Eventually implement a ``decoded`` method for all icalendar.prop properties,
-  so that cal.decoded doesn't call the from_ical methods but decode it into
-  realy python natives. We want from_ical encode a ical string into a
-  icalendar.prop instance, so decoding into a python native seems not to be
-  appropriate there. (but the vDDD-types are encoded into python natives, so
-  there is an inconsistence...)
-
-OLD TODO's
-==========
-
-- Check and Fix VTIMEZONE component functionality and creating VTIMEZONE
-  components from tzinfo instances.
-
-- Automatic encoding and decoding of parameter values. Most of the
-  work is done already. Just need to get it finished. Look at line 153
-  in 'src/icalendar/parser.py'
diff --git a/setup.py b/setup.py
index 4a03dd2..4f003c8 100644
--- a/setup.py
+++ b/setup.py
@@ -13,7 +13,7 @@
 
 shortdesc = 'iCalendar parser/generator'
 longdesc = ''
-for fname in ['README.rst', 'CHANGES.rst', 'LICENSE.rst']:
+for fname in ['README.rst', 'CONTRIBUTING.rst', 'CHANGES.rst', 'LICENSE.rst']:
     with codecs.open(fname, encoding='utf-8') as f:
         longdesc += f.read()
         longdesc += '\n'
diff --git a/src/icalendar/__init__.py b/src/icalendar/__init__.py
index 1bb5739..4815e0d 100644
--- a/src/icalendar/__init__.py
+++ b/src/icalendar/__init__.py
@@ -1,5 +1,5 @@
 # -*- coding: utf-8 -*-
-__version__ = '3.12.1.dev0'
+__version__ = '4.0.dev0'
 
 from icalendar.cal import (
     Calendar,


