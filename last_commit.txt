Repository: Products.CMFPlone


Branch: refs/heads/5.0.x
Date: 2017-01-02T13:54:48-06:00
Author: vangheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/6e6587a581887cec6d9c0c85136e8e0553fcf17d

Fix atom.xml feed not paying attention for setting to show about information

Files changed:
M CHANGES.rst
M Products/CMFPlone/browser/syndication/templates/atom.xml.pt

diff --git a/CHANGES.rst b/CHANGES.rst
index 75a63a5..a8784c5 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -68,12 +68,15 @@ Bug fixes:
 - Don't fail, if ``timestamp.txt`` was deleted from the resource registries production folder.
   [thet]
 
-- Fix security test assertion: 
+- Fix security test assertion:
   TestAttackVectorsFunctional test_widget_traversal_2 assumed a 302 http return code when accessing some private API.
-  Meanwhile it changed to return a 404 on the URL. 
+  Meanwhile it changed to return a 404 on the URL.
   Reflect this in the test and expect a 404.
   [jensens]
 
+- Fix atom.xml feed not paying attention for setting to show about information
+  [vangheem]
+
 
 5.0.6 (2016-09-23)
 ------------------
diff --git a/Products/CMFPlone/browser/syndication/templates/atom.xml.pt b/Products/CMFPlone/browser/syndication/templates/atom.xml.pt
index 213fc24..2c5b25f 100644
--- a/Products/CMFPlone/browser/syndication/templates/atom.xml.pt
+++ b/Products/CMFPlone/browser/syndication/templates/atom.xml.pt
@@ -57,7 +57,7 @@
       <author tal:define="creator item/creator;
                           author_name item/author_name;
                           author_email item/author_email"
-              tal:condition="python:creator or author_name">
+              tal:condition="python:feed.show_about and (creator or author_name)">
         <name tal:condition="author_name"
               tal:content="author_name" />
         <name tal:condition="python: not author_name"


Repository: Products.CMFPlone


Branch: refs/heads/5.0.x
Date: 2017-01-03T14:56:13+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/Products.CMFPlone/commit/55604793165f37eba80982b06ba0c49844eadcf9

Merge pull request #1889 from plone/atom-show-about

Fix atom.xml feed not paying attention for setting to show about(5.0.x)

Files changed:
M CHANGES.rst
M Products/CMFPlone/browser/syndication/templates/atom.xml.pt

diff --git a/CHANGES.rst b/CHANGES.rst
index 75a63a5..a8784c5 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -68,12 +68,15 @@ Bug fixes:
 - Don't fail, if ``timestamp.txt`` was deleted from the resource registries production folder.
   [thet]
 
-- Fix security test assertion: 
+- Fix security test assertion:
   TestAttackVectorsFunctional test_widget_traversal_2 assumed a 302 http return code when accessing some private API.
-  Meanwhile it changed to return a 404 on the URL. 
+  Meanwhile it changed to return a 404 on the URL.
   Reflect this in the test and expect a 404.
   [jensens]
 
+- Fix atom.xml feed not paying attention for setting to show about information
+  [vangheem]
+
 
 5.0.6 (2016-09-23)
 ------------------
diff --git a/Products/CMFPlone/browser/syndication/templates/atom.xml.pt b/Products/CMFPlone/browser/syndication/templates/atom.xml.pt
index 213fc24..2c5b25f 100644
--- a/Products/CMFPlone/browser/syndication/templates/atom.xml.pt
+++ b/Products/CMFPlone/browser/syndication/templates/atom.xml.pt
@@ -57,7 +57,7 @@
       <author tal:define="creator item/creator;
                           author_name item/author_name;
                           author_email item/author_email"
-              tal:condition="python:creator or author_name">
+              tal:condition="python:feed.show_about and (creator or author_name)">
         <name tal:condition="author_name"
               tal:content="author_name" />
         <name tal:condition="python: not author_name"


