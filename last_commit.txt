Repository: plone.intelligenttext


Branch: refs/heads/master
Date: 2017-08-03T17:11:05+02:00
Author: Joni Orponen (Rotonen) <j.orponen@4teamwork.ch>
Commit: https://github.com/plone/plone.intelligenttext/commit/a71bdc5b485b1562b2e320f5c41a15286f205f98

Fix travis build envs for a wider range of modern python installations.

Files changed:
M .travis.yml
M CHANGES.rst
M tox.ini

diff --git a/.travis.yml b/.travis.yml
index cb8aa96..ea7c83b 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -1,11 +1,29 @@
+dist: trusty
 language: python
 sudo: false
+
 env:
-  - TOXENV=py26
-  - TOXENV=py27
-  - TOXENV=py33
-  - TOXENV=py34
-  - TOXENV=pypy
-  - TOXENV=pypy3
+  - TOXENV=py26 PYENV_VERSION="2.6.9" PYENV_VERSION_STRING="Python 2.6.9"
+  - TOXENV=py27 PYENV_VERSION="2.7.13" PYENV_VERSION_STRING="Python 2.7.13"
+  - TOXENV=py33 PYENV_VERSION="3.3.6" PYENV_VERSION_STRING="Python 3.3.6"
+  - TOXENV=py34 PYENV_VERSION="3.4.6" PYENV_VERSION_STRING="Python 3.4.6"
+  - TOXENV=py35 PYENV_VERSION="3.5.3" PYENV_VERSION_STRING="Python 3.5.3"
+  - TOXENV=py36 PYENV_VERSION="3.6.2" PYENV_VERSION_STRING="Python 3.6.2"
+  - TOXENV=pypy PYENV_VERSION="pypy2.7-5.8.0" PYENV_VERSION_STRING="PyPy 5.8.0"
+  - TOXENV=pypy3 PYENV_VERSION="pypy3.5-5.8.0" PYENV_VERSION_STRING="PyPy 5.8.0-beta0"
+
+cache:
+  - pip
+  - directories:
+    - $HOME/.pyenv_cache
+
+before_install:
+  - |
+      if [[ -n "$PYENV_VERSION" ]]; then
+        wget https://github.com/praekeltfoundation/travis-pyenv/releases/download/0.4.0/setup-pyenv.sh
+        source setup-pyenv.sh
+      fi
+
 install: "pip install tox"
+
 script: "tox"
diff --git a/CHANGES.rst b/CHANGES.rst
index d0f77fe..0286ec1 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -11,7 +11,8 @@ New:
 
 Fixes:
 
-- *add item here*
+- Use pyenv for installing python versions on Travis.
+  [Rotonen]
 
 
 2.1.0 (2015-10-27)
diff --git a/tox.ini b/tox.ini
index f5229bd..1a84942 100644
--- a/tox.ini
+++ b/tox.ini
@@ -1,8 +1,8 @@
 [tox]
-envlist = 
-    py26,py27,py33,py34,py35,pypy,pypy3
+envlist =
+    py26,py27,py33,py34,py35,py36,pypy,pypy3
 
 [testenv]
-commands = 
+commands =
     python setup.py -q install
     python setup.py -q test


Repository: plone.intelligenttext


Branch: refs/heads/master
Date: 2017-08-04T15:05:47+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.intelligenttext/commit/06d143c9495c4805e77c56da3a382ef2492a5df4

Merge pull request #6 from plone/jo_update_travis_config

Bump travis python envs

Files changed:
M .travis.yml
M CHANGES.rst
M tox.ini

diff --git a/.travis.yml b/.travis.yml
index cb8aa96..ea7c83b 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -1,11 +1,29 @@
+dist: trusty
 language: python
 sudo: false
+
 env:
-  - TOXENV=py26
-  - TOXENV=py27
-  - TOXENV=py33
-  - TOXENV=py34
-  - TOXENV=pypy
-  - TOXENV=pypy3
+  - TOXENV=py26 PYENV_VERSION="2.6.9" PYENV_VERSION_STRING="Python 2.6.9"
+  - TOXENV=py27 PYENV_VERSION="2.7.13" PYENV_VERSION_STRING="Python 2.7.13"
+  - TOXENV=py33 PYENV_VERSION="3.3.6" PYENV_VERSION_STRING="Python 3.3.6"
+  - TOXENV=py34 PYENV_VERSION="3.4.6" PYENV_VERSION_STRING="Python 3.4.6"
+  - TOXENV=py35 PYENV_VERSION="3.5.3" PYENV_VERSION_STRING="Python 3.5.3"
+  - TOXENV=py36 PYENV_VERSION="3.6.2" PYENV_VERSION_STRING="Python 3.6.2"
+  - TOXENV=pypy PYENV_VERSION="pypy2.7-5.8.0" PYENV_VERSION_STRING="PyPy 5.8.0"
+  - TOXENV=pypy3 PYENV_VERSION="pypy3.5-5.8.0" PYENV_VERSION_STRING="PyPy 5.8.0-beta0"
+
+cache:
+  - pip
+  - directories:
+    - $HOME/.pyenv_cache
+
+before_install:
+  - |
+      if [[ -n "$PYENV_VERSION" ]]; then
+        wget https://github.com/praekeltfoundation/travis-pyenv/releases/download/0.4.0/setup-pyenv.sh
+        source setup-pyenv.sh
+      fi
+
 install: "pip install tox"
+
 script: "tox"
diff --git a/CHANGES.rst b/CHANGES.rst
index d0f77fe..0286ec1 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -11,7 +11,8 @@ New:
 
 Fixes:
 
-- *add item here*
+- Use pyenv for installing python versions on Travis.
+  [Rotonen]
 
 
 2.1.0 (2015-10-27)
diff --git a/tox.ini b/tox.ini
index f5229bd..1a84942 100644
--- a/tox.ini
+++ b/tox.ini
@@ -1,8 +1,8 @@
 [tox]
-envlist = 
-    py26,py27,py33,py34,py35,pypy,pypy3
+envlist =
+    py26,py27,py33,py34,py35,py36,pypy,pypy3
 
 [testenv]
-commands = 
+commands =
     python setup.py -q install
     python setup.py -q test


