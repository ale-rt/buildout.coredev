Repository: Products.TinyMCE


Branch: refs/heads/1.3.x
Date: 2017-01-13T15:08:10+01:00
Author: Vincent Fretin (vincentfretin) <vincent.fretin@gmail.com>
Commit: https://github.com/plone/Products.TinyMCE/commit/66989447b6b50873d1bc2de5c2cfef7602bc16a0

Allow HTML 5.1 allowfullscreen attribute for iframe. This is needed for some embed videos to allow full screen functionality.

Files changed:
M CHANGES.rst
M Products/TinyMCE/utility.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 39e5706..8bff6de 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -5,17 +5,11 @@ HISTORY
 1.3.25 (unreleased)
 -------------------
 
-Breaking changes:
-
-- *add item here*
-
-New features:
-
-- *add item here*
-
 Bug fixes:
 
-- *add item here*
+- Allow HTML 5.1 allowfullscreen attribute for iframe. This is needed for
+  some embed videos to allow full screen functionality.
+  [vincentfretin]
 
 
 1.3.24 (2016-11-09)
diff --git a/Products/TinyMCE/utility.py b/Products/TinyMCE/utility.py
index 0030498..44e1cf4 100644
--- a/Products/TinyMCE/utility.py
+++ b/Products/TinyMCE/utility.py
@@ -493,7 +493,7 @@ def getValidElements(self):
             'tt': COMMON_ATTRS.copy(),
             'ul': COMMON_ATTRS | set('compact type'.split()),
             'var': COMMON_ATTRS.copy(),
-            'iframe': COMMON_ATTRS | set('src name scrolling frameborder longdesc align height width marginheight marginwidth'.split())
+            'iframe': COMMON_ATTRS | set('src name scrolling frameborder longdesc align height width marginheight marginwidth allowfullscreen'.split())
             }
 
         # Get custom tags


