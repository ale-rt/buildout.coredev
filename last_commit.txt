Repository: plone.app.viewletmanager


Branch: refs/heads/master
Date: 2016-07-05T23:14:14+02:00
Author: Gil Forcada (gforcada) <gforcada@gnome.org>
Commit: https://github.com/plone/plone.app.viewletmanager/commit/6338177fa2fc968e8a4594645509d9d346e5d71a

Use zope.interface decorator

This not only makes code more pleasent to read,
but also makes the code python 3 compatible
(while maintaining python 2 compatibility).

Files changed:
M CHANGES.rst
M plone/app/viewletmanager/manager.py
M plone/app/viewletmanager/storage.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 4bf1f16..585bdbf 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -11,7 +11,8 @@ New:
 
 Fixes:
 
-- *add item here*
+- Use zope.interface decorator.
+  [gforcada]
 
 
 2.0.9 (2015-09-07)
diff --git a/plone/app/viewletmanager/manager.py b/plone/app/viewletmanager/manager.py
index 03a462d..2a0cd13 100644
--- a/plone/app/viewletmanager/manager.py
+++ b/plone/app/viewletmanager/manager.py
@@ -17,7 +17,7 @@
 from zope.component import queryMultiAdapter
 from zope.component import queryUtility
 from zope.contentprovider.interfaces import IContentProvider
-from zope.interface import implements
+from zope.interface import implementer
 from zope.interface import providedBy
 from zope.viewlet.interfaces import IViewlet
 
@@ -194,8 +194,8 @@ def render(self):
             return BaseOrderedViewletManager.render(self)
 
 
+@implementer(IViewletManagementView)
 class ManageViewlets(BrowserView):
-    implements(IViewletManagementView)
 
     def show(self, manager, viewlet):
         storage = getUtility(IViewletSettingsStorage)
diff --git a/plone/app/viewletmanager/storage.py b/plone/app/viewletmanager/storage.py
index a192cc6..e60f3a7 100644
--- a/plone/app/viewletmanager/storage.py
+++ b/plone/app/viewletmanager/storage.py
@@ -2,11 +2,11 @@
 from persistent import Persistent
 from persistent.dict import PersistentDict
 from plone.app.viewletmanager.interfaces import IViewletSettingsStorage
-from zope.interface import implements
+from zope.interface import implementer
 
 
+@implementer(IViewletSettingsStorage)
 class ViewletSettingsStorage(Persistent):
-    implements(IViewletSettingsStorage)
 
     def __init__(self):
         self._order = PersistentDict()


Repository: plone.app.viewletmanager


Branch: refs/heads/master
Date: 2016-07-10T08:52:09+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.app.viewletmanager/commit/a8655913a0b1d313c164aa4cc31b55f6f800685a

Merge pull request #11 from plone/gforcada-use-zope-decorators

Use zope.interface decorator

Files changed:
M CHANGES.rst
M plone/app/viewletmanager/manager.py
M plone/app/viewletmanager/storage.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 4bf1f16..585bdbf 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -11,7 +11,8 @@ New:
 
 Fixes:
 
-- *add item here*
+- Use zope.interface decorator.
+  [gforcada]
 
 
 2.0.9 (2015-09-07)
diff --git a/plone/app/viewletmanager/manager.py b/plone/app/viewletmanager/manager.py
index 03a462d..2a0cd13 100644
--- a/plone/app/viewletmanager/manager.py
+++ b/plone/app/viewletmanager/manager.py
@@ -17,7 +17,7 @@
 from zope.component import queryMultiAdapter
 from zope.component import queryUtility
 from zope.contentprovider.interfaces import IContentProvider
-from zope.interface import implements
+from zope.interface import implementer
 from zope.interface import providedBy
 from zope.viewlet.interfaces import IViewlet
 
@@ -194,8 +194,8 @@ def render(self):
             return BaseOrderedViewletManager.render(self)
 
 
+@implementer(IViewletManagementView)
 class ManageViewlets(BrowserView):
-    implements(IViewletManagementView)
 
     def show(self, manager, viewlet):
         storage = getUtility(IViewletSettingsStorage)
diff --git a/plone/app/viewletmanager/storage.py b/plone/app/viewletmanager/storage.py
index a192cc6..e60f3a7 100644
--- a/plone/app/viewletmanager/storage.py
+++ b/plone/app/viewletmanager/storage.py
@@ -2,11 +2,11 @@
 from persistent import Persistent
 from persistent.dict import PersistentDict
 from plone.app.viewletmanager.interfaces import IViewletSettingsStorage
-from zope.interface import implements
+from zope.interface import implementer
 
 
+@implementer(IViewletSettingsStorage)
 class ViewletSettingsStorage(Persistent):
-    implements(IViewletSettingsStorage)
 
     def __init__(self):
         self._order = PersistentDict()


