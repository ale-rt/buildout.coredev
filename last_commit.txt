Repository: plone.synchronize


Branch: refs/heads/master
Date: 2016-02-09T21:09:40+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.synchronize/commit/aa21dfa997a71e517aacf242e303a041d2c2d810

Back to development: 1.0.2

[ci skip]

Files changed:
M docs/HISTORY.txt
M setup.py

diff --git a/docs/HISTORY.txt b/docs/HISTORY.txt
index 4b5fecd..a125349 100644
--- a/docs/HISTORY.txt
+++ b/docs/HISTORY.txt
@@ -1,6 +1,12 @@
 Changelog
 =========
 
+1.0.2 (unreleased)
+------------------
+
+- Nothing changed yet.
+
+
 1.0.1 - 2011-05-20
 ------------------
 
diff --git a/setup.py b/setup.py
index a7c06c6..0383453 100644
--- a/setup.py
+++ b/setup.py
@@ -1,7 +1,7 @@
 from setuptools import setup, find_packages
 import os
 
-version = '1.0.1'
+version = '1.0.2.dev0'
 
 setup(name='plone.synchronize',
       version=version,


Repository: plone.synchronize


Branch: refs/heads/master
Date: 2016-02-09T21:11:42+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.synchronize/commit/adef90642e7b645403d1cf561382289b6fe3e154

Moved rst to txt.

Files changed:
A CHANGES.rst
A MANIFEST.in
A README.rst
M setup.py
D README.txt
D docs/HISTORY.txt

diff --git a/CHANGES.rst b/CHANGES.rst
new file mode 100644
index 0000000..a125349
--- /dev/null
+++ b/CHANGES.rst
@@ -0,0 +1,25 @@
+Changelog
+=========
+
+1.0.2 (unreleased)
+------------------
+
+- Nothing changed yet.
+
+
+1.0.1 - 2011-05-20
+------------------
+
+* Add license metadata.
+  [davisagli]
+
+1.0 - 2011-04-30
+----------------
+
+* No changes
+
+1.0b1 - 2009-03-30
+------------------
+
+* Initial release
+
diff --git a/MANIFEST.in b/MANIFEST.in
new file mode 100644
index 0000000..10831d2
--- /dev/null
+++ b/MANIFEST.in
@@ -0,0 +1,4 @@
+graft docs
+graft plone
+include *rst
+global-exclude *.pyc
diff --git a/README.rst b/README.rst
new file mode 100644
index 0000000..1ec950f
--- /dev/null
+++ b/README.rst
@@ -0,0 +1,29 @@
+Introduction
+============
+
+This package provides a simple decorator to help synchronize methods across
+threads, to avoid problems of concurrent access.
+
+It can be used like this::
+
+    from threading import Lock
+    from plone.synchronize import synchronized
+
+    class StupidStack(object):
+
+        _elements = [] # not thread safe
+        _lock = Lock()
+
+        @synchronized(_lock)
+        def push(self, item):
+            self._elements.append(item)
+
+        @synchronized(_lock)
+        def pop(self):
+            last = self._elements[-1]
+            del self._elements[-1]
+            return last
+
+The decorator takes care of calling lock.acquire() just before the method
+is executed, and lock.release() just after. If an exception is raised in the
+method, the lock will still be released.
diff --git a/README.txt b/README.txt
deleted file mode 100644
index 1ec950f..0000000
--- a/README.txt
+++ /dev/null
@@ -1,29 +0,0 @@
-Introduction
-============
-
-This package provides a simple decorator to help synchronize methods across
-threads, to avoid problems of concurrent access.
-
-It can be used like this::
-
-    from threading import Lock
-    from plone.synchronize import synchronized
-
-    class StupidStack(object):
-
-        _elements = [] # not thread safe
-        _lock = Lock()
-
-        @synchronized(_lock)
-        def push(self, item):
-            self._elements.append(item)
-
-        @synchronized(_lock)
-        def pop(self):
-            last = self._elements[-1]
-            del self._elements[-1]
-            return last
-
-The decorator takes care of calling lock.acquire() just before the method
-is executed, and lock.release() just after. If an exception is raised in the
-method, the lock will still be released.
diff --git a/docs/HISTORY.txt b/docs/HISTORY.txt
deleted file mode 100644
index a125349..0000000
--- a/docs/HISTORY.txt
+++ /dev/null
@@ -1,25 +0,0 @@
-Changelog
-=========
-
-1.0.2 (unreleased)
-------------------
-
-- Nothing changed yet.
-
-
-1.0.1 - 2011-05-20
-------------------
-
-* Add license metadata.
-  [davisagli]
-
-1.0 - 2011-04-30
-----------------
-
-* No changes
-
-1.0b1 - 2009-03-30
-------------------
-
-* Initial release
-
diff --git a/setup.py b/setup.py
index 0383453..159ea08 100644
--- a/setup.py
+++ b/setup.py
@@ -1,13 +1,12 @@
 from setuptools import setup, find_packages
-import os
 
 version = '1.0.2.dev0'
 
 setup(name='plone.synchronize',
       version=version,
       description="Simple decorators to support synchronized methods",
-      long_description=open("README.txt").read() + "\n" +
-                       open(os.path.join("docs", "HISTORY.txt")).read(),
+      long_description=open("README.rst").read() + "\n" +
+                       open("CHANGES.rst").read(),
       # Get more strings from http://www.python.org/pypi?%3Aaction=list_classifiers
       classifiers=[
         "Programming Language :: Python",


Repository: plone.synchronize


Branch: refs/heads/master
Date: 2016-02-09T21:13:11+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.synchronize/commit/3fd8c198a10b9079c22cbbe33355f65a7dee5eee

Added classifiers in setup.py.

[ci skip]

Files changed:
M setup.py

diff --git a/setup.py b/setup.py
index 159ea08..7986573 100644
--- a/setup.py
+++ b/setup.py
@@ -2,29 +2,33 @@
 
 version = '1.0.2.dev0'
 
-setup(name='plone.synchronize',
-      version=version,
-      description="Simple decorators to support synchronized methods",
-      long_description=open("README.rst").read() + "\n" +
-                       open("CHANGES.rst").read(),
-      # Get more strings from http://www.python.org/pypi?%3Aaction=list_classifiers
-      classifiers=[
+setup(
+    name='plone.synchronize',
+    version=version,
+    description="Simple decorators to support synchronized methods",
+    long_description=(open("README.rst").read() + "\n" +
+                      open("CHANGES.rst").read()),
+    # Get more strings from
+    # https://pypi.python.org/pypi?%3Aaction=list_classifiers
+    classifiers=[
         "Programming Language :: Python",
+        "Programming Language :: Python :: 2.6",
+        "Programming Language :: Python :: 2.7",
         "Topic :: Software Development :: Libraries :: Python Modules",
         "License :: OSI Approved :: BSD License",
-        ],
-      keywords='synchronized lock decorator',
-      author='Martin Aspeli',
-      author_email='optilude@gmail.com',
-      url='http://pypi.python.org/pypi/plone.synchronize',
-      license='BSD',
-      packages=find_packages(exclude=['ez_setup']),
-      namespace_packages=['plone'],
-      include_package_data=True,
-      zip_safe=False,
-      install_requires=[
-          'setuptools',
-      ],
-      entry_points="""
-      """,
-      )
+    ],
+    keywords='synchronized lock decorator',
+    author='Martin Aspeli',
+    author_email='optilude@gmail.com',
+    url='https://pypi.python.org/pypi/plone.synchronize',
+    license='BSD',
+    packages=find_packages(exclude=['ez_setup']),
+    namespace_packages=['plone'],
+    include_package_data=True,
+    zip_safe=False,
+    install_requires=[
+        'setuptools',
+    ],
+    entry_points="""
+    """,
+    )


