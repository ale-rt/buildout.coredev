Repository: plone.app.iterate


Branch: refs/heads/2.1.x
Date: 2016-03-10T15:44:44-03:00
Author: Rodrigo Ferreira de Souza (rodfersou) <rodfersou@gmail.com>
Commit: https://github.com/plone/plone.app.iterate/commit/7c2a305e9d612cd8d5017366e3025a947bdc8d57

Setted lock timeout to MAX_TIMEOUT to avoid baseline unwanted unlock after 10 minutes

Files changed:
M CHANGES.txt
M plone/app/iterate/interfaces.py

diff --git a/CHANGES.txt b/CHANGES.txt
index 89a31e0..e3fad95 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -10,7 +10,8 @@ New:
 
 Fixes:
 
-- *add item here*
+- Setted lock timeout to MAX_TIMEOUT to avoid baseline unwanted unlock after 10 minutes (closes `#1451`_).
+  [parruc, rodfersou]
 
 
 2.1.14 (2015-11-16)
@@ -328,3 +329,5 @@ Fixes:
 ----------------
 
 - First release
+
+.. _`#1451`: https://github.com/plone/Products.CMFPlone/issues/1451
diff --git a/plone/app/iterate/interfaces.py b/plone/app/iterate/interfaces.py
index 973796d..6dff4c2 100644
--- a/plone/app/iterate/interfaces.py
+++ b/plone/app/iterate/interfaces.py
@@ -28,6 +28,7 @@
 
 from zope.component.interfaces import IObjectEvent
 from plone.locking.interfaces import LockType
+from plone.locking.interfaces import MAX_TIMEOUT
 
 from Products.Archetypes.interfaces import IReference
 
@@ -41,7 +42,7 @@ class IIterateAware( Interface ):
 #################################
 ## Lock types
 
-ITERATE_LOCK = LockType( u'iterate.lock', stealable=False, user_unlockable=False )
+ITERATE_LOCK = LockType( u'iterate.lock', stealable=False, user_unlockable=False, timeout=MAX_TIMEOUT)
 
 #################################
 ## Exceptions


Repository: plone.app.iterate


Branch: refs/heads/2.1.x
Date: 2016-03-11T16:37:35+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.iterate/commit/070639115a977877fb7e1b1242faab4fa5c87fa1

Merge pull request #23 from plone/issue_1451

Issue 1451 - Setted lock timeout to MAX_TIMEOUT to avoid baseline unwanted unlock after 10 minutes

Files changed:
M CHANGES.txt
M plone/app/iterate/interfaces.py

diff --git a/CHANGES.txt b/CHANGES.txt
index 89a31e0..e3fad95 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -10,7 +10,8 @@ New:
 
 Fixes:
 
-- *add item here*
+- Setted lock timeout to MAX_TIMEOUT to avoid baseline unwanted unlock after 10 minutes (closes `#1451`_).
+  [parruc, rodfersou]
 
 
 2.1.14 (2015-11-16)
@@ -328,3 +329,5 @@ Fixes:
 ----------------
 
 - First release
+
+.. _`#1451`: https://github.com/plone/Products.CMFPlone/issues/1451
diff --git a/plone/app/iterate/interfaces.py b/plone/app/iterate/interfaces.py
index 973796d..6dff4c2 100644
--- a/plone/app/iterate/interfaces.py
+++ b/plone/app/iterate/interfaces.py
@@ -28,6 +28,7 @@
 
 from zope.component.interfaces import IObjectEvent
 from plone.locking.interfaces import LockType
+from plone.locking.interfaces import MAX_TIMEOUT
 
 from Products.Archetypes.interfaces import IReference
 
@@ -41,7 +42,7 @@ class IIterateAware( Interface ):
 #################################
 ## Lock types
 
-ITERATE_LOCK = LockType( u'iterate.lock', stealable=False, user_unlockable=False )
+ITERATE_LOCK = LockType( u'iterate.lock', stealable=False, user_unlockable=False, timeout=MAX_TIMEOUT)
 
 #################################
 ## Exceptions


