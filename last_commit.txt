Repository: plone.app.widgets


Branch: refs/heads/master
Date: 2016-07-05T23:14:21+02:00
Author: Gil Forcada (gforcada) <gforcada@gnome.org>
Commit: https://github.com/plone/plone.app.widgets/commit/8aea1361edfffedcb8f0671adc75171f178ef7aa

Use zope.interface decorator

This not only makes code more pleasent to read,
but also makes the code python 3 compatible
(while maintaining python 2 compatibility).

Files changed:
M CHANGES.rst
M plone/app/widgets/factories.py
M plone/app/widgets/testing.py

diff --git a/CHANGES.rst b/CHANGES.rst
index d52bbce..020ad1f 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,8 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Use zope.interface decorator.
+  [gforcada]
 
 
 2.0.5 (2016-04-28)
diff --git a/plone/app/widgets/factories.py b/plone/app/widgets/factories.py
index f1cae34..952e145 100644
--- a/plone/app/widgets/factories.py
+++ b/plone/app/widgets/factories.py
@@ -1,10 +1,10 @@
-from zope.interface import implements
+from zope.interface import implementer
 from plone.namedfile.storages import MAXCHUNKSIZE
 from plone.namedfile.interfaces import IStorage
 
 
+@implementer(IStorage)
 class Zope2FileUploadStorable(object):
-    implements(IStorage)
 
     def store(self, data, blob):
         data.seek(0)
diff --git a/plone/app/widgets/testing.py b/plone/app/widgets/testing.py
index f189d76..52d5734 100644
--- a/plone/app/widgets/testing.py
+++ b/plone/app/widgets/testing.py
@@ -14,7 +14,7 @@
 from zope.configuration import xmlconfig
 from zope.interface import Interface
 from zope.interface import directlyProvides
-from zope.interface import implements
+from zope.interface import implementer
 from zope.publisher.browser import TestRequest as BaseTestRequest
 from zope.schema import Choice
 from zope.schema import List
@@ -23,8 +23,8 @@
 from zope.schema.vocabulary import SimpleVocabulary
 
 
+@implementer(IVocabularyFactory)
 class ExampleVocabulary(object):
-    implements(IVocabularyFactory)
 
     def __call__(self, context, query=None):
         items = [u'One', u'Two', u'Three']


Repository: plone.app.widgets


Branch: refs/heads/master
Date: 2016-07-10T11:04:16+02:00
Author: Gil Forcada Codinachs (gforcada) <gil.gnome@gmail.com>
Commit: https://github.com/plone/plone.app.widgets/commit/ca7824fdabffd6b141b42169f137571ed41b1347

Merge pull request #143 from plone/gforcada-use-zope-decorators

Use zope.interface decorator

Files changed:
M CHANGES.rst
M plone/app/widgets/factories.py
M plone/app/widgets/testing.py

diff --git a/CHANGES.rst b/CHANGES.rst
index d52bbce..020ad1f 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,7 +14,8 @@ New features:
 
 Bug fixes:
 
-- *add item here*
+- Use zope.interface decorator.
+  [gforcada]
 
 
 2.0.5 (2016-04-28)
diff --git a/plone/app/widgets/factories.py b/plone/app/widgets/factories.py
index f1cae34..952e145 100644
--- a/plone/app/widgets/factories.py
+++ b/plone/app/widgets/factories.py
@@ -1,10 +1,10 @@
-from zope.interface import implements
+from zope.interface import implementer
 from plone.namedfile.storages import MAXCHUNKSIZE
 from plone.namedfile.interfaces import IStorage
 
 
+@implementer(IStorage)
 class Zope2FileUploadStorable(object):
-    implements(IStorage)
 
     def store(self, data, blob):
         data.seek(0)
diff --git a/plone/app/widgets/testing.py b/plone/app/widgets/testing.py
index f189d76..52d5734 100644
--- a/plone/app/widgets/testing.py
+++ b/plone/app/widgets/testing.py
@@ -14,7 +14,7 @@
 from zope.configuration import xmlconfig
 from zope.interface import Interface
 from zope.interface import directlyProvides
-from zope.interface import implements
+from zope.interface import implementer
 from zope.publisher.browser import TestRequest as BaseTestRequest
 from zope.schema import Choice
 from zope.schema import List
@@ -23,8 +23,8 @@
 from zope.schema.vocabulary import SimpleVocabulary
 
 
+@implementer(IVocabularyFactory)
 class ExampleVocabulary(object):
-    implements(IVocabularyFactory)
 
     def __call__(self, context, query=None):
         items = [u'One', u'Two', u'Three']


