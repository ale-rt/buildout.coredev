Repository: plone.app.z3cform


Branch: refs/heads/master
Date: 2017-10-30T14:02:29+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.z3cform/commit/8ec6940c78a4b00ac40d8778ae5404192f55b21f

Add missing i18n-domains to templates.

Files changed:
M CHANGES.rst
M plone/app/z3cform/templates/link_input.pt
M plone/app/z3cform/templates/multi_input.pt
M plone/app/z3cform/templates/object_input.pt
M plone/app/z3cform/templates/singlecheckbox.pt

diff --git a/CHANGES.rst b/CHANGES.rst
index e768e6a..25f3afd 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -15,6 +15,9 @@ New features:
 
 Bug fixes:
 
+- Fix: Add missing i18n-domains to templates.
+  [jensens]
+
 - Use RichTextValue's output_relative_to(self.context) in RichTextWidget so the ITransform doesn't use siteroot.
   [jaroel]
 
diff --git a/plone/app/z3cform/templates/link_input.pt b/plone/app/z3cform/templates/link_input.pt
index 4852ccc..fa1ed93 100644
--- a/plone/app/z3cform/templates/link_input.pt
+++ b/plone/app/z3cform/templates/link_input.pt
@@ -1,4 +1,4 @@
-<div>
+<div i18n:domain="plone">
   <div class="linkModal">
 
     <div class="linkTypes pat-autotoc autotabs"
diff --git a/plone/app/z3cform/templates/multi_input.pt b/plone/app/z3cform/templates/multi_input.pt
index a553ba2..b412252 100644
--- a/plone/app/z3cform/templates/multi_input.pt
+++ b/plone/app/z3cform/templates/multi_input.pt
@@ -1,4 +1,4 @@
-<div class="multi-widget" tal:attributes="class view/klass">
+<div i18n:domain="plone" class="multi-widget" tal:attributes="class view/klass">
     <tal:block repeat="widget view/widgets">
         <div metal:define-macro="widget-row"
              tal:define="hidden python:widget.mode == 'hidden';
diff --git a/plone/app/z3cform/templates/object_input.pt b/plone/app/z3cform/templates/object_input.pt
index 0f27865..2e8f113 100644
--- a/plone/app/z3cform/templates/object_input.pt
+++ b/plone/app/z3cform/templates/object_input.pt
@@ -1,4 +1,4 @@
-<div class="object-widget" tal:attributes="class view/klass">
+<div i18n:domain="plone" class="object-widget" tal:attributes="class view/klass">
     <tal:block repeat="widget view/subform/widgets/values">
         <div tal:define="hidden python:widget.mode == 'hidden';
                          error widget/error;
diff --git a/plone/app/z3cform/templates/singlecheckbox.pt b/plone/app/z3cform/templates/singlecheckbox.pt
index 1961f86..d4b382a 100644
--- a/plone/app/z3cform/templates/singlecheckbox.pt
+++ b/plone/app/z3cform/templates/singlecheckbox.pt
@@ -1,5 +1,6 @@
 <!-- DEPRECATED -->
 <div
+   i18n:domain="plone"
    metal:define-macro="widget-wrapper"
    tal:define="widget nocall:context;
                hidden python:widget.mode == 'hidden';


Repository: plone.app.z3cform


Branch: refs/heads/master
Date: 2017-10-30T17:09:23+01:00
Author: agitator (agitator) <agitator@users.noreply.github.com>
Commit: https://github.com/plone/plone.app.z3cform/commit/cac7e982c939a535923b80e3f954dfde6f4a19f4

Merge pull request #81 from plone/fix-missingi18n-domains

Add missing i18n-domains to templates.

Files changed:
M CHANGES.rst
M plone/app/z3cform/templates/link_input.pt
M plone/app/z3cform/templates/multi_input.pt
M plone/app/z3cform/templates/object_input.pt
M plone/app/z3cform/templates/singlecheckbox.pt

diff --git a/CHANGES.rst b/CHANGES.rst
index e768e6a..25f3afd 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -15,6 +15,9 @@ New features:
 
 Bug fixes:
 
+- Fix: Add missing i18n-domains to templates.
+  [jensens]
+
 - Use RichTextValue's output_relative_to(self.context) in RichTextWidget so the ITransform doesn't use siteroot.
   [jaroel]
 
diff --git a/plone/app/z3cform/templates/link_input.pt b/plone/app/z3cform/templates/link_input.pt
index 4852ccc..fa1ed93 100644
--- a/plone/app/z3cform/templates/link_input.pt
+++ b/plone/app/z3cform/templates/link_input.pt
@@ -1,4 +1,4 @@
-<div>
+<div i18n:domain="plone">
   <div class="linkModal">
 
     <div class="linkTypes pat-autotoc autotabs"
diff --git a/plone/app/z3cform/templates/multi_input.pt b/plone/app/z3cform/templates/multi_input.pt
index a553ba2..b412252 100644
--- a/plone/app/z3cform/templates/multi_input.pt
+++ b/plone/app/z3cform/templates/multi_input.pt
@@ -1,4 +1,4 @@
-<div class="multi-widget" tal:attributes="class view/klass">
+<div i18n:domain="plone" class="multi-widget" tal:attributes="class view/klass">
     <tal:block repeat="widget view/widgets">
         <div metal:define-macro="widget-row"
              tal:define="hidden python:widget.mode == 'hidden';
diff --git a/plone/app/z3cform/templates/object_input.pt b/plone/app/z3cform/templates/object_input.pt
index 0f27865..2e8f113 100644
--- a/plone/app/z3cform/templates/object_input.pt
+++ b/plone/app/z3cform/templates/object_input.pt
@@ -1,4 +1,4 @@
-<div class="object-widget" tal:attributes="class view/klass">
+<div i18n:domain="plone" class="object-widget" tal:attributes="class view/klass">
     <tal:block repeat="widget view/subform/widgets/values">
         <div tal:define="hidden python:widget.mode == 'hidden';
                          error widget/error;
diff --git a/plone/app/z3cform/templates/singlecheckbox.pt b/plone/app/z3cform/templates/singlecheckbox.pt
index 1961f86..d4b382a 100644
--- a/plone/app/z3cform/templates/singlecheckbox.pt
+++ b/plone/app/z3cform/templates/singlecheckbox.pt
@@ -1,5 +1,6 @@
 <!-- DEPRECATED -->
 <div
+   i18n:domain="plone"
    metal:define-macro="widget-wrapper"
    tal:define="widget nocall:context;
                hidden python:widget.mode == 'hidden';


