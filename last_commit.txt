Repository: plone.app.vocabularies


Branch: refs/heads/master
Date: 2016-10-15T23:55:50-07:00
Author: David Glick (davisagli) <david@glicksoftware.com>
Commit: https://github.com/plone/plone.app.vocabularies/commit/4b79faec31a8265dff1534ab46a58e162d056b51

avoid dependency on plone.app.imaging

Files changed:
M CHANGES.rst
M plone/app/vocabularies/images.py
M setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 5fa15b8..49fee8e 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -54,6 +54,8 @@ New features:
 ------------------
 
 Bug fixes:
+- Import getAllowedSizes from CMFPlone to avoid dependency on plone.app.imaging.
+  [davisagli]
 
 - Fix bug where queries would not be parsed correctly for date queries on the catalog
   vocabulary
diff --git a/plone/app/vocabularies/images.py b/plone/app/vocabularies/images.py
index 957206f..0f203c3 100644
--- a/plone/app/vocabularies/images.py
+++ b/plone/app/vocabularies/images.py
@@ -1,5 +1,5 @@
 # -*- coding: utf-8 -*-
-from plone.app.imaging.utils import getAllowedSizes
+from Products.CMFPlone.utils import getAllowedSizes
 from zope.i18nmessageid import MessageFactory
 from zope.interface import provider
 from zope.schema.interfaces import IVocabularyFactory
@@ -11,7 +11,7 @@
 
 @provider(IVocabularyFactory)
 def ScalesVocabulary(context):
-    """Obtains available scales from plone.app.imaging
+    """Obtains available scales from registry
     """
     terms = []
     for scale, (width, height) in getAllowedSizes().iteritems():
diff --git a/setup.py b/setup.py
index 3ff1a0f..908505a 100644
--- a/setup.py
+++ b/setup.py
@@ -33,7 +33,6 @@
     install_requires=[
         'Acquisition',
         'plone.app.querystring',
-        'plone.app.imaging',
         'Products.CMFCore',
         'pytz',
         'setuptools',


Repository: plone.app.vocabularies


Branch: refs/heads/master
Date: 2016-10-16T22:48:50-05:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/plone.app.vocabularies/commit/86096a8059495b96f0b7376b16ae57ba391eaf83

Merge pull request #40 from plone/davisagli-AT-cleanup

avoid dependency on plone.app.imaging

Files changed:
M CHANGES.rst
M plone/app/vocabularies/images.py
M setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 5fa15b8..49fee8e 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -54,6 +54,8 @@ New features:
 ------------------
 
 Bug fixes:
+- Import getAllowedSizes from CMFPlone to avoid dependency on plone.app.imaging.
+  [davisagli]
 
 - Fix bug where queries would not be parsed correctly for date queries on the catalog
   vocabulary
diff --git a/plone/app/vocabularies/images.py b/plone/app/vocabularies/images.py
index 957206f..0f203c3 100644
--- a/plone/app/vocabularies/images.py
+++ b/plone/app/vocabularies/images.py
@@ -1,5 +1,5 @@
 # -*- coding: utf-8 -*-
-from plone.app.imaging.utils import getAllowedSizes
+from Products.CMFPlone.utils import getAllowedSizes
 from zope.i18nmessageid import MessageFactory
 from zope.interface import provider
 from zope.schema.interfaces import IVocabularyFactory
@@ -11,7 +11,7 @@
 
 @provider(IVocabularyFactory)
 def ScalesVocabulary(context):
-    """Obtains available scales from plone.app.imaging
+    """Obtains available scales from registry
     """
     terms = []
     for scale, (width, height) in getAllowedSizes().iteritems():
diff --git a/setup.py b/setup.py
index 3ff1a0f..908505a 100644
--- a/setup.py
+++ b/setup.py
@@ -33,7 +33,6 @@
     install_requires=[
         'Acquisition',
         'plone.app.querystring',
-        'plone.app.imaging',
         'Products.CMFCore',
         'pytz',
         'setuptools',


